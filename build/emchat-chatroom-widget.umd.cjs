(function(h,O){typeof exports=="object"&&typeof module<"u"?module.exports=O(require("vue")):typeof define=="function"&&define.amd?define(["vue"],O):(h=typeof globalThis<"u"?globalThis:h||self,h["emchat-chatroom-widget"]=O(h.Vue))})(this,function(vue){"use strict";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var EasemobChat={exports:{}};(function(module,exports){(function(h,O){module.exports=O()})(commonjsGlobal,function(){return function(){var __webpack_modules__={4537:function(h){h.exports=function(O,e){for(var r=new Array(arguments.length-1),n=0,a=2,s=!0;a<arguments.length;)r[n++]=arguments[a++];return new Promise(function(i,o){r[n]=function(t){if(s)if(s=!1,t)o(t);else{for(var l=new Array(arguments.length-1),u=0;u<l.length;)l[u++]=arguments[u];i.apply(null,l)}};try{O.apply(e||null,r)}catch(t){s&&(s=!1,o(t))}})}},7419:function(h,O){var e=O;e.length=function(i){var o=i.length;if(!o)return 0;for(var t=0;--o%4>1&&i.charAt(o)==="=";)++t;return Math.ceil(3*i.length)/4-t};for(var r=new Array(64),n=new Array(123),a=0;a<64;)n[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;e.encode=function(i,o,t){for(var l,u=null,g=[],f=0,d=0;o<t;){var p=i[o++];switch(d){case 0:g[f++]=r[p>>2],l=(3&p)<<4,d=1;break;case 1:g[f++]=r[l|p>>4],l=(15&p)<<2,d=2;break;case 2:g[f++]=r[l|p>>6],g[f++]=r[63&p],d=0}f>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,g)),f=0)}return d&&(g[f++]=r[l],g[f++]=61,d===1&&(g[f++]=61)),u?(f&&u.push(String.fromCharCode.apply(String,g.slice(0,f))),u.join("")):String.fromCharCode.apply(String,g.slice(0,f))};var s="invalid encoding";e.decode=function(i,o,t){for(var l,u=t,g=0,f=0;f<i.length;){var d=i.charCodeAt(f++);if(d===61&&g>1)break;if((d=n[d])===void 0)throw Error(s);switch(g){case 0:l=d,g=1;break;case 1:o[t++]=l<<2|(48&d)>>4,l=d,g=2;break;case 2:o[t++]=(15&l)<<4|(60&d)>>2,l=d,g=3;break;case 3:o[t++]=(3&l)<<6|d,g=0}}if(g===1)throw Error(s);return t-u},e.test=function(i){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(i)}},5124:function(h){function O(e,r){typeof e=="string"&&(r=e,e=void 0);var n=[];function a(i){if(typeof i!="string"){var o=s();if(O.verbose&&console.log("codegen: "+o),o="return "+o,i){for(var t=Object.keys(i),l=new Array(t.length+1),u=new Array(t.length),g=0;g<t.length;)l[g]=t[g],u[g]=i[t[g++]];return l[g]=o,Function.apply(null,l).apply(null,u)}return Function(o)()}for(var f=new Array(arguments.length-1),d=0;d<f.length;)f[d]=arguments[++d];if(d=0,i=i.replace(/%([%dfijs])/g,function(p,m){var T=f[d++];switch(m){case"d":case"f":return String(Number(T));case"i":return String(Math.floor(T));case"j":return JSON.stringify(T);case"s":return String(T)}return"%"}),d!==f.length)throw Error("parameter count mismatch");return n.push(i),a}function s(i){return"function "+(i||r||"")+"("+(e&&e.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return a.toString=s,a}h.exports=O,O.verbose=!1},9211:function(h){function O(){this._listeners={}}h.exports=O,O.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this},O.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],a=0;a<n.length;)n[a].fn===r?n.splice(a,1):++a;return this},O.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],a=1;a<arguments.length;)n.push(arguments[a++]);for(a=0;a<r.length;)r[a].fn.apply(r[a++].ctx,n)}return this}},9054:function(h,O,e){h.exports=a;var r=e(4537),n=e(7199)("fs");function a(s,i,o){return typeof i=="function"?(o=i,i={}):i||(i={}),o?!i.xhr&&n&&n.readFile?n.readFile(s,function(t,l){return t&&typeof XMLHttpRequest<"u"?a.xhr(s,i,o):t?o(t):o(null,i.binary?l:l.toString("utf8"))}):a.xhr(s,i,o):r(a,this,s,i)}a.xhr=function(s,i,o){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===4){if(t.status!==0&&t.status!==200)return o(Error("status "+t.status));if(i.binary){var l=t.response;if(!l){l=[];for(var u=0;u<t.responseText.length;++u)l.push(255&t.responseText.charCodeAt(u))}return o(null,typeof Uint8Array<"u"?new Uint8Array(l):l)}return o(null,t.responseText)}},i.binary&&("overrideMimeType"in t&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.responseType="arraybuffer"),t.open("GET",s),t.send()}},945:function(h){function O(s){return typeof Float32Array<"u"?function(){var i=new Float32Array([-0]),o=new Uint8Array(i.buffer),t=o[3]===128;function l(d,p,m){i[0]=d,p[m]=o[0],p[m+1]=o[1],p[m+2]=o[2],p[m+3]=o[3]}function u(d,p,m){i[0]=d,p[m]=o[3],p[m+1]=o[2],p[m+2]=o[1],p[m+3]=o[0]}function g(d,p){return o[0]=d[p],o[1]=d[p+1],o[2]=d[p+2],o[3]=d[p+3],i[0]}function f(d,p){return o[3]=d[p],o[2]=d[p+1],o[1]=d[p+2],o[0]=d[p+3],i[0]}s.writeFloatLE=t?l:u,s.writeFloatBE=t?u:l,s.readFloatLE=t?g:f,s.readFloatBE=t?f:g}():function(){function i(t,l,u,g){var f=l<0?1:0;if(f&&(l=-l),l===0)t(1/l>0?0:2147483648,u,g);else if(isNaN(l))t(2143289344,u,g);else if(l>34028234663852886e22)t((f<<31|2139095040)>>>0,u,g);else if(l<11754943508222875e-54)t((f<<31|Math.round(l/1401298464324817e-60))>>>0,u,g);else{var d=Math.floor(Math.log(l)/Math.LN2);t((f<<31|d+127<<23|8388607&Math.round(l*Math.pow(2,-d)*8388608))>>>0,u,g)}}function o(t,l,u){var g=t(l,u),f=2*(g>>31)+1,d=g>>>23&255,p=8388607&g;return d===255?p?NaN:f*(1/0):d===0?1401298464324817e-60*f*p:f*Math.pow(2,d-150)*(p+8388608)}s.writeFloatLE=i.bind(null,e),s.writeFloatBE=i.bind(null,r),s.readFloatLE=o.bind(null,n),s.readFloatBE=o.bind(null,a)}(),typeof Float64Array<"u"?function(){var i=new Float64Array([-0]),o=new Uint8Array(i.buffer),t=o[7]===128;function l(d,p,m){i[0]=d,p[m]=o[0],p[m+1]=o[1],p[m+2]=o[2],p[m+3]=o[3],p[m+4]=o[4],p[m+5]=o[5],p[m+6]=o[6],p[m+7]=o[7]}function u(d,p,m){i[0]=d,p[m]=o[7],p[m+1]=o[6],p[m+2]=o[5],p[m+3]=o[4],p[m+4]=o[3],p[m+5]=o[2],p[m+6]=o[1],p[m+7]=o[0]}function g(d,p){return o[0]=d[p],o[1]=d[p+1],o[2]=d[p+2],o[3]=d[p+3],o[4]=d[p+4],o[5]=d[p+5],o[6]=d[p+6],o[7]=d[p+7],i[0]}function f(d,p){return o[7]=d[p],o[6]=d[p+1],o[5]=d[p+2],o[4]=d[p+3],o[3]=d[p+4],o[2]=d[p+5],o[1]=d[p+6],o[0]=d[p+7],i[0]}s.writeDoubleLE=t?l:u,s.writeDoubleBE=t?u:l,s.readDoubleLE=t?g:f,s.readDoubleBE=t?f:g}():function(){function i(t,l,u,g,f,d){var p=g<0?1:0;if(p&&(g=-g),g===0)t(0,f,d+l),t(1/g>0?0:2147483648,f,d+u);else if(isNaN(g))t(0,f,d+l),t(2146959360,f,d+u);else if(g>17976931348623157e292)t(0,f,d+l),t((p<<31|2146435072)>>>0,f,d+u);else{var m;if(g<22250738585072014e-324)t((m=g/5e-324)>>>0,f,d+l),t((p<<31|m/4294967296)>>>0,f,d+u);else{var T=Math.floor(Math.log(g)/Math.LN2);T===1024&&(T=1023),t(4503599627370496*(m=g*Math.pow(2,-T))>>>0,f,d+l),t((p<<31|T+1023<<20|1048576*m&1048575)>>>0,f,d+u)}}}function o(t,l,u,g,f){var d=t(g,f+l),p=t(g,f+u),m=2*(p>>31)+1,T=p>>>20&2047,c=4294967296*(1048575&p)+d;return T===2047?c?NaN:m*(1/0):T===0?5e-324*m*c:m*Math.pow(2,T-1075)*(c+4503599627370496)}s.writeDoubleLE=i.bind(null,e,0,4),s.writeDoubleBE=i.bind(null,r,4,0),s.readDoubleLE=o.bind(null,n,0,4),s.readDoubleBE=o.bind(null,a,4,0)}(),s}function e(s,i,o){i[o]=255&s,i[o+1]=s>>>8&255,i[o+2]=s>>>16&255,i[o+3]=s>>>24}function r(s,i,o){i[o]=s>>>24,i[o+1]=s>>>16&255,i[o+2]=s>>>8&255,i[o+3]=255&s}function n(s,i){return(s[i]|s[i+1]<<8|s[i+2]<<16|s[i+3]<<24)>>>0}function a(s,i){return(s[i]<<24|s[i+1]<<16|s[i+2]<<8|s[i+3])>>>0}h.exports=O(O)},7199:function(module){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(h){}return null}module.exports=inquire},8626:function(h,O){var e=O,r=e.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},n=e.normalize=function(a){var s=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),i=r(a),o="";i&&(o=s.shift()+"/");for(var t=0;t<s.length;)s[t]===".."?t>0&&s[t-1]!==".."?s.splice(--t,2):i?s.splice(t,1):++t:s[t]==="."?s.splice(t,1):++t;return o+s.join("/")};e.resolve=function(a,s,i){return i||(s=n(s)),r(s)?s:(i||(a=n(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?n(a+"/"+s):s)}},6662:function(h){h.exports=function(O,e,r){var n=r||8192,a=n>>>1,s=null,i=n;return function(o){if(o<1||o>a)return O(o);i+o>n&&(s=O(n),i=0);var t=e.call(s,i,i+=o);return 7&i&&(i=1+(7|i)),t}}},4997:function(h,O){var e=O;e.length=function(r){for(var n=0,a=0,s=0;s<r.length;++s)(a=r.charCodeAt(s))<128?n+=1:a<2048?n+=2:(64512&a)==55296&&(64512&r.charCodeAt(s+1))==56320?(++s,n+=4):n+=3;return n},e.read=function(r,n,a){if(a-n<1)return"";for(var s,i=null,o=[],t=0;n<a;)(s=r[n++])<128?o[t++]=s:s>191&&s<224?o[t++]=(31&s)<<6|63&r[n++]:s>239&&s<365?(s=((7&s)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++])-65536,o[t++]=55296+(s>>10),o[t++]=56320+(1023&s)):o[t++]=(15&s)<<12|(63&r[n++])<<6|63&r[n++],t>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),t=0);return i?(t&&i.push(String.fromCharCode.apply(String,o.slice(0,t))),i.join("")):String.fromCharCode.apply(String,o.slice(0,t))},e.write=function(r,n,a){for(var s,i,o=a,t=0;t<r.length;++t)(s=r.charCodeAt(t))<128?n[a++]=s:s<2048?(n[a++]=s>>6|192,n[a++]=63&s|128):(64512&s)==55296&&(64512&(i=r.charCodeAt(t+1)))==56320?(s=65536+((1023&s)<<10)+(1023&i),++t,n[a++]=s>>18|240,n[a++]=s>>12&63|128,n[a++]=s>>6&63|128,n[a++]=63&s|128):(n[a++]=s>>12|224,n[a++]=s>>6&63|128,n[a++]=63&s|128);return a-o}},4188:function(h,O,e){var r,n,a;(function(s){if(O!=null&&typeof O.nodeType!="number")h.exports=s();else if(e.amdO!=null)n=[],(a=typeof(r=s)=="function"?r.apply(O,n):r)===void 0||(h.exports=a);else{var i=s(),o=typeof self<"u"?self:$.global;typeof o.btoa!="function"&&(o.btoa=i.btoa),typeof o.atob!="function"&&(o.atob=i.atob)}})(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(o){this.message=o}return i.prototype=new Error,i.prototype.name="InvalidCharacterError",{btoa:function(o){for(var t,l,u=String(o),g=0,f=s,d="";u.charAt(0|g)||(f="=",g%1);d+=f.charAt(63&t>>8-g%1*8)){if((l=u.charCodeAt(g+=.75))>255)throw new i("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|l}return d},atob:function(o){var t=String(o).replace(/[=]+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var l,u,g=0,f=0,d="";u=t.charAt(f++);~u&&(l=g%4?64*l+u:u,g++%4)?d+=String.fromCharCode(255&l>>(-2*g&6)):0)u=s.indexOf(u);return d}}})},9667:function(h,O,e){e.r(O),e.d(O,{addUsersToChatRoom:function(){return I},addUsersToChatRoomAllowlist:function(){return Ce},addUsersToChatRoomWhitelist:function(){return Be},blockChatRoomMember:function(){return le},blockChatRoomMembers:function(){return Ee},chatRoomBlockMulti:function(){return de},chatRoomBlockSingle:function(){return oe},createChatRoom:function(){return u},deleteChatRoomSharedFile:function(){return q},destroyChatRoom:function(){return g},disableSendChatRoomMsg:function(){return Oe},enableSendChatRoomMsg:function(){return Ae},fetchChatRoomAnnouncement:function(){return Ie},fetchChatRoomSharedFileList:function(){return w},getChatRoomAdmin:function(){return y},getChatRoomAllowlist:function(){return xe},getChatRoomAttributes:function(){return E},getChatRoomBlacklist:function(){return fe},getChatRoomBlacklistNew:function(){return ne},getChatRoomBlocklist:function(){return Y},getChatRoomDetails:function(){return f},getChatRoomMuteList:function(){return K},getChatRoomMuted:function(){return F},getChatRoomMutelist:function(){return Z},getChatRoomSharedFilelist:function(){return X},getChatRoomWhitelist:function(){return Ge},getChatRooms:function(){return l},isChatRoomWhiteUser:function(){return De},isInChatRoomAllowlist:function(){return ge},isInChatRoomMutelist:function(){return be},joinChatRoom:function(){return v},leaveChatRoom:function(){return k},listChatRoomMember:function(){return A},listChatRoomMembers:function(){return R},modifyChatRoom:function(){return d},muteChatRoomMember:function(){return j},quitChatRoom:function(){return N},removeChatRoomAdmin:function(){return L},removeChatRoomAllowlistMember:function(){return je},removeChatRoomAttribute:function(){return P},removeChatRoomAttributes:function(){return C},removeChatRoomBlockMulti:function(){return ue},removeChatRoomBlockSingle:function(){return re},removeChatRoomMember:function(){return m},removeChatRoomMembers:function(){return c},removeChatRoomWhitelistMember:function(){return ke},removeMultiChatRoomMember:function(){return T},removeMuteChatRoomMember:function(){return H},removeSingleChatRoomMember:function(){return p},rmUsersFromChatRoomWhitelist:function(){return Ue},setChatRoomAdmin:function(){return U},setChatRoomAttribute:function(){return x},setChatRoomAttributes:function(){return b},unblockChatRoomMember:function(){return z},unblockChatRoomMembers:function(){return Q},unmuteChatRoomMember:function(){return ee},updateChatRoomAnnouncement:function(){return Se},uploadChatRoomSharedFile:function(){return D}}),e(1539),e(8674),e(8309),e(2526),e(1817),e(2222),e(9753),e(9600),e(2165),e(6992),e(8783),e(3948);var r=e(5531),n=e(7252),a=e(4370),s=e(3246),i=e(7360),o=e(1595);function t(_){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(_)}function l(_){var S=this;if(typeof _.pagenum!="number"||typeof _.pagesize!="number")throw Error("Invalid parameter");if(!s.XZ.call(this)){var W=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(W)}var M={pagenum:_.pagenum||1,pagesize:_.pagesize||20},G=this.context,te=G.orgName,ce=G.appName,ye=G.accessToken,B={url:this.apiUrl+"/"+te+"/"+ce+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+ye},data:M,success:function(J){typeof _.success=="function"&&_.success(J)},error:function(J){J.error&&J.error_description&&S.onError&&S.onError({type:r.E.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:J.error_description,data:J}),typeof _.error=="function"&&_.error(J)}};return i.kg.debug("Call getChatRooms",_),a.hj.call(this,B,o.fI.GET_CHATROOM_LIST)}function u(_){if(typeof _.name!="string")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W={name:_.name,description:_.description,maxusers:_.maxusers,owner:this.user,members:_.members},M=this.context,G=M.orgName,te=M.appName,ce=(M.accessToken,M.jid),ye={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(te,"/chatrooms?resource=").concat(ce.clientResource),dataType:"json",type:"POST",data:JSON.stringify(W),headers:{Authorization:"Bearer "+_.token||0,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call createChatRoom",_),a.hj.call(this,ye,o.fI.CREATE_CHATROOM)}function g(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=(W.accessToken,W.jid),ce={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(_.chatRoomId,"?resource=").concat(te.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+_.token||0},success:_.success,error:_.error};return i.kg.debug("Call destroyChatRoom",_),a.hj.call(this,ce,o.fI.DESTROY_CHATROOM)}function f(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce={url:this.apiUrl+"/"+M+"/"+G+"/chatrooms/"+_.chatRoomId,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call getChatRoomDetails",_),a.hj.call(this,ce,o.fI.GET_CHATROOM_DETAIL)}function d(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={groupname:_.chatRoomName,description:_.description,maxusers:_.maxusers},J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"?resource=").concat(ce.clientResource),type:"PUT",data:JSON.stringify(B),dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call modifyChatRoom",_),a.hj.call(this,J,o.fI.MODIFY_CHATROOM)}function p(_){if(typeof _.chatRoomId!="string"||_.chatRoomId===""||typeof _.username!="string")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B=_.username,J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/users/").concat(B,"?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call removeChatRoomMember",_),a.hj.call(this,J,o.fI.REMOVE_CHATROOM_MEMBER)}var m=p;function T(_){if(typeof _.chatRoomId!="string"||_.chatRoomId===""||!Array.isArray(_.users))throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=_.chatRoomId,M=_.users.join(","),G=this.context,te=G.orgName,ce=G.appName,ye=G.accessToken,B=G.jid,J={url:"".concat(this.apiUrl,"/").concat(te,"/").concat(ce,"/chatrooms/").concat(W,"/users/").concat(M,"?resource=").concat(B.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+ye,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call removeChatRoomMembers",_),a.hj.call(this,J,o.fI.MULTI_REMOVE_CHATROOM_MEMBER)}var c=T;function I(_){if(typeof _.chatRoomId!="string"||_.chatRoomId===""||!Array.isArray(_.users))throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=_.chatRoomId,M={usernames:_.users},G=this.context,te=G.orgName,ce=G.appName,ye=G.accessToken,B=G.jid,J={url:"".concat(this.apiUrl,"/").concat(te,"/").concat(ce,"/chatrooms/").concat(W,"/users?resource=").concat(B.clientResource),type:"POST",data:JSON.stringify(M),dataType:"json",headers:{Authorization:"Bearer "+ye,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call addUsersToChatRoom",_),a.hj.call(this,J,o.fI.ADD_USERS_TO_CHATROOM)}function v(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}return i.kg.debug("Call joinChatRoom",_),this.mSync.handleChatRoom(_,"join")}function N(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}return i.kg.debug("Call leaveChatRoom",_),this.mSync.handleChatRoom(_,"leave")}var k=N;function A(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(isNaN(_.pageNum)||_.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(_.pageSize)||_.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W={pagenum:_.pageNum,pagesize:_.pageSize},M=this.context,G=M.orgName,te=M.appName,ce=M.accessToken,ye={url:this.apiUrl+"/"+G+"/"+te+"/chatrooms/"+_.chatRoomId+"/users",dataType:"json",type:"GET",data:W,headers:{Authorization:"Bearer "+ce,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call listChatRoomMembers",_),a.hj.call(this,ye,o.fI.LIST_CHATROOM_MEMBERS)}var R=A;function y(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.chatRoomId,ye={url:this.apiUrl+"/"+M+"/"+G+"/chatrooms/"+ce+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call getChatRoomAdmin",_),a.hj.call(this,ye,o.fI.GET_CHATROOM_ADMIN)}function U(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.username!="string"||_.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={newadmin:_.username},J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/admin?resource=").concat(ce.clientResource),type:"POST",dataType:"json",data:JSON.stringify(B),headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call setChatRoomAdmin",_),a.hj.call(this,J,o.fI.SET_CHATROOM_ADMIN)}function L(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.username!="string"||_.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B=_.username,J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/admin/").concat(B,"?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call removeChatRoomAdmin",_),a.hj.call(this,J,o.fI.REMOVE_CHATROOM_ADMIN)}function j(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "groupId"');if(typeof _.username!="string"||_.username==="")throw Error('Invalid parameter: "username"');if(typeof _.muteDuration!="number")throw Error('Invalid parameter: "muteDuration"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={usernames:[_.username],mute_duration:_.muteDuration},J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/mute?resource=").concat(ce.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},data:JSON.stringify(B),success:_.success,error:_.error};return i.kg.debug("Call muteChatRoomMember",_),a.hj.call(this,J,o.fI.MUTE_CHATROOM_MEMBER)}function H(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.username!="string"||_.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B=_.username,J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/mute/").concat(B,"?resource=").concat(ce.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call unmuteChatRoomMember",_),a.hj.call(this,J,o.fI.REMOVE_MUTE_CHATROOM_MEMBER)}var ee=H;function F(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.chatRoomId,ye={url:this.apiUrl+"/"+M+"/"+G+"/chatrooms/"+ce+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call getChatRoomMutelist",_),a.hj.call(this,ye,o.fI.GET_MUTE_CHATROOM_MEMBERS)}var K=F,Z=F;function oe(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.username!="string"||_.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B=_.username,J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/blocks/users/").concat(B,"?resource=").concat(ce.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call blockChatRoomMember",_),a.hj.call(this,J,o.fI.SET_CHATROOM_MEMBER_TO_BLACK)}var le=oe;function de(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(_.usernames))throw Error('Invalid parameter: "usernames"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={usernames:_.usernames},J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/blocks/users?resource=").concat(ce.clientResource),data:JSON.stringify(B),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Chat blockChatRoomMembers:",J),a.hj.call(this,J,o.fI.MULTI_SET_CHATROOM_MEMBER_TO_BLACK)}var Ee=de;function re(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.username!="string"||_.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B=_.username,J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/blocks/users/").concat(B,"?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call unblockChatRoomMember",_),a.hj.call(this,J,o.fI.REMOVE_CHATROOM_MEMBER_BLACK)}var z=re;function ue(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(_.usernames))throw Error('Invalid parameter: "usernames"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B=_.usernames.join(","),J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/blocks/users/").concat(B,"?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call unblockChatRoomMembers",_),a.hj.call(this,J,o.fI.MULTI_REMOVE_CHATROOM_MEMBER_BLACK)}var Q=ue;function ne(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.chatRoomId,ye={url:this.apiUrl+"/"+M+"/"+G+"/chatrooms/"+ce+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call getChatRoomBlocklist",_),a.hj.call(this,ye,o.fI.GET_CHATROOM_BLOCK_MEMBERS)}var fe=ne,Y=ne;function Oe(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/ban?resource=").concat(ce.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call disableSendChatRoomMsg",_),a.hj.call(this,B,o.fI.DISABLED_CHATROOM_SEND_MSG)}function Ae(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/ban?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call enableSendChatRoomMsg",_),a.hj.call(this,B,o.fI.ENABLE_CHATROOM_SEND_MSG)}function Be(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(_.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={usernames:_.users},J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/white/users?resource=").concat(ce.clientResource),type:"POST",data:JSON.stringify(B),dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call addUsersToChatRoomWhitelist",_),a.hj.call(this,J,o.fI.ADD_USERS_TO_CHATROOM)}var Ce=Be;function Ue(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.userName!="string"||_.userName==="")throw Error('Invalid parameter: "userName"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.chatRoomId,B={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/white/users/").concat(_.userName,"?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call removeChatRoomAllowlistMember",_),a.hj.call(this,B,o.fI.REMOVE_CHATROOM_WHITE_USERS)}var ke=Ue,je=Ue;function Ge(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.chatRoomId,ye={url:this.apiUrl+"/"+M+"/"+G+"/chatrooms/"+ce+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call getChatRoomAllowlist",_),a.hj.call(this,ye,o.fI.GET_CHATROOM_WHITE_USERS)}var xe=Ge;function De(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(typeof _.userName!="string"||_.userName==="")throw Error('Invalid parameter: "userName"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.chatRoomId,ye={url:this.apiUrl+"/"+M+"/"+G+"/chatrooms/"+ce+"/white/users/"+_.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call isInChatRoomAllowlist",_),a.hj.call(this,ye,o.fI.CHECK_CHATROOM_WHITE_USER)}var ge=De;function be(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.userId,ye={url:this.apiUrl+"/"+M+"/"+G+"/sdk/chatrooms/"+_.chatRoomId+"/mute/"+ce,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+te}};return i.kg.debug("Call isInChatRoomMutelist",_),a.hj.call(this,ye).then(function(B){return B.data})}function Ie(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error('Invalid parameter: "roomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.roomId,ye={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ce,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call fetchChatRoomAnnouncement",_),a.hj.call(this,ye,o.fI.GET_CHATROOM_ANN)}function Se(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error('Invalid parameter: "roomId"');if(typeof _.announcement!="string")throw Error('Invalid parameter: "announcement"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.roomId,B={announcement:_.announcement},J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/announcement?resource=").concat(ce.clientResource),type:"POST",dataType:"json",data:JSON.stringify(B),headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call updateChatRoomAnnouncement:",_),a.hj.call(this,J,o.fI.UPDATE_CHATROOM_ANN)}function D(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error('Invalid parameter: "roomId"');if(t(_.file)!=="object")throw Error('Invalid parameter: "file"');if(s.XZ.call(this)){var S=this.context,W=S.orgName,M=S.appName,G=S.accessToken,te=S.jid,ce=_.roomId;a.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(W,"/").concat(M,"/chatrooms/").concat(ce,"/share_files?resource=").concat(te.clientResource),onFileUploadProgress:_.onFileUploadProgress,onFileUploadComplete:_.onFileUploadComplete,onFileUploadError:_.onFileUploadError,onFileUploadCanceled:_.onFileUploadCanceled,accessToken:G,apiUrl:this.apiUrl,file:_.file,appKey:this.context.appKey},o.fI.UPLOAD_CHATROOM_FILE),i.kg.debug("Call uploadChatRoomSharedFile",_)}}function q(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error('Invalid parameter: "roomId"');if(typeof _.fileId!="string"||_.fileId==="")throw Error('Invalid parameter: "fileId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.jid,ye=_.roomId,B=_.fileId,J={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ye,"/share_files/").concat(B,"?resource=").concat(ce.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"},success:_.success,error:_.error};return i.kg.debug("Call deleteChatRoomSharedFile",_),a.hj.call(this,J,o.fI.DELETE_CHATROOM_FILE)}function w(_){if(typeof _.roomId!="string"||_.roomId==="")throw Error('Invalid parameter: "roomId"');if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=_.roomId,ye={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/chatrooms/").concat(ce,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+te,"Content-Type":"application/json",accept:"application/json"},success:_.success,error:_.error};return i.kg.debug("Call fetchChatRoomSharedFileList",_),a.hj.call(this,ye,o.fI.GET_CHATROOM_FILES)}var X=w;function E(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+_.chatRoomId);if(_.attributeKeys&&!Array.isArray(_.attributeKeys))throw Error('"Invalid parameter attributeKeys": '+_.attributeKeys);if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=(W.jid,_.chatRoomId),ye={keys:_.attributeKeys},B={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/metadata/chatroom/").concat(ce),type:"POST",dataType:"json",data:JSON.stringify(ye),headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"}};return i.kg.debug("Call getChatRoomAttributes:",_),a.hj.call(this,B,o.fI.GET_CHATROOM_ATTR).then(function(J){return{data:J.data,type:J.type}})}function b(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+_.chatRoomId);if(t(_.attributes)!=="object")throw Error("Invalid parameter attributes: "+_.attributes);if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.userId,ye=_.chatRoomId,B=_.attributes,J=_.autoDelete,ae=J===void 0||J,ie=_.isForced?"/forced":"",Me={metaData:B,autoDelete:ae?"DELETE":"NO_DELETE"},Ze={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/metadata/chatroom/").concat(ye,"/user/").concat(ce)+ie,type:"PUT",dataType:"json",data:JSON.stringify(Me),headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"}};return i.kg.debug("Call setChatRoomAttributes:",_),a.hj.call(this,Ze,o.fI.SET_CHATROOM_ATTR).then(function(Re){return(0,s._W)(Re)})}function x(_){var S;if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+_.chatRoomId);if(typeof _.attributeKey!="string"||_.attributeKey==="")throw Error("Invalid parameter attributeKey: "+_.attributeKey);if(typeof _.attributeValue!="string"||_.attributeValue==="")throw Error("Invalid parameter attributeValue: "+_.attributeValue);if(!s.XZ.call(this)){var W=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(W)}var M=this.context,G=M.orgName,te=M.appName,ce=M.accessToken,ye=M.userId,B=_.chatRoomId,J=_.attributeKey,ae=_.attributeValue,ie=_.autoDelete,Me=ie===void 0||ie,Ze=_.isForced?"/forced":"",Re={metaData:(S={},S[J]=ae,S),autoDelete:Me?"DELETE":"NO_DELETE"},Ke={url:"".concat(this.apiUrl,"/").concat(G,"/").concat(te,"/metadata/chatroom/").concat(B,"/user/").concat(ye)+Ze,type:"PUT",dataType:"json",data:JSON.stringify(Re),headers:{Authorization:"Bearer "+ce,"Content-Type":"application/json"}};return i.kg.debug("Call setChatRoomAttribute:",_),a.hj.call(this,Ke,o.fI.SET_CHATROOM_ATTR).then(function(pe){var Xe=(0,s.H7)(pe);if(Xe)throw Xe})}function C(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+_.chatRoomId);if(!Array.isArray(_.attributeKeys))throw Error('"Invalid parameter attributes": '+_.attributeKeys);if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.userId,ye=_.chatRoomId,B=_.attributeKeys,J=_.isForced?"/forced":"",ae={keys:B},ie={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/metadata/chatroom/").concat(ye,"/user/").concat(ce)+J,type:"DELETE",dataType:"json",data:JSON.stringify(ae),headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"}};return i.kg.debug("Call removeChatRoomAttributes:",_),a.hj.call(this,ie,o.fI.DELETE_CHATROOM_ATTR).then(function(Me){return(0,s._W)(Me)})}function P(_){if(typeof _.chatRoomId!="string"||_.chatRoomId==="")throw Error("Invalid parameter chatRoomId: "+_.chatRoomId);if(typeof _.attributeKey!="string"||_.attributeKey==="")throw Error('"Invalid parameter attributeKey": '+_.attributeKey);if(!s.XZ.call(this)){var S=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(S)}var W=this.context,M=W.orgName,G=W.appName,te=W.accessToken,ce=W.userId,ye=_.chatRoomId,B=_.attributeKey,J=_.isForced?"/forced":"",ae={keys:[B]},ie={url:"".concat(this.apiUrl,"/").concat(M,"/").concat(G,"/metadata/chatroom/").concat(ye,"/user/").concat(ce)+J,type:"DELETE",dataType:"json",data:JSON.stringify(ae),headers:{Authorization:"Bearer "+te,"Content-Type":"application/json"}};return i.kg.debug("Call removeChatRoomAttribute:",_),a.hj.call(this,ie,o.fI.DELETE_CHATROOM_ATTR).then(function(Me){var Ze=(0,s.H7)(Me);if(Ze)throw Ze})}},4363:function(h,O,e){e.d(O,{w:function(){return a}}),e(9601),e(2772);var r=e(7360),n=function(){return n=Object.assign||function(s){for(var i,o=1,t=arguments.length;o<t;o++)for(var l in i=arguments[o])Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l]);return s},n.apply(this,arguments)};function a(s){var i,o,t,l=s.id,u=s.payload,g=s.timestamp,f=s.to,d=u.bodies&&u.bodies.length>0?u.bodies[0]:{},p={},m={},T=u.type?u.type:f.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";switch(T=T==="chat"?"singleChat":T,d.type){case"txt":var c=(i=u==null?void 0:u.meta)===null||i===void 0?void 0:i.edit_msg;if(p={id:l,type:"txt",chatType:T,msg:d.msg||"",to:u.to||"",from:u.from,time:g,ext:u.ext},c){var I=c.edit_time,v=c.operator,N=c.count;p.modifiedInfo={operationTime:I,operatorId:v,operationCount:N}}break;case"img":p={id:l,type:"img",chatType:T,to:u.to,from:u.from,time:g,ext:u.ext,width:((o=d.size)===null||o===void 0?void 0:o.width)||0,height:((t=d.size)===null||t===void 0?void 0:t.height)||0,secret:d.secret||"",url:(d==null?void 0:d.url)||"",file_length:d.file_length||0,file:{}};break;case"video":p={id:l,type:"video",chatType:T,from:u.from,to:u.to,url:(d==null?void 0:d.url)||"",secret:d.secret||"",filename:d.filename,length:d.length||0,file:{},file_length:d.file_length||0,filetype:u.ext.file_type||"",ext:u.ext,time:g};break;case"loc":p={id:l,type:"loc",chatType:T,from:u.from,to:u.to,buildingName:d.buildingName||"",addr:d.addr,lat:d.lat,lng:d.lng,ext:u.ext,time:g};break;case"audio":p={id:l,type:"audio",chatType:T,from:u.from,to:u.to,secret:d.secret||"",ext:u.ext,time:g,url:(d==null?void 0:d.url)||"",file:{},filename:d.filename,length:d.length||0,file_length:d.file_length||0,filetype:u.ext.file_type||""};break;case"file":p={id:l,type:"file",chatType:T,from:u.from,to:u.to,ext:u.ext,time:g,url:(d==null?void 0:d.url)||"",secret:d.secret||"",file:{},filename:d.filename||"",file_length:d.file_length||0,filetype:u.ext.file_type||""};break;case"cmd":p={id:l,type:"cmd",chatType:T,from:u.from,to:u.to,ext:u.ext,time:g,action:d.action||""};break;case"custom":p={id:l,type:"custom",chatType:T,from:u.from,to:u.to,ext:u.ext,time:g,customEvent:d.customEvent||"",customExts:d.customExts||""};break;case"combine":p={id:l,type:"combine",chatType:T,msg:d.msg||"",to:u.to||"",from:u.from,time:g,ext:u.ext,title:d.title||"",summary:d.summary||"",url:(d==null?void 0:d.url)||"",compatibleText:d.text,combineLevel:d.combineLevel||0,secret:d.secret||"",filename:d.filename||"",file_length:d.file_length||0};break;default:r.kg.error("unexpected message: ".concat(s))}if(u.msgConfig&&(m.msgConfig=u.msgConfig),u==null?void 0:u.meta){var k=u.meta;k.thread&&(m.chatThread={messageId:k.thread.msg_parent_id,parentId:k.thread.muc_parent_id,chatThreadName:k.thread.thread_name}),k.reactions&&(m.reactions=k.reactions),k.translations&&(m.translations=k.translations)}return n(n({},p),m)}},2856:function(h,O,e){e.r(O),e.d(O,{acceptGroupInvite:function(){return Q},acceptGroupJoinRequest:function(){return Ee},addUsersToGroupAllowlist:function(){return S},addUsersToGroupWhitelist:function(){return _},agreeInviteIntoGroup:function(){return ue},agreeJoinGroup:function(){return de},blockGroup:function(){return g},blockGroupMember:function(){return be},blockGroupMembers:function(){return Se},blockGroupMessages:function(){return f},changeGroupOwner:function(){return I},changeOwner:function(){return c},createGroup:function(){return u},createGroupNew:function(){return l},deleteGroupSharedFile:function(){return Ke},destroyGroup:function(){return ee},disableSendGroupMsg:function(){return C},dissolveGroup:function(){return H},downloadGroupSharedFile:function(){return qe},enableSendGroupMsg:function(){return P},fetchGroupAnnouncement:function(){return Me},fetchGroupSharedFileList:function(){return pe},getGroup:function(){return m},getGroupAdmin:function(){return R},getGroupAllowlist:function(){return ce},getGroupBlacklist:function(){return b},getGroupBlacklistNew:function(){return E},getGroupBlocklist:function(){return x},getGroupInfo:function(){return v},getGroupMemberAttributes:function(){return it},getGroupMembersAttributes:function(){return at},getGroupMsgReadUser:function(){return ie},getGroupMuteList:function(){return xe},getGroupMutelist:function(){return De},getGroupSharedFilelist:function(){return Xe},getGroupWhitelist:function(){return te},getJoinedGroups:function(){return T},getMuted:function(){return Ge},getPublicGroups:function(){return p},groupBlockMulti:function(){return Ie},groupBlockSingle:function(){return ge},inviteToGroup:function(){return Z},inviteUsersToGroup:function(){return oe},isGroupWhiteUser:function(){return ye},isInGroupAllowlist:function(){return J},isInGroupMutelist:function(){return ae},isInGroupWhiteList:function(){return B},joinGroup:function(){return le},leaveGroup:function(){return K},listGroupMember:function(){return k},listGroupMembers:function(){return A},listGroups:function(){return d},modifyGroup:function(){return N},mute:function(){return Ce},muteGroupMember:function(){return Ue},quitGroup:function(){return F},rejectGroupInvite:function(){return fe},rejectGroupJoinRequest:function(){return z},rejectInviteIntoGroup:function(){return ne},rejectJoinGroup:function(){return re},removeAdmin:function(){return L},removeGroupAdmin:function(){return j},removeGroupAllowlistMember:function(){return G},removeGroupBlockMulti:function(){return w},removeGroupBlockSingle:function(){return D},removeGroupMember:function(){return Oe},removeGroupMembers:function(){return Be},removeGroupWhitelistMember:function(){return M},removeMultiGroupMember:function(){return Ae},removeMute:function(){return ke},removeSingleGroupMember:function(){return Y},rmUsersFromGroupWhitelist:function(){return W},setAdmin:function(){return y},setGroupAdmin:function(){return U},setGroupMemberAttributes:function(){return ze},unblockGroupMember:function(){return q},unblockGroupMembers:function(){return X},unmuteGroupMember:function(){return je},updateGroupAnnouncement:function(){return Ze},uploadGroupSharedFile:function(){return Re}}),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(2222),e(6699),e(2023),e(9554),e(4747),e(8309),e(9753),e(9600);var r=e(5531),n=e(7252),a=e(4370),s=e(3246),i=e(7360),o=e(1595);function t(V){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},t(V)}function l(V){if(!V||!V.data)throw Error("Invalid parameter");if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups?resource=").concat(He.clientResource),dataType:"json",type:"POST",data:JSON.stringify({owner:this.user,groupname:V.data.groupname,desc:V.data.desc,members:V.data.members,public:V.data.public,approval:V.data.approval,allowinvites:V.data.allowinvites,invite_need_confirm:V.data.inviteNeedConfirm,maxusers:V.data.maxusers,custom:V.data.ext}),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:function(_e){V.success&&V.success(_e)},error:V.error};return i.kg.debug("Call createGroup:",V),a.hj.call(this,se,o.fI.CREATE_GROUP)}var u=l;function g(V){var Pe;if(typeof V.groupId!="string"||V.groupId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var Te=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Te)}var we=this.context,Le=we.orgName,Fe=we.appName,He=we.accessToken,se=we.jid,_e={entities:[(Pe={},Pe["notification_ignore_"+V.groupId]=!0,Pe)]},ve={type:"PUT",url:"".concat(this.apiUrl,"/").concat(Le,"/").concat(Fe,"/users/").concat(this.user,"?resource=").concat(se.clientResource),data:JSON.stringify(_e),dataType:"json",headers:{Authorization:"Bearer "+He,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call blockGroupMessages",V),a.hj.call(this,ve,o.fI.BLOCK_GROUP)}var f=g;function d(V){if(typeof V.limit!="number")throw Error("Invalid parameter");if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He={limit:V.limit,cursor:V.cursor};V.cursor||delete He.cursor;var se={url:this.apiUrl+"/"+we+"/"+Le+"/publicchatgroups",type:"GET",dataType:"json",data:He,headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call listGroups",V),a.hj.call(this,se,o.fI.LIST_GROUP)}var p=d;function m(V){if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He={url:this.apiUrl+"/"+we+"/"+Le+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V&&(V==null?void 0:V.success),error:V&&(V==null?void 0:V.error)};return i.kg.debug("Call getJoinedGroups",V),a.hj.call(this,He,o.fI.GET_USER_GROUP)}function T(V){if(typeof V.pageNum!="number"||typeof V.pageSize!="number")throw Error('Invalid parameter: "pageNum or pageSize"');if(V.pageNum<0||V.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.needAffiliations||V.needRole?"/chatgroups/user/".concat(this.user,"?pagenum=").concat(V.pageNum,"&pagesize=").concat(V.pageSize,"&needAffiliations=").concat(V.needAffiliations,"&needRole=").concat(V.needRole):"/users/".concat(this.user,"/joined_chatgroups?pagenum=").concat(V.pageNum,"&pagesize=").concat(V.pageSize),se={url:this.apiUrl+"/"+we+"/"+Le+He,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V&&(V==null?void 0:V.success),error:V&&(V==null?void 0:V.error)};return i.kg.debug("Call getGroup",V),a.hj.call(this,se,o.fI.GET_USER_GROUP).then(function(_e){var ve=_e.uri,Je=_e.entities,me=[];return ve.includes("joined_chatgroups")||(Je.forEach(function(et){var Qe={affiliationsCount:et.affiliations_count,groupName:et.name,groupId:et.groupId,role:et.permission,disabled:et.disabled,approval:et.membersonly,allowInvites:et.allowinvites,description:et.description,maxUsers:et.maxusers,public:et.public};me.push(Qe)}),_e.entities=me),_e})}function c(V){if(typeof V.groupId!="string"||typeof V.newOwner!="string")throw Error("Invalid parameter");if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te={newowner:V.newOwner},we=this.context,Le=we.orgName,Fe=we.appName,He=we.accessToken,se=we.jid,_e={url:"".concat(this.apiUrl,"/").concat(Le,"/").concat(Fe,"/chatgroups/").concat(V.groupId,"?resource=").concat(se.clientResource),type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+He,"Content-Type":"application/json"},data:JSON.stringify(Te),success:V.success,error:V.error};return i.kg.debug("Call changeOwner",V),a.hj.call(this,_e,o.fI.CHANGE_OWNER)}var I=c;function v(V){if(typeof V.groupId!="string"&&!Array.isArray(V.groupId))throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+V.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call getGroupInfo",V),a.hj.call(this,He,o.fI.GET_GROUP_INFO)}function N(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error("Invalid parameter");if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={groupname:V.groupName,description:V.description,custom:V.ext},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"?resource=").concat(He.clientResource),type:"PUT",data:JSON.stringify(_e),dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call modifyGroup",V),a.hj.call(this,ve,o.fI.MODIFY_GROUP)}function k(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(isNaN(V.pageNum)||V.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(V.pageSize)||V.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te={pagenum:V.pageNum,pagesize:V.pageSize},we=this.context,Le=we.orgName,Fe=we.appName,He=we.accessToken,se={url:this.apiUrl+"/"+Le+"/"+Fe+"/chatgroups/"+V.groupId+"/users",dataType:"json",type:"GET",data:Te,headers:{Authorization:"Bearer "+He,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call listGroupMember",V),a.hj.call(this,se,o.fI.LIST_GROUP_MEMBER)}var A=k;function R(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.groupId,se={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+He+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call getGroupAdmin",V),a.hj.call(this,se,o.fI.GET_GROUP_ADMIN)}function y(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={newadmin:V.username},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/admin?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call setGroupAdmin",V),a.hj.call(this,ve,o.fI.SET_GROUP_ADMIN)}var U=y;function L(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.username,ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/admin/").concat(_e,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call removeAdmin",V),a.hj.call(this,ve,o.fI.REMOVE_GROUP_ADMIN)}var j=L;function H(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"?version=v3&resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call destroyGroup",V),a.hj.call(this,_e,o.fI.DISSOLVE_GROUP)}var ee=H;function F(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/quit?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call quitGroup",V),a.hj.call(this,_e,o.fI.QUIT_GROUP)}var K=F;function Z(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=V.groupId,we={usernames:V.users},Le=this.context,Fe=Le.orgName,He=Le.appName,se=Le.accessToken,_e=Le.jid,ve={url:"".concat(this.apiUrl,"/").concat(Fe,"/").concat(He,"/chatgroups/").concat(Te,"/invite?resource=").concat(_e.clientResource),type:"POST",data:JSON.stringify(we),dataType:"json",headers:{Authorization:"Bearer "+se,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call inviteUsersToGroup",V),a.hj.call(this,ve,o.fI.INVITE_TO_GROUP)}var oe=Z;function le(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(V.groupId,"/apply?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify({message:V.message||""}),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call joinGroup",V),a.hj.call(this,se,o.fI.JOIN_GROUP)}function de(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.applicant!="string"||V.applicant==="")throw Error('Invalid parameter: "applicant"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={applicant:V.applicant,verifyResult:!0,reason:"no clue"},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/apply_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call agreeJoinGroup",V),a.hj.call(this,ve,o.fI.AGREE_JOIN_GROUP)}var Ee=de;function re(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.applicant!="string"||V.applicant==="")throw Error('Invalid parameter: "applicant"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={applicant:V.applicant,verifyResult:!1,reason:V.reason||""},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/apply_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call rejectGroupJoinRequest",V),a.hj.call(this,ve,o.fI.REJECT_JOIN_GROUP)}var z=re;function ue(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.invitee!="string"||V.invitee==="")throw Error('Invalid parameter: "invitee"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={invitee:V.invitee,verifyResult:!0},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/invite_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call acceptGroupInvite",V),a.hj.call(this,ve,o.fI.AGREE_INVITE_GROUP)}var Q=ue;function ne(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.invitee!="string"||V.invitee==="")throw Error('Invalid parameter: "invitee"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={invitee:V.invitee,verifyResult:!1},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/invite_verify?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call rejectGroupInvite",V),a.hj.call(this,ve,o.fI.REJECT_INVITE_GROUP)}var fe=ne;function Y(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=V.groupId,we=V.username,Le=this.context,Fe=Le.orgName,He=Le.appName,se=Le.accessToken,_e=Le.jid,ve={url:"".concat(this.apiUrl,"/").concat(Fe,"/").concat(He,"/chatgroups/").concat(Te,"/users/").concat(we,"?resource=").concat(_e.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+se,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call removeGroupMember",V),a.hj.call(this,ve,o.fI.REMOVE_GROUP_MEMBER)}var Oe=Y;function Ae(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.users.join(","),ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/users/").concat(_e,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call removeGroupMembers",V),a.hj.call(this,ve,o.fI.MULTI_REMOVE_GROUP_MEMBER)}var Be=Ae;function Ce(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(V.username)||typeof V.username=="string"&&V.username!==""))throw Error('Invalid parameter: "username"');if(typeof V.muteDuration!="number")throw Error('Invalid parameter: "muteDuration"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={usernames:typeof V.username=="string"?[V.username]:V.username,mute_duration:V.muteDuration},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/mute?resource=").concat(He.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},data:JSON.stringify(_e),success:V.success,error:V.error};return i.kg.debug("Call muteGroupMember",V),a.hj.call(this,ve,o.fI.MUTE_GROUP_MEMBER)}var Ue=Ce;function ke(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(V.username)||typeof V.username=="string"&&V.username!==""))throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.username,ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/mute/").concat(_e,"?resource=").concat(He.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call unmuteGroupMember",V),a.hj.call(this,ve,o.fI.UNMUTE_GROUP_MEMBER)}var je=ke;function Ge(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.groupId,se={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+He+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call getGroupMuteList",V),a.hj.call(this,se,o.fI.GET_GROUP_MUTE_LIST)}var xe=Ge,De=Ge;function ge(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.username,ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/blocks/users/").concat(_e,"?resource=").concat(He.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call blockGroupMember",V),a.hj.call(this,ve,o.fI.BLOCK_GROUP_MEMBER)}var be=ge;function Ie(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.usernames))throw Error('Invalid parameter: "usernames"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={usernames:V.usernames},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/blocks/users?resource=").concat(He.clientResource),data:JSON.stringify(_e),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call blockGroupMembers",V),a.hj.call(this,ve,o.fI.BLOCK_GROUP_MEMBERS)}var Se=Ie;function D(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.username!="string"||V.username==="")throw Error('Invalid parameter: "username"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.username,ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/blocks/users/").concat(_e,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call unblockGroupMember",V),a.hj.call(this,ve,o.fI.UNBLOCK_GROUP_MEMBER)}var q=D;function w(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.usernames))throw Error('Invalid parameter: "usernames"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.usernames.join(","),ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/blocks/users/").concat(_e,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call unblockGroupMembers",V),a.hj.call(this,ve,o.fI.UNBLOCK_GROUP_MEMBERS)}var X=w;function E(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.groupId,se={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+He+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call getGroupBlacklist",V),a.hj.call(this,se,o.fI.GET_GROUP_BLACK_LIST)}var b=E,x=E;function C(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/ban?resource=").concat(He.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call disableSendGroupMsg",V),a.hj.call(this,_e,o.fI.DISABLED_SEND_GROUP_MSG)}function P(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/ban?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call enableSendGroupMsg",V),a.hj.call(this,_e,o.fI.ENABLE_SEND_GROUP_MSG)}function _(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(V.users))throw Error('Invalid parameter: "users"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={usernames:V.users},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/white/users?resource=").concat(He.clientResource),type:"POST",data:JSON.stringify(_e),dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call addUsersToGroupWhitelist",V),a.hj.call(this,ve,o.fI.ADD_USERS_TO_GROUP_WHITE)}var S=_;function W(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.userName!="string"||V.userName==="")throw Error('Invalid parameter: "userName"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/white/users/").concat(V.userName,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call removeGroupAllowlistMember",V),a.hj.call(this,_e,o.fI.REMOVE_GROUP_WHITE_MEMBER)}var M=W,G=W;function te(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.groupId,se={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+He+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call getGroupAllowlist",V),a.hj.call(this,se,o.fI.GET_GROUP_WHITE_LIST)}var ce=te;function ye(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.userName!="string"||V.userName==="")throw Error('Invalid parameter: "userName"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.groupId,se={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+He+"/white/users/"+V.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call isInGroupAllowlist",V),a.hj.call(this,se,o.fI.IS_IN_GROUP_WHITE_LIST)}var B=ye,J=ye;function ae(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "chatRoomId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.userId,se={url:this.apiUrl+"/"+we+"/"+Le+"/sdk/group/"+V.groupId+"/mute/"+He,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+Fe}};return i.kg.debug("Call isInGroupMutelist",V),a.hj.call(this,se).then(function(_e){return _e.data})}function ie(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.msgId!="string"||V.msgId==="")throw Error('Invalid parameter: "msgId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He={url:this.apiUrl+"/"+we+"/"+Le+"/chatgroups/"+V.groupId+"/acks/"+V.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+Fe},success:V.success,error:V.error};return i.kg.debug("Call getGroupMsgReadUser",V),a.hj.call(this,He,o.fI.GET_GROUP_MSG_READ_USER)}function Me(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.groupId,se={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(He,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call fetchGroupAnnouncement",V),a.hj.call(this,se,o.fI.GET_GROUP_ANN)}function Ze(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.announcement!="string")throw Error('Invalid parameter: "announcement"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e={announcement:V.announcement},ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/announcement?resource=").concat(He.clientResource),type:"POST",dataType:"json",data:JSON.stringify(_e),headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call updateGroupAnnouncement",V),a.hj.call(this,ve,o.fI.UPDATE_GROUP_ANN)}function Re(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(t(V.file)!=="object")throw Error('Invalid parameter: "file"');if(s.XZ.call(this)){var Pe=this.context,Te=Pe.orgName,we=Pe.appName,Le=Pe.accessToken,Fe=Pe.jid,He=V.groupId;a.cT.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(Te,"/").concat(we,"/chatgroups/").concat(He,"/share_files?resource=").concat(Fe.clientResource),onFileUploadProgress:V.onFileUploadProgress,onFileUploadComplete:V.onFileUploadComplete,onFileUploadError:V.onFileUploadError,onFileUploadCanceled:V.onFileUploadCanceled,accessToken:Le,apiUrl:this.apiUrl,file:V.file,appKey:this.context.appKey},o.fI.UPLOAD_GROUP_FILE),i.kg.debug("Call uploadGroupSharedFile",V)}}function Ke(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(typeof V.fileId!="string"||V.fileId==="")throw Error('Invalid parameter: "file"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=Te.jid,se=V.groupId,_e=V.fileId,ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(se,"/share_files/").concat(_e,"?resource=").concat(He.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call deleteGroupSharedFile",V),a.hj.call(this,ve,o.fI.DELETE_GROUP_FILE)}function pe(V){if(typeof V.groupId!="string"||V.groupId==="")throw Error('Invalid parameter: "groupId"');if(!s.XZ.call(this)){var Pe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Pe)}var Te=this.context,we=Te.orgName,Le=Te.appName,Fe=Te.accessToken,He=V.pageNum||1,se=V.pageSize||10,_e=V.groupId,ve={url:"".concat(this.apiUrl,"/").concat(we,"/").concat(Le,"/chatgroups/").concat(_e,"/share_files?pagenum=").concat(He,"&pagesize=").concat(se),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+Fe,"Content-Type":"application/json"},success:V.success,error:V.error};return i.kg.debug("Call getGroupSharedFilelist",V),a.hj.call(this,ve,o.fI.GET_GROUP_FILE_LIST)}var Xe=pe;function qe(V){var Pe=this.context,Te=Pe.orgName,we=Pe.appName,Le=Pe.accessToken,Fe=this.apiUrl,He=V.groupId,se=V.fileId;a.LR.call(this,{url:"".concat(Fe,"/").concat(Te,"/").concat(we,"/chatgroups/").concat(He,"/share_files/").concat(se),onFileDownloadComplete:V.onFileDownloadComplete,onFileDownloadError:V.onFileDownloadError,accessToken:Le,id:se,secret:V.secret},o.fI.DOWN_GROUP_FILE),i.kg.debug("Call downloadGroupSharedFile",V)}function ze(V){return Pe=this,Te=void 0,Le=function(){var Fe,He,se,_e,ve,Je,me,et,Qe,$e,he;return function(Ne,nt){var We,Ve,Ye,rt,ot={label:0,sent:function(){if(1&Ye[0])throw Ye[1];return Ye[1]},trys:[],ops:[]};return rt={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(rt[Symbol.iterator]=function(){return this}),rt;function st(lt){return function(ut){return function(ct){if(We)throw new TypeError("Generator is already executing.");for(;ot;)try{if(We=1,Ve&&(Ye=2&ct[0]?Ve.return:ct[0]?Ve.throw||((Ye=Ve.return)&&Ye.call(Ve),0):Ve.next)&&!(Ye=Ye.call(Ve,ct[1])).done)return Ye;switch(Ve=0,Ye&&(ct=[2&ct[0],Ye.value]),ct[0]){case 0:case 1:Ye=ct;break;case 4:return ot.label++,{value:ct[1],done:!1};case 5:ot.label++,Ve=ct[1],ct=[0];continue;case 7:ct=ot.ops.pop(),ot.trys.pop();continue;default:if(!((Ye=(Ye=ot.trys).length>0&&Ye[Ye.length-1])||ct[0]!==6&&ct[0]!==2)){ot=0;continue}if(ct[0]===3&&(!Ye||ct[1]>Ye[0]&&ct[1]<Ye[3])){ot.label=ct[1];break}if(ct[0]===6&&ot.label<Ye[1]){ot.label=Ye[1],Ye=ct;break}if(Ye&&ot.label<Ye[2]){ot.label=Ye[2],ot.ops.push(ct);break}Ye[2]&&ot.ops.pop(),ot.trys.pop();continue}ct=nt.call(Ne,ot)}catch(pt){ct=[6,pt],Ve=0}finally{We=Ye=0}if(5&ct[0])throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}([lt,ut])}}}(this,function(Ne){switch(Ne.label){case 0:if(Fe=V.groupId,He=V.userId,se=V.memberAttributes,typeof Fe!="string"||Fe==="")throw Error('Invalid parameter: "groupId"');if(typeof He!="string"||He==="")throw Error('Invalid parameter: "userId"');if(t(se)!=="object")throw Error('Invalid parameter: "memberAttributes"');return s.XZ.call(this)?(ve=this.context,Je=ve.orgName,me=ve.appName,et=ve.accessToken,Qe=ve.jid,$e={metaData:se},he={url:"".concat(this.apiUrl,"/").concat(Je,"/").concat(me,"/sdk/metadata/chatgroup/").concat(Fe,"/user/").concat(He,"?resource=").concat(Qe.clientResource),type:"PUT",dataType:"json",data:JSON.stringify($e),headers:{Authorization:"Bearer "+et,"Content-Type":"application/json"}},i.kg.debug("Call setGroupMemberAttributes",V),[4,a.hj.call(this,he,o.fI.SET_GROUP_MEMBER_ATTRS)]):(_e=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(_e)]);case 1:return Ne.sent(),[2]}})},new((we=void 0)||(we=Promise))(function(Fe,He){function se(Je){try{ve(Le.next(Je))}catch(me){He(me)}}function _e(Je){try{ve(Le.throw(Je))}catch(me){He(me)}}function ve(Je){var me;Je.done?Fe(Je.value):(me=Je.value,me instanceof we?me:new we(function(et){et(me)})).then(se,_e)}ve((Le=Le.apply(Pe,Te||[])).next())});var Pe,Te,we,Le}function it(V){var Pe=V.groupId,Te=V.userId;return at.call(this,{groupId:Pe,userIds:[Te]}).then(function(we){var Le;return{type:we.type,data:(Le=we.data)===null||Le===void 0?void 0:Le[Te]}})}function at(V){var Pe=V.groupId,Te=V.userIds,we=V.keys,Le=we===void 0?[]:we;if(typeof Pe!="string"||Pe==="")throw Error('Invalid parameter: "groupId"');if(!Array.isArray(Te)||(Te==null?void 0:Te.length)<=0)throw Error('Invalid parameter: "userIds"');if(!Array.isArray(Le))throw Error('Invalid parameter: "keys"');if(!s.XZ.call(this)){var Fe=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(Fe)}var He=this.context,se=He.orgName,_e=He.appName,ve=He.accessToken,Je={targets:Te,properties:Le},me={url:"".concat(this.apiUrl,"/").concat(se,"/").concat(_e,"/sdk/metadata/chatgroup/").concat(Pe,"/get"),type:"POST",dataType:"json",data:JSON.stringify(Je),headers:{Authorization:"Bearer "+ve,"Content-Type":"application/json"}};return i.kg.debug("Call getGroupMembersAttributes",V),a.hj.call(this,me,o.fI.GET_GROUP_MEMBER_ATTR).then(function(et){return{type:et.type,data:(et==null?void 0:et.data)||{}}})}},7479:function(h,O,e){e.r(O),e.d(O,{acceptContactInvite:function(){return z},acceptInvitation:function(){return re},addContact:function(){return le},addReaction:function(){return ke},addToBlackList:function(){return ne},addUsersToBlacklist:function(){return fe},addUsersToBlocklist:function(){return Y},declineContactInvite:function(){return Q},declineInvitation:function(){return ue},deleteContact:function(){return Ee},deleteConversation:function(){return U},deleteReaction:function(){return je},deleteSession:function(){return y},fetchHistoryMessages:function(){return K},fetchUserInfoById:function(){return H},getBlacklist:function(){return T},getBlocklist:function(){return c},getChatToken:function(){return F},getContacts:function(){return v},getConversationlist:function(){return R},getHistoryMessages:function(){return oe},getReactionDetail:function(){return De},getReactionList:function(){return Ge},getReactionlist:function(){return xe},getRoster:function(){return I},getServerConversations:function(){return Ie},getServerPinnedConversations:function(){return D},getSessionList:function(){return A},modifyMessage:function(){return Ue},pinConversation:function(){return q},recallMessage:function(){return Ce},removeFromBlackList:function(){return Oe},removeHistoryMessages:function(){return be},removeRoster:function(){return de},removeUserFromBlackList:function(){return Ae},removeUserFromBlocklist:function(){return Be},reportMessage:function(){return ge},updateCurrentUserNick:function(){return ee},updateOwnUserInfo:function(){return L},updateUserInfo:function(){return j},uploadPushToken:function(){return k},uploadToken:function(){return N}}),e(9601),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(9554),e(4747),e(2222),e(6699),e(9600),e(5069),e(561),e(9753),e(8309),e(3710),e(9714);var r=e(3246),n=e(5531),a=e(7252),s=e(4370),i=e(8161),o=e(4968),t=e(4188),l=e.n(t),u=e(7360),g=e(1595),f=e(4363),d=function(){return d=Object.assign||function(w){for(var X,E=1,b=arguments.length;E<b;E++)for(var x in X=arguments[E])Object.prototype.hasOwnProperty.call(X,x)&&(w[x]=X[x]);return w},d.apply(this,arguments)},p=function(w,X,E,b){return new(E||(E=Promise))(function(x,C){function P(W){try{S(b.next(W))}catch(M){C(M)}}function _(W){try{S(b.throw(W))}catch(M){C(M)}}function S(W){var M;W.done?x(W.value):(M=W.value,M instanceof E?M:new E(function(G){G(M)})).then(P,_)}S((b=b.apply(w,X||[])).next())})},m=function(w,X){var E,b,x,C,P={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return C={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function _(S){return function(W){return function(M){if(E)throw new TypeError("Generator is already executing.");for(;P;)try{if(E=1,b&&(x=2&M[0]?b.return:M[0]?b.throw||((x=b.return)&&x.call(b),0):b.next)&&!(x=x.call(b,M[1])).done)return x;switch(b=0,x&&(M=[2&M[0],x.value]),M[0]){case 0:case 1:x=M;break;case 4:return P.label++,{value:M[1],done:!1};case 5:P.label++,b=M[1],M=[0];continue;case 7:M=P.ops.pop(),P.trys.pop();continue;default:if(!((x=(x=P.trys).length>0&&x[x.length-1])||M[0]!==6&&M[0]!==2)){P=0;continue}if(M[0]===3&&(!x||M[1]>x[0]&&M[1]<x[3])){P.label=M[1];break}if(M[0]===6&&P.label<x[1]){P.label=x[1],x=M;break}if(x&&P.label<x[2]){P.label=x[2],P.ops.push(M);break}x[2]&&P.ops.pop(),P.trys.pop();continue}M=X.call(w,P)}catch(G){M=[6,G],b=0}finally{E=x=0}if(5&M[0])throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}([S,W])}}};function T(w){if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P={url:this.apiUrl+"/"+b+"/"+x+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+C},success:function(_){_.data.forEach(function(S){}),typeof(w==null?void 0:w.success)=="function"&&w.success(_)},error:function(_){typeof(w==null?void 0:w.error)=="function"&&w.error(_)}};return u.kg.debug("Call getBlocklist"),s.hj.call(this,P,g.fI.GET_BLACK_LIST)}var c=T,I=v;function v(w){var X=this;if(!r.XZ.call(this)){var E=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(E)}var b=this.context,x=b.orgName,C=b.appName,P=b.accessToken,_={url:this.apiUrl+"/"+x+"/"+C+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+P},success:function(S){var W=[];S.data.forEach(function(M){W.push({name:M,subscription:"both",jid:X.context.jid})}),typeof(w==null?void 0:w.success)=="function"&&w.success(W)},error:function(S){typeof(w==null?void 0:w.error)=="function"&&w.error(S)}};return u.kg.debug("Call getContacts"),s.hj.call(this,_,g.fI.GET_CONTACTS)}function N(w){if(typeof w.deviceId!="string"||w.deviceId==="")throw Error('Invalid parameter: "deviceId"');if(typeof w.deviceToken!="string"||w.deviceToken==="")throw Error('Invalid parameter: "deviceToken"');if(typeof w.notifierName!="string"||w.notifierName==="")throw Error('Invalid parameter: "notifierName"');if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/users/").concat(this.user),type:"PUT",data:JSON.stringify({device_id:w.deviceId,device_token:w.deviceToken,notifier_name:w.notifierName}),dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"},success:w.success,error:w.error};return u.kg.debug("Call uploadPushToken",w),s.hj.call(this,P,g.fI.UPLOAD_PUSH_TOKEN)}var k=N;function A(w){if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/users/").concat(this.user,"/user_channels"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"},success:w&&(w==null?void 0:w.success),error:w&&(w==null?void 0:w.error)};return u.kg.debug("Call getSessionList"),s.hj.call(this,P,g.fI.GET_SESSION_LIST)}function R(w){if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P=!!(w&&typeof w.pageNum=="number"&&typeof w.pageSize=="number"&&w.pageNum>0&&w.pageSize>0),_={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/users/").concat(this.user,"/user_channels").concat(P?"/page":""),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"},success:w&&(w==null?void 0:w.success),error:w&&(w==null?void 0:w.error)};return P&&(_.data={pageNum:w.pageNum,pageSize:w.pageSize}),u.kg.debug("Call getConversationlist"),s.hj.call(this,_,g.fI.GET_SESSION_LIST).then(function(S){return function(W){var M=W.data.channel_infos;return M==null||M.forEach(function(G){G.meta&&JSON.stringify(G.meta)!=="{}"?(G.meta.payload=JSON.parse(G.meta.payload),G.lastMessage=(0,f.w)(G.meta)):G.lastMessage=G.meta,delete G.meta}),W}(S)})}function y(w){if(w&&typeof w.channel!="string")throw Error("Invalid parameter channel: ".concat(w.channel));if(w&&w.chatType!=="singleChat"&&w.chatType!=="groupChat")throw Error("Invalid parameter chatType: ".concat(w.chatType));if(w&&typeof w.deleteRoam!="boolean")throw Error("Invalid parameter deleteRoam: ".concat(w.deleteRoam));if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E,b=this.context,x=b.orgName,C=b.appName,P=b.accessToken,_=b.jid;E=w.chatType==="singleChat"?"chat":"groupChat";var S={url:"".concat(this.apiUrl,"/").concat(x,"/").concat(C,"/user/").concat(this.user,"/user_channel?resource=").concat(_.clientResource),dataType:"json",type:"DELETE",data:JSON.stringify({channel:w.channel,type:E,delete_roam:w.deleteRoam}),headers:{Authorization:"Bearer "+P,"Content-Type":"application/json"},success:w.success,error:w.error};return u.kg.debug("Call deleteSession",w),s.hj.call(this,S,g.fI.DELETE_SESSION)}var U=y;function L(w,X){if(!r.XZ.call(this)){var E=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(E)}var b=this.context,x=b.orgName,C=b.appName,P=b.accessToken,_=["nickname","avatarurl","mail","phone","gender","sign","birth","ext"],S={};if(typeof wx<"u"||typeof qq<"u")if(typeof w=="string"&&X!==void 0){if(!_.includes(w))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");S[w]=X}else{if(Object.prototype.toString.call(w)!=="[object Object]")throw new Error("illegal params");_.forEach(function(G){_.includes(G)&&w[G]!==void 0&&(S[G]=w[G])})}else if(typeof w=="string"){if(!_.includes(w))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");S=w+"="+X}else{if(Object.prototype.toString.call(w)!=="[object Object]")throw new Error("illegal params");var W=[];_.forEach(function(G){if(_.includes(G)&&w[G]!==void 0){var te=encodeURIComponent(G),ce=encodeURIComponent(w[G]);W.push(te+"="+ce)}}),S=W.join("&")}var M={url:"".concat(this.apiUrl,"/").concat(x,"/").concat(C,"/metadata/user/").concat(this.user),type:"PUT",data:S,dataType:"json",headers:{Authorization:"Bearer "+P,"Content-Type":"application/x-www-form-urlencoded"}};return u.kg.debug("Call updateOwnUserInfo",w),s.hj.call(this,M,g.fI.UPDATE_USER_INFO)}var j=L;function H(w,X){if(!r.XZ.call(this)){var E=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(E)}var b,x=this.context,C=x.orgName,P=x.appName,_=x.accessToken,S=[];if(typeof w=="string")S=[w];else{if(Object.prototype.toString.call(w)!=="[object Array]")throw new Error("illegal params");S=w}b=typeof X=="string"?[X]:X&&Object.prototype.toString.call(X)==="[object Array]"?X:["nickname","avatarurl","mail","phone","gender","sign","birth","ext"];var W={url:"".concat(this.apiUrl,"/").concat(C,"/").concat(P,"/metadata/user/get"),type:"POST",data:JSON.stringify({targets:S,properties:b}),dataType:"json",headers:{Authorization:"Bearer "+_,"Content-Type":"application/json"}};return u.kg.debug("Call fetchUserInfoById",w),s.hj.call(this,W,g.fI.GET_USER_INFO)}function ee(w){if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/users/").concat(this.user),type:"PUT",dataType:"json",data:JSON.stringify({nickname:w}),headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}};return u.kg.debug("Call updateCurrentUserNick",w),s.hj.call(this,P)}function F(w){if(typeof w!="string"||w==="")throw Error('Invalid parameter: "agoraToken"');var X=this.context,E=X.orgName,b=X.appName,x={url:this.apiUrl+"/"+E+"/"+b+"/token",dataType:"json",type:"POST",data:JSON.stringify({grant_type:"agora"}),headers:{Authorization:"Bearer "+w,"Content-Type":"application/json"}};return u.kg.debug("Call getChatToken",w),s.hj.call(this,x,g.fI.SDK_INTERNAL)}function K(w){var X=this;return new Promise(function(E,b){if(!w.queue)throw Error('Invalid parameter: "specified"');if(!r.XZ.call(X)){var x=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(x)}(function C(P){var _=this,S=P.count||20;Z.call(this,{count:S,isGroup:!!P.isGroup,queue:P.queue,start:P.start,format:P.format,success:function(W){if(W.msgs.length>=S||W.is_last){var M=W.msgs.splice(0,S).reverse();P.success&&P.success(M),E(M)}else C.call(_,d(d({},P),{start:null}))},fail:function(W){b(W),P.fail&&P.fail(W)}})}).call(X,w),u.kg.debug("Call fetchHistoryMessages",w)})}function Z(w){var X=this,E=w.queue,b=this.mr_cache[E]||(this.mr_cache[E]={msgs:[]}),x=this.context.userId,C=w.start||-1,P=w.count||20;if(b.msgs.length>=P||b.is_last)typeof w.success=="function"&&w.success(b);else{b&&b.next_key&&(C=b.next_key),w.start&&(C=w.start);var _={queue:E+(w.isGroup?"@conference.easemob.com":"@easemob.com"),start:C,end:-1},S=this.context,W=S.orgName,M=S.appName,G={url:"".concat(this.apiUrl,"/").concat(W,"/").concat(M,"/users/").concat(x,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(_),success:function(te){var ce=te==null?void 0:te.data;if(!te.data.msgs)return typeof w.success=="function"&&w.success(b),b.is_last=!0,void(b.next_key="");var ye=ce.msgs,B=ye.length;b.is_last=ce.is_last,b.next_key=ce.next_key;for(var J=function(Me){for(var Ze=[],Re=0,Ke=(Me=l().atob(Me)).length;Re<Ke;++Re)Ze.push(Me.charCodeAt(Re));var pe=X.context.root.lookup("easemob.pb.Meta");if((pe=pe.decode(Ze)).ns===1)return i.Z.call(X,pe,{errorCode:0,reason:""},!0,w.format)},ae=0;ae<B;ae++){var ie=J(ye[ae].msg);ie&&b.msgs.push(ie)}typeof w.success=="function"&&w.success(b)},error:function(te){if(te.error&&te.error_description){var ce=a.Z.create({type:n.E.WEBIM_CONNCTION_AJAX_ERROR,message:"fetch history messages error",data:te});X.onError&&X.onError(ce)}}};s.hj.call(this,G,g.fI.GET_HISTORY_MSG).catch(function(te){typeof w.fail=="function"&&w.fail(te)})}}function oe(w){var X=this;return new Promise(function(E,b){var x=w.targetId,C=w.cursor,P=C===void 0?-1:C,_=w.pageSize,S=_===void 0?20:_,W=w.chatType,M=w.searchDirection,G=w.searchOptions,te=G===void 0?{}:G,ce=te.msgTypes,ye=ce===void 0?[]:ce,B=te.startTime,J=B===void 0?null:B,ae=te.endTime,ie=ae===void 0?null:ae,Me=te.from,Ze=Me===void 0?null:Me;if(typeof x!="string"||x==="")throw Error('"Invalid parameter": "targetId"');if(Ze&&typeof Ze!="string")throw Error('"Invalid parameter": "searchOptions.from"');if(ye&&!Array.isArray(ye))throw Error('"Invalid parameter": "searchOptions.msgTypes"');if(J&&typeof J!="number")throw Error('"Invalid parameter": "searchOptions.startTime"');if(ie&&typeof J!="number")throw Error('"Invalid parameter": "searchOptions.endTime"');if(!r.XZ.call(X)){var Re=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return b(Re)}var Ke=X.context,pe=Ke.orgName,Xe=Ke.appName,qe=Ke.userId,ze=w.chatType==="groupChat"?"@conference.easemob.com":"@easemob.com",it={queue:"".concat(x).concat(ze),start:P,pull_number:S,is_positive:M==="down",msgType:ye.join(",")||"",end:-1,startTime:J,endTime:ie,userId:W==="singleChat"?null:Ze},at={url:"".concat(X.apiUrl,"/").concat(pe,"/").concat(Xe,"/users/").concat(qe,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+X.token,"Content-Type":"application/json"},data:JSON.stringify(it),success:function(V){for(var Pe,Te=V==null?void 0:V.data,we=Te.msgs||[],Le=function(ve){for(var Je=[],me=0,et=(ve=l().atob(ve)).length;me<et;++me)Je.push(ve.charCodeAt(me));var Qe=X.context.root.lookup("easemob.pb.Meta");if((Qe=Qe.decode(Je)).ns===1)return i.Z.call(X,Qe,{errorCode:0,reason:""},!0,!0)},Fe=[],He=0;He<we.length;He++){var se=Le(we[He].msg);se&&Fe.push(se)}Te.msgs=Fe;var _e={cursor:Te.next_key,messages:Fe,isLast:Te.is_last};(Pe=w.success)===null||Pe===void 0||Pe.call(w,_e),E(_e)},error:w.fail};s.hj.call(X,at).catch(function(V){b(V)}),u.kg.debug("Call getHistoryMessages",w)})}function le(w,X){var E=this;return new Promise(function(b,x){var C={id:E.getUniqueId(),to:w,message:X};o.Z.operatRoster.call(E,C,"add",b,x),u.kg.debug("Call addContact",C)})}var de=Ee;function Ee(w){var X=this;return new Promise(function(E,b){var x={id:X.getUniqueId(),to:w};o.Z.operatRoster.call(X,x,"remove",E,b),u.kg.debug("Call deleteContact",x)})}function re(w){var X=this;return new Promise(function(E,b){var x={id:X.getUniqueId(),to:w};o.Z.operatRoster.call(X,x,"accept",E,b),u.kg.debug("Call acceptInvitation",x)})}var z=re;function ue(w){var X=this;return new Promise(function(E,b){var x={id:X.getUniqueId(),to:w};o.Z.operatRoster.call(X,x,"decline",E,b),u.kg.debug("Call declineContactInvite",x)})}var Q=ue;function ne(w){var X=this;return new Promise(function(E,b){o.Z.operatRoster.call(X,{to:w.name},"ban",E,b),u.kg.debug("Call addUsersToBlocklist",w)})}var fe=ne,Y=ne;function Oe(w){var X=this;return new Promise(function(E,b){o.Z.operatRoster.call(X,{to:w.name},"allow",E,b),u.kg.debug("Call removeUserFromBlocklist",w)})}var Ae=Oe,Be=Oe;function Ce(w){var X=this.getUniqueId(),E={id:X,to:w.to};this._msgHash[X]=d({},E);var b="";w.chatType!==void 0?b=w.chatType:w.type!==void 0&&(b=w.type==="chat"?"singleChat":w.type);var x={id:X,type:"recall",chatType:b,ackId:w.mid,to:w.to,isChatThread:w.isChatThread||!1,success:w.success,fail:w.fail};return u.kg.debug("Call recallMessage",w),this.mSync.send(x,this)}function Ue(w){var X=w||{},E=X.messageId,b=X.modifiedMessage;if(u.kg.debug("Call modifyMessage",E,b),E==="")throw Error('Invalid parameter: "messageId"');if(b.type!=="txt")throw Error('Invalid parameter: "modifiedMessage.type"');return this.mSync.send(d({editMessageId:E},b))}function ke(w){return p(this,void 0,void 0,function(){var X,E,b,x,C,P,_,S,W;return m(this,function(M){switch(M.label){case 0:if(typeof w.messageId!="string"||!w.messageId)throw Error("Invalid parameter messageId: ".concat(w.messageId));if(typeof w.reaction!="string"||!w.reaction)throw Error("Invalid parameter reaction: ".concat(w.reaction));return r.XZ.call(this)?(E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P=w.reaction,_=w.messageId,S={msgId:_,message:P},W={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/reaction/user/").concat(this.user),type:"POST",data:JSON.stringify(S),dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}},[4,s.hj.call(this,W)]):(X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(X)]);case 1:return M.sent(),[2]}})})}function je(w){return p(this,void 0,void 0,function(){var X,E,b,x,C,P,_,S;return m(this,function(W){switch(W.label){case 0:if(typeof w.reaction!="string"||!w.reaction)throw Error("Invalid parameter reactionId: ".concat(w.reaction));return r.XZ.call(this)?(E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P=w.messageId,_=w.reaction,S={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/reaction/user/").concat(this.user,"?msgId=").concat(P,"&message=").concat(_),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}},[4,s.hj.call(this,S)]):(X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(X)]);case 1:return W.sent(),[2]}})})}function Ge(w){if(typeof w.chatType!="string"||!w.chatType)throw Error("Invalid parameter chatType: ".concat(w.chatType));if(!w.messageId)throw Error("Invalid parameter messageId: ".concat(w.messageId));if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P=w.chatType,_=w.messageId,S={msgIdList:typeof _=="string"?[_]:_,msgType:P==="singleChat"?"chat":"groupchat",groupId:w.groupId||null},W={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/reaction/user/").concat(this.user),type:"GET",data:S,dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}};return s.hj.call(this,W).then(function(M){var G=M.data;return G==null||G.forEach(function(te){te==null||te.reactionList.forEach(function(ce){ce.isAddedBySelf=ce.state,delete ce.state,delete ce.reactionId})}),M})}var xe=Ge;function De(w){if(typeof w.reaction!="string"||!w.reaction)throw Error("Invalid parameter reaction: ".concat(w.reaction));if(typeof w.messageId!="string"||!w.messageId)throw Error("Invalid parameter messageId: ".concat(w.messageId));if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P=w.cursor,_=w.pageSize,S={msgId:w.messageId,message:w.reaction,currentPage:P||null,pageSize:_||20},W={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/reaction/user/").concat(this.user,"/detail"),type:"GET",data:S,dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}};return s.hj.call(this,W).then(function(M){return M.data.isAddedBySelf=M.data.state,delete M.data.state,delete M.data.reactionId,M})}function ge(w){return p(this,void 0,void 0,function(){var X,E,b,x,C,P,_,S,W,M,G;return m(this,function(te){switch(te.label){case 0:if(typeof w.reportType!="string"||!w.reportType)throw Error("Invalid parameter reportType: ".concat(w.reportType));if(typeof w.messageId!="string"||!w.messageId)throw Error("Invalid parameter messageId: ".concat(w.messageId));if(typeof w.reportReason!="string"||!w.reportReason)throw Error("Invalid parameter messageId: ".concat(w.reportReason));return r.XZ.call(this)?(E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P=w.reportType,_=w.reportReason,S=w.messageId,W={username:this.user,reportType:P,reportReason:_},M="".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/user/").concat(this.user,"/moderation/report/message/").concat(S),G={url:M,type:"POST",data:JSON.stringify(W),dataType:"json",headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}},[4,s.hj.call(this,G)]):(X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(X)]);case 1:return te.sent(),[2]}})})}function be(w){var X;return p(this,void 0,void 0,function(){var E,b,x,C,P,_,S,W,M;return m(this,function(G){switch(G.label){case 0:if(typeof w.targetId!="string"||w.targetId==="")throw Error('"Invalid parameter targetId": '+w.targetId);if(!["singleChat","groupChat"].includes(w.chatType))throw Error('"Invalid parameter chatType": '+w.chatType);if(w.beforeTimeStamp&&(typeof w.beforeTimeStamp!="number"||w.beforeTimeStamp<0||((X=w.beforeTimeStamp)===null||X===void 0?void 0:X.toString().length)>18))throw Error('"Invalid parameter beforeTimeStamp": '+w.beforeTimeStamp);if(w.messageIds&&!(Array.isArray(w.messageIds)&&w.messageIds.length>0&&w.messageIds.length<=20))throw Error('"Invalid parameter messageIds": '+w.messageIds);if(!w.messageIds&&!w.beforeTimeStamp)throw Error("messageIds or beforeTimeStamp field is required.");return r.XZ.call(this)?(b=this.context,x=b.orgName,C=b.appName,P=b.userId,_=w.chatType==="singleChat"?"userId":"groupId",S=w.chatType==="singleChat"?"chat":"group",W=w.messageIds?"".concat(this.apiUrl,"/").concat(x,"/").concat(C,"/sdk/message/roaming/").concat(S,"/user/").concat(P,"?").concat(_,"=").concat(w.targetId,"&msgIdList=").concat(w.messageIds,"&resource=").concat(this.clientResource):"".concat(this.apiUrl,"/").concat(x,"/").concat(C,"/sdk/message/roaming/").concat(S,"/user/").concat(P,"/time?").concat(_,"=").concat(w.targetId,"&delTime=").concat(w.beforeTimeStamp,"&&resource=").concat(this.clientResource),M={url:W,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}},u.kg.debug("Call removeHistoryMessages",w),[4,s.hj.call(this,M)]):(E=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(E)]);case 1:return G.sent(),[2]}})})}function Ie(w){if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}if(w!=null&&w.pageSize&&typeof w.pageSize!="number")throw Error("Invalid parameter pageSize: ".concat(w.pageSize));if(w!=null&&w.cursor&&typeof w.cursor!="string")throw Error("Invalid parameter cursor: ".concat(w.cursor));var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(w==null?void 0:w.pageSize)||20,cursor:(w==null?void 0:w.cursor)||""},headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}};return u.kg.debug("Call getServerConversations",w),s.hj.call(this,P,g.fI.GET_SESSION_LIST).then(function(_){return Se(_)})}function Se(w){var X=w.data,E=X.cursor,b=X.channel_infos,x=[];b==null||b.forEach(function(P){var _=null;P!=null&&P.meta&&JSON.stringify(P.meta)!=="{}"&&(P.meta.payload=JSON.parse(P.meta.payload),_=(0,f.w)(P.meta));var S={conversationId:P.session_to,conversationType:P.session_type==="chat"?"singleChat":"groupChat",isPinned:P.is_top,pinnedTime:P.is_top?P.update_top_status_time:0,unReadCount:P.unread_num,lastMessage:_};x.push(S)});var C={conversations:x,cursor:E||""};return{type:w.type,data:C}}function D(w){if(!r.XZ.call(this)){var X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(X)}if(w!=null&&w.pageSize&&typeof w.pageSize!="number")throw Error("Invalid parameter pageSize: ".concat(w.pageSize));if(w!=null&&w.cursor&&typeof w.cursor!="string")throw Error("Invalid parameter cursor: ".concat(w.cursor));var E=this.context,b=E.orgName,x=E.appName,C=E.accessToken,P={url:"".concat(this.apiUrl,"/").concat(b,"/").concat(x,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(w==null?void 0:w.pageSize)||20,cursor:(w==null?void 0:w.cursor)||"",is_top:!0},headers:{Authorization:"Bearer "+C,"Content-Type":"application/json"}};return u.kg.debug("Call getServerConversations",w),s.hj.call(this,P,g.fI.GET_SESSION_LIST).then(function(_){return Se(_)})}function q(w){return p(this,void 0,void 0,function(){var X,E,b,x,C,P,_,S,W,M,G,te,ce,ye;return m(this,function(B){if(!r.XZ.call(this))return X=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(X)];if(E=w.conversationId,b=w.conversationType,x=w.isPinned,C=b==="singleChat"?"chat":"groupChat",typeof E!="string"||E==="")throw Error("Invalid parameter conversationId: ".concat(E));if(!["singleChat","groupChat"].includes(b))throw Error("Invalid parameter conversationType: ".concat(b));if(typeof x!="boolean")throw Error("Invalid parameter isPinned: ".concat(x));return P=this.context,_=P.orgName,S=P.appName,W=P.accessToken,M=P.jid,G={type:C,to:E},te=x?"":"type=".concat(C,"&to=").concat(E,"&"),ce="".concat(this.apiUrl,"/").concat(_,"/").concat(S,"/sdk/user/").concat(this.user,"/user_channel/top?").concat(te,"resource=").concat(M.clientResource),ye={url:ce,type:x?"POST":"DELETE",dataType:"json",headers:{Authorization:"Bearer "+W,"Content-Type":"application/json"}},x&&(ye.data=JSON.stringify(G)),u.kg.debug("Call pinConversation",w),[2,s.hj.call(this,ye,g.fI.PIN_CONVERSATION).then(function(J){var ae=J.type,ie=J.data;return{type:ae,data:{isPinned:ie.is_top||!1,pinnedTime:ie.is_top?ie.update_top_status_time:0}}})]})})}},3770:function(h,O,e){e.r(O),e.d(O,{getPresenceStatus:function(){return p},getSubscribedPresenceList:function(){return f},getSubscribedPresencelist:function(){return d},publishPresence:function(){return l},subscribePresence:function(){return u},unsubscribePresence:function(){return g}}),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(2222),e(9753);var r=e(4370),n=e(3246),a=e(7252),s=e(5531),i=e(7360),o=function(m,T,c,I){return new(c||(c=Promise))(function(v,N){function k(y){try{R(I.next(y))}catch(U){N(U)}}function A(y){try{R(I.throw(y))}catch(U){N(U)}}function R(y){var U;y.done?v(y.value):(U=y.value,U instanceof c?U:new c(function(L){L(U)})).then(k,A)}R((I=I.apply(m,T||[])).next())})},t=function(m,T){var c,I,v,N,k={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return N={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function A(R){return function(y){return function(U){if(c)throw new TypeError("Generator is already executing.");for(;k;)try{if(c=1,I&&(v=2&U[0]?I.return:U[0]?I.throw||((v=I.return)&&v.call(I),0):I.next)&&!(v=v.call(I,U[1])).done)return v;switch(I=0,v&&(U=[2&U[0],v.value]),U[0]){case 0:case 1:v=U;break;case 4:return k.label++,{value:U[1],done:!1};case 5:k.label++,I=U[1],U=[0];continue;case 7:U=k.ops.pop(),k.trys.pop();continue;default:if(!((v=(v=k.trys).length>0&&v[v.length-1])||U[0]!==6&&U[0]!==2)){k=0;continue}if(U[0]===3&&(!v||U[1]>v[0]&&U[1]<v[3])){k.label=U[1];break}if(U[0]===6&&k.label<v[1]){k.label=v[1],v=U;break}if(v&&k.label<v[2]){k.label=v[2],k.ops.push(U);break}v[2]&&k.ops.pop(),k.trys.pop();continue}U=T.call(m,k)}catch(L){U=[6,L],I=0}finally{c=v=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([R,y])}}};function l(m){return o(this,void 0,void 0,function(){var T,c,I,v,N,k,A,R,y;return t(this,function(U){switch(U.label){case 0:if(typeof m.description!="string")throw Error('Invalid parameter: "description"');return n.XZ.call(this)?(c=this.context,I=c.accessToken,v=c.orgName,N=c.appName,k=c.userId,A=this.context.jid.clientResource,R={ext:m.description},y={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/presence/").concat(A,"/1"),type:"POST",dataType:"json",data:JSON.stringify(R),headers:{Authorization:"Bearer "+I,"Content-Type":"application/json"},success:m.success,error:m.error},i.kg.debug("Call publishPresence:",m),[4,r.hj.call(this,y)]):(T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(T)]);case 1:return U.sent(),[2]}})})}function u(m){if(!Array.isArray(m.usernames))throw Error('Invalid parameter: "usernames"');if(!m.usernames.length)throw Error('"usernames" can not be empty');if(typeof m.expiry!="number")throw Error('Invalid parameter: "expiry"');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.orgName,v=c.appName,N=c.userId,k=c.accessToken,A={usernames:m.usernames},R={url:"".concat(this.apiUrl,"/").concat(I,"/").concat(v,"/users/").concat(N,"/presence/").concat(m.expiry),type:"POST",dataType:"json",data:JSON.stringify(A),headers:{Authorization:"Bearer "+k,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call subscribePresence:",m),r.hj.call(this,R).then(function(y){return y.data={result:y==null?void 0:y.result},y})}function g(m){return o(this,void 0,void 0,function(){var T,c,I,v,N,k,A;return t(this,function(R){switch(R.label){case 0:if(!Array.isArray(m.usernames))throw Error('Invalid parameter: "usernames"');if(!m.usernames.length)throw Error('"usernames" can not be empty');return n.XZ.call(this)?(c=this.context,I=c.orgName,v=c.appName,N=c.userId,k=c.accessToken,A={url:"".concat(this.apiUrl,"/").concat(I,"/").concat(v,"/users/").concat(N,"/presence"),type:"DELETE",dataType:"json",data:JSON.stringify(m.usernames),headers:{Authorization:"Bearer "+k,"Content-Type":"application/json"},success:m.success,error:m.error},i.kg.debug("Call unsubscribePresence:",m),[4,r.hj.call(this,A)]):(T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(T)]);case 1:return R.sent(),[2]}})})}function f(m){if(typeof m.pageNum!="number"||typeof m.pageSize!="number")throw Error('Invalid parameter: "pageNum or pageSize"');if(m.pageNum<0||m.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.orgName,v=c.appName,N=c.userId,k=c.accessToken,A={url:"".concat(this.apiUrl,"/").concat(I,"/").concat(v,"/users/").concat(N,"/presence/sublist?pageNum=").concat(m.pageNum,"&pageSize=").concat(m.pageSize),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+k,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call getSubscribedPresenceList:",m),r.hj.call(this,A).then(function(R){return R.data={result:R==null?void 0:R.result},R})}var d=f;function p(m){if(!Array.isArray(m.usernames))throw Error('Invalid parameter: "usernames"');if(!m.usernames.length)throw Error('"usernames" can not be empty');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c={usernames:m.usernames},I=this.context,v=I.orgName,N=I.appName,k=I.userId,A=I.accessToken,R={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/presence"),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+A,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call getPresenceStatus:",m),r.hj.call(this,R).then(function(y){return y.data={result:y==null?void 0:y.result},y})}},1735:function(h,O,e){e.r(O),e.d(O,{clearRemindTypeForConversation:function(){return u},getPushPerformLanguage:function(){return p},getSilentModeForAll:function(){return t},getSilentModeForConversation:function(){return g},getSilentModeForConversations:function(){return f},setPushPerformLanguage:function(){return d},setSilentModeForAll:function(){return o},setSilentModeForConversation:function(){return l}}),e(7941),e(1539),e(8674),e(2222),e(9753),e(9554),e(4747),e(9600);var r=e(4370),n=e(3246),a=e(7252),s=e(5531),i=e(7360);function o(m){if(!(m.options instanceof Object))throw Error('Invalid parameter: "options"');var T=m.options.paramType;if(typeof T!="number"||T<0||T>2)throw Error('Invalid parameter: "options of paramType"');if(T===0){if(typeof m.options.remindType!="string")throw Error('Invalid parameter: "options of remindType"')}else if(T===1){if(typeof m.options.duration!="number")throw Error('Invalid parameter: "options of duration"')}else if(T===2){var c=m.options,I=c.startTime,v=c.endTime;if(!(I instanceof Object&&Object.keys(I).length))throw Error('Invalid parameter: "options of startTime"');if(!I.hours||typeof I.hours!="number"||!I.minutes||typeof I.minutes!="number")throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(v instanceof Object&&Object.keys(v).length))throw Error('Invalid parameter: "options of endTime"');if(!v.hours||typeof v.hours!="number"||!v.minutes||typeof v.minutes!="number")throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!n.XZ.call(this)){var N=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(N)}var k=this.context,A=k.accessToken,R=k.orgName,y=k.appName,U=k.userId,L={};switch(T){case 0:L={type:m.options.remindType};break;case 1:L={ignoreDuration:m.options.duration};break;case 2:var j=m.options;I=j.startTime,v=j.endTime,L={ignoreInterval:"".concat(I.hours,":").concat(I.minutes,"-").concat(v.hours,":").concat(v.minutes)}}var H={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/users/").concat(U,"/notification/user/").concat(U),type:"PUT",dataType:"json",data:JSON.stringify(L),headers:{Authorization:"Bearer "+A,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call setSilentModeForAll:",m),r.hj.call(this,H)}function t(m){if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.accessToken,v=c.orgName,N=c.appName,k=c.userId,A={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/notification/user/").concat(k),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+I,"Content-Type":"application/json"},success:m==null?void 0:m.success,error:m==null?void 0:m.error};return i.kg.debug("Call getSilentModeForAll:",m),r.hj.call(this,A)}function l(m){if(typeof m.conversationId!="string"||!m.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof m.type!="string"||!m.type)throw Error('Invalid parameter: "type"');if(!(m.options instanceof Object))throw Error('Invalid parameter: "options"');var T=m.options.paramType;if(typeof T!="number"||T<0||T>2)throw Error('Invalid parameter: "options of paramType"');if(T===0){if(typeof m.options.remindType!="string")throw Error('Invalid parameter: "options of remindType"')}else if(T===1){if(typeof m.options.duration!="number")throw Error('Invalid parameter: "options of duration"')}else if(T===2){var c=m.options,I=c.startTime,v=c.endTime;if(!(I instanceof Object&&Object.keys(I).length))throw Error('Invalid parameter: "options of startTime"');if(!I.hours||typeof I.hours!="number"||!I.minutes||typeof I.minutes!="number")throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(v instanceof Object&&Object.keys(v).length))throw Error('Invalid parameter: "options of endTime"');if(!v.hours||typeof v.hours!="number"||!v.minutes||typeof v.minutes!="number")throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!n.XZ.call(this)){var N=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(N)}var k=this.context,A=k.accessToken,R=k.orgName,y=k.appName,U=k.userId,L="chatgroup",j={};switch(T){case 0:j={type:m.options.remindType};break;case 1:j={ignoreDuration:m.options.duration};break;case 2:var H=m.options;I=H.startTime,v=H.endTime,j={ignoreInterval:"".concat(I.hours,":").concat(I.minutes,"-").concat(v.hours,":").concat(v.minutes)}}m.type==="singleChat"&&(L="user");var ee={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/users/").concat(U,"/notification/").concat(L,"/").concat(m.conversationId),type:"PUT",dataType:"json",data:JSON.stringify(j),headers:{Authorization:"Bearer "+A,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call setSilentModeForConversation:",m),r.hj.call(this,ee)}function u(m){if(typeof m.conversationId!="string"||!m.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof m.type!="string"||!m.type)throw Error('Invalid parameter: "type"');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.accessToken,v=c.orgName,N=c.appName,k=c.userId,A="chatgroup";m.type==="singleChat"&&(A="user");var R={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/notification/").concat(A,"/").concat(m.conversationId),type:"PUT",dataType:"json",data:JSON.stringify({type:"DEFAULT"}),headers:{Authorization:"Bearer "+I,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call clearRemindTypeForConversation:",m),r.hj.call(this,R)}function g(m){if(typeof m.conversationId!="string"||!m.conversationId)throw Error('Invalid parameter: "conversationId"');if(typeof m.type!="string"||!m.type)throw Error('Invalid parameter: "type"');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.accessToken,v=c.orgName,N=c.appName,k=c.userId,A="chatgroup";m.type==="singleChat"&&(A="user");var R={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/notification/").concat(A,"/").concat(m.conversationId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+I,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call getSilentModeForConversation:",m),r.hj.call(this,R)}function f(m){if(!Array.isArray(m.conversationList))throw Error('Invalid parameter: "conversationList"');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.accessToken,v=c.orgName,N=c.appName,k=c.userId,A=[],R=[];m.conversationList.forEach(function(j){j.type==="singleChat"?A.push(j.id):R.push(j.id)});var y=A.length?A.join(","):"",U=R.length?R.join(","):"",L={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/notification?user=").concat(y,"&group=").concat(U),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+I,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call getSilentModeForConversations:",m),r.hj.call(this,L)}function d(m){if(typeof m.language!="string"||!m.language)throw Error('Invalid parameter: "language"');if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c={translationLanguage:m.language},I=this.context,v=I.accessToken,N=I.orgName,k=I.appName,A=I.userId,R={url:"".concat(this.apiUrl,"/").concat(N,"/").concat(k,"/users/").concat(A,"/notification/language"),type:"PUT",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+v,"Content-Type":"application/json"},success:m.success,error:m.error};return i.kg.debug("Call setPushPerformLanguage:",m),r.hj.call(this,R)}function p(m){if(!n.XZ.call(this)){var T=a.Z.create({type:s.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(T)}var c=this.context,I=c.accessToken,v=c.orgName,N=c.appName,k=c.userId,A={url:"".concat(this.apiUrl,"/").concat(v,"/").concat(N,"/users/").concat(k,"/notification/language"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+I,"Content-Type":"application/json"},success:m==null?void 0:m.success,error:m==null?void 0:m.error};return i.kg.debug("Call getPushPerformLanguage:",m),r.hj.call(this,A)}},7384:function(h,O,e){e.r(O),e.d(O,{changeChatThreadName:function(){return d},createChatThread:function(){return l},destroyChatThread:function(){return f},getChatThreadDetail:function(){return v},getChatThreadLastMessage:function(){return I},getChatThreadMembers:function(){return p},getChatThreads:function(){return c},getJoinedChatThreads:function(){return T},joinChatThread:function(){return u},leaveChatThread:function(){return g},removeChatThreadMember:function(){return m}}),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(8309),e(2222),e(9554),e(4747),e(9753);var r=e(5531),n=e(7252),a=e(4370),s=e(3246),i=e(4363),o=function(N,k,A,R){return new(A||(A=Promise))(function(y,U){function L(ee){try{H(R.next(ee))}catch(F){U(F)}}function j(ee){try{H(R.throw(ee))}catch(F){U(F)}}function H(ee){var F;ee.done?y(ee.value):(F=ee.value,F instanceof A?F:new A(function(K){K(F)})).then(L,j)}H((R=R.apply(N,k||[])).next())})},t=function(N,k){var A,R,y,U,L={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return U={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function j(H){return function(ee){return function(F){if(A)throw new TypeError("Generator is already executing.");for(;L;)try{if(A=1,R&&(y=2&F[0]?R.return:F[0]?R.throw||((y=R.return)&&y.call(R),0):R.next)&&!(y=y.call(R,F[1])).done)return y;switch(R=0,y&&(F=[2&F[0],y.value]),F[0]){case 0:case 1:y=F;break;case 4:return L.label++,{value:F[1],done:!1};case 5:L.label++,R=F[1],F=[0];continue;case 7:F=L.ops.pop(),L.trys.pop();continue;default:if(!((y=(y=L.trys).length>0&&y[y.length-1])||F[0]!==6&&F[0]!==2)){L=0;continue}if(F[0]===3&&(!y||F[1]>y[0]&&F[1]<y[3])){L.label=F[1];break}if(F[0]===6&&L.label<y[1]){L.label=y[1],y=F;break}if(y&&L.label<y[2]){L.label=y[2],L.ops.push(F);break}y[2]&&L.ops.pop(),L.trys.pop();continue}F=k.call(N,L)}catch(K){F=[6,K],R=0}finally{A=y=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([H,ee])}}};function l(N){if(typeof N.name!="string"||N.name==="")throw Error("Invalid parameter name: ".concat(N.name));if(typeof N.messageId!="string"||N.messageId==="")throw Error("Invalid parameter messageId: ".concat(N.messageId));if(typeof N.parentId!="string"||N.parentId==="")throw Error("Invalid parameter parentId: ".concat(N.parentId));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L=A.jid,j={name:N.name,msg_id:N.messageId,group_id:N.parentId,owner:this.user},H={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread?resource=").concat(L.clientResource),type:"POST",dataType:"json",data:JSON.stringify(j),headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,H).then(function(ee){var F=ee.data.thread_id;return ee.data={chatThreadId:F},ee})}function u(N){if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L=A.jid,j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId,"/user/").concat(this.user,"/join?resource=").concat(L.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,j).then(function(H){var ee=H.data.detail;return ee.messageId=ee.msgId,ee.parentId=ee.groupId,delete ee.msgId,delete ee.groupId,H})}function g(N){return o(this,void 0,void 0,function(){var k,A,R,y,U,L,j;return t(this,function(H){switch(H.label){case 0:if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));return s.XZ.call(this)?(A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L=A.jid,j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId,"/user/").concat(this.user,"/quit?resource=").concat(L.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}},[4,a.hj.call(this,j)]):(k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(k)]);case 1:return H.sent(),[2]}})})}function f(N){return o(this,void 0,void 0,function(){var k,A,R,y,U,L,j;return t(this,function(H){switch(H.label){case 0:if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));return s.XZ.call(this)?(A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L=A.jid,j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId,"?resource=").concat(L.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}},[4,a.hj.call(this,j)]):(k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(k)]);case 1:return H.sent(),[2]}})})}function d(N){if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));if(typeof N.name!="string"||N.name==="")throw Error("Invalid parameter name: ".concat(N.name));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L=A.jid,j={name:N.name},H={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId,"?resource=").concat(L.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(j),headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,H)}function p(N){if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L={limit:N.pageSize||20,cursor:N.cursor||""},j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId,"/users"),type:"GET",dataType:"json",data:L,headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,j)}function m(N){if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));if(typeof N.username!="string"||N.username==="")throw Error("Invalid parameter username: ".concat(N.username));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L=A.jid,j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId,"/users/").concat(N.username,"?resource=").concat(L.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,j)}function T(N){if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L={limit:N.pageSize||20,cursor:N.cursor||""},j={url:N.parentId?"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/threads/chatgroups/").concat(N.parentId,"/user/").concat(this.user):"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/threads/user/").concat(this.user),type:"GET",dataType:"json",data:L,headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,j).then(function(H){var ee=H.entities;return ee==null||ee.forEach(function(F){F.parentId=F.groupId,F.messageId=F.msgId,delete F.groupId,delete F.msgId}),H})}function c(N){if(typeof N.parentId!="string"||N.parentId==="")throw Error("Invalid parameter parentId: ".concat(N.parentId));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L={cursor:N.cursor||"",limit:N.pageSize||20},j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/threads/chatgroups/").concat(N.parentId),type:"GET",dataType:"json",data:L,headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,j).then(function(H){var ee=H.entities;return ee==null||ee.forEach(function(F){F.parentId=F.groupId,F.messageId=F.msgId,delete F.groupId,delete F.msgId}),H})}function I(N){if(!Array.isArray(N.chatThreadIds))throw Error("Invalid parameter chatThreadIds: ".concat(N.chatThreadIds));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L={threadIds:N.chatThreadIds},j={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/message"),type:"POST",dataType:"json",data:JSON.stringify(L),headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,j).then(function(H){return function(ee){var F=ee.entities;return F==null||F.forEach(function(K){K.chatThreadId=K.thread_id,K.last_message&&JSON.stringify(K.last_message)!=="{}"?K.lastMessage=(0,i.w)(K.last_message):K.lastMessage=K.last_message,delete K.thread_id,delete K.last_message}),ee}(H)})}function v(N){if(typeof N.chatThreadId!="string"||N.chatThreadId==="")throw Error("Invalid parameter chatThreadId: ".concat(N.chatThreadId));if(!s.XZ.call(this)){var k=n.Z.create({type:r.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(k)}var A=this.context,R=A.orgName,y=A.appName,U=A.accessToken,L={url:"".concat(this.apiUrl,"/").concat(R,"/").concat(y,"/thread/").concat(N.chatThreadId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+U,"Content-Type":"application/json"}};return a.hj.call(this,L).then(function(j){return j.data.affiliationsCount=j.data.affiliations_count,j.data.messageId=j.data.msgId,j.data.parentId=j.data.groupId,delete j.data.affiliations_count,delete j.data.msgId,delete j.data.groupId,j})}},70:function(h,O,e){e.r(O),e.d(O,{getSupportedLanguages:function(){return o},translateMessage:function(){return t}}),e(1539),e(8674),e(2222),e(9753);var r=e(3246),n=e(5531),a=e(7252),s=e(7360),i=e(4370);function o(){if(!r.XZ.call(this)){var l=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(l)}var u=this.context,g=u.orgName,f=u.appName,d=u.accessToken,p={url:"".concat(this.apiUrl,"/").concat(g,"/").concat(f,"/users/").concat(this.user,"/translate/support/language"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+d}};return s.kg.debug("Call getSupportedLanguages"),i.hj.call(this,p)}function t(l){if(typeof l.text!="string"||l.text==="")throw Error('Invalid parameter: "text"');if(!Array.isArray(l.languages))throw Error('Invalid parameter: "language"');if(!r.XZ.call(this)){var u=a.Z.create({type:n.E.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(u)}var g=this.context,f=g.orgName,d=g.appName,p=g.accessToken,m="".concat(this.apiUrl,"/").concat(f,"/").concat(d,"/users/").concat(this.user,"/translate"),T={text:l.text,to:l.languages},c={url:m,dataType:"json",type:"POST",data:JSON.stringify(T),headers:{Authorization:"Bearer "+p}};return s.kg.debug("Call translateMessage"),i.hj.call(this,c)}},3246:function(h,O,e){e.d(O,{H7:function(){return t},XZ:function(){return i},_W:function(){return o}}),e(7941),e(9554),e(1539),e(4747),e(6699),e(2023);var r=e(5531),n=e(7252);function a(){var l=this.context.appName,u=this.context.orgName;return!(!l||!u)||(this.onError&&this.onError({type:r.E.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function s(){var l;if(!this.context.accessToken){var u=n.Z.create({type:r.E.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return this.onError&&this.onError(u),(l=this.eventHandler)===null||l===void 0||l.dispatch("onError",u),!1}return!0}function i(){return s.call(this)&&a.call(this)}function o(l){var u=l.data,g=l.type;return{data:{status:Object.keys(u.errorKeys).length>0?"fail":"success",errorKeys:u.errorKeys,successKeys:u.successKeys},type:g}}function t(l){var u=l.data,g=void 0;return Object.keys(u.errorKeys).length>0&&Object.keys(u.errorKeys).forEach(function(f){var d=u.errorKeys[f];g=d.includes("is not part of you")?n.Z.create({type:r.E.NO_PERMISSION,message:d}):d.includes("size of metadata for this single chatroom exceeds the user defined limit")||d.includes("total size of chatroom metadata for this app exceeds the user defined limit")||d.includes("is exceeding maximum limit")?n.Z.create({type:r.E.MAX_LIMIT,message:d}):d.includes("is not Legal")?n.Z.create({type:r.E.REQUEST_PARAMETER_ERROR,message:d}):d.includes("Failed to update userMetadata. Concurrent updates not allowed")?n.Z.create({type:r.E.OPERATION_NOT_ALLOWED,message:d}):n.Z.create({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:d})}),g}},2071:function(h,O,e){e.d(O,{$x:function(){return i},F3:function(){return o},Nl:function(){return n},TJ:function(){return a},Tp:function(){return u},Wc:function(){return r},el:function(){return s},iB:function(){return t},yK:function(){return l}}),e(6992),e(1532),e(1539),e(8783),e(3948);var r=7,n=new Map,a=new Map,s="im",i="32f24ab2ddb74f508aa9286c356cec84",o=1e3,t={INIT:9674,API:9675},l="direct",u=-1},1595:function(h,O,e){var r,n,a,s,i,o;e.d(O,{C8:function(){return r},aC:function(){return o},c:function(){return a},dd:function(){return i},fI:function(){return n},td:function(){return s}}),function(t){t[t.UNKNOWOPERATION=-1]="UNKNOWOPERATION",t[t.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",t[t.REST_DEL_SESSION=2]="REST_DEL_SESSION",t[t.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",t[t.REST_PIN_CONVERSATION=4]="REST_PIN_CONVERSATION",t[t.REST_OPERATE=10]="REST_OPERATE",t[t.MSYNC_SENDMESSAGE=11]="MSYNC_SENDMESSAGE",t[t.MSYNC_RECALLMESSAGE=12]="MSYNC_RECALLMESSAGE",t[t.MSYNC_MODIFYMESSAGE=13]="MSYNC_MODIFYMESSAGE",t[t.MSYNC_OPERATE=20]="MSYNC_OPERATE",t[t.ROSTER_ADD=21]="ROSTER_ADD",t[t.ROSTER_REMOVE=22]="ROSTER_REMOVE",t[t.ROSTER_ACCEPT=23]="ROSTER_ACCEPT",t[t.ROSTER_DECLINE=24]="ROSTER_DECLINE",t[t.ROSTER_BAN=25]="ROSTER_BAN",t[t.ROSTER_ALLOW=26]="ROSTER_ALLOW",t[t.ROSTER_BLACKLIST=27]="ROSTER_BLACKLIST",t[t.ROSTER_CONTACTS=28]="ROSTER_CONTACTS",t[t.ROSTER_OPERATE=30]="ROSTER_OPERATE",t[t.USER_LOGIN=31]="USER_LOGIN",t[t.USER_CREATE=32]="USER_CREATE",t[t.USER_UPDATE_USERINFO=33]="USER_UPDATE_USERINFO",t[t.USER_FETCH_USERINFO=34]="USER_FETCH_USERINFO",t[t.USER_UPDATE_NICK=35]="USER_UPDATE_NICK",t[t.USER_UPLOAD_PUSH_TOKEN=36]="USER_UPLOAD_PUSH_TOKEN",t[t.USER_OPERATE=40]="USER_OPERATE",t[t.GROUP_CREATEGROUP=41]="GROUP_CREATEGROUP",t[t.GROUP_BLOCK_MESSAGE=42]="GROUP_BLOCK_MESSAGE",t[t.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=43]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",t[t.GROUP_FETCH_USERS_GROUP=44]="GROUP_FETCH_USERS_GROUP",t[t.GROUP_CHANGE_OWNER=45]="GROUP_CHANGE_OWNER",t[t.GROUP_FETCH_SPECIFICATION=46]="GROUP_FETCH_SPECIFICATION",t[t.GROUP_CHANGE_GROUPATTRIBUTE=47]="GROUP_CHANGE_GROUPATTRIBUTE",t[t.GROUP_FETCH_MEMEBERS=48]="GROUP_FETCH_MEMEBERS",t[t.GROUP_GET_ADMIN=49]="GROUP_GET_ADMIN",t[t.GROUP_SET_ADMIN=50]="GROUP_SET_ADMIN",t[t.GROUP_REMOVE_ADMIN=51]="GROUP_REMOVE_ADMIN",t[t.GROUP_DESTOTYGROUP=52]="GROUP_DESTOTYGROUP",t[t.GROUP_LEAVEGROUP=53]="GROUP_LEAVEGROUP",t[t.GROUP_INVITE_TO_GROUP=54]="GROUP_INVITE_TO_GROUP",t[t.GROUP_JOIN_PUBLICGROUP=55]="GROUP_JOIN_PUBLICGROUP",t[t.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=56]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",t[t.GROUP_DECLINE_JOINPUBLICGROUPAPPL=57]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",t[t.GROUP_ACCEPT_INVITATION=58]="GROUP_ACCEPT_INVITATION",t[t.GROUP_DECLINE_INVITATION=59]="GROUP_DECLINE_INVITATION",t[t.GROUP_REMOVE_MEMBER=60]="GROUP_REMOVE_MEMBER",t[t.GROUP_REMOVE_MEMBERS=61]="GROUP_REMOVE_MEMBERS",t[t.GROUP_MUTE_MEMBERS=62]="GROUP_MUTE_MEMBERS",t[t.GROUP_UNMUTE_MEMBERS=63]="GROUP_UNMUTE_MEMBERS",t[t.GROUP_FETCH_MUTES=64]="GROUP_FETCH_MUTES",t[t.GROUP_BLOCK_MEMBER=65]="GROUP_BLOCK_MEMBER",t[t.GROUP_BLOCK_MEMBERS=66]="GROUP_BLOCK_MEMBERS",t[t.GROUP_UNBLOCK_MEMBER=67]="GROUP_UNBLOCK_MEMBER",t[t.GROUP_UNBLOCK_MEMBERS=68]="GROUP_UNBLOCK_MEMBERS",t[t.GROUP_GET_BLOCK_LIST=69]="GROUP_GET_BLOCK_LIST",t[t.GROUP_MUTE_ALLMEMBERS=70]="GROUP_MUTE_ALLMEMBERS",t[t.GROUP_UNMUTE_ALLMEMBERS=71]="GROUP_UNMUTE_ALLMEMBERS",t[t.GROUP_ADD_WHITELIST=72]="GROUP_ADD_WHITELIST",t[t.GROUP_REMOVE_WHITELIST=73]="GROUP_REMOVE_WHITELIST",t[t.GROUP_FETCH_WHITELIST=74]="GROUP_FETCH_WHITELIST",t[t.GROUP_IS_IN_WHITELIST=75]="GROUP_IS_IN_WHITELIST",t[t.GROUP_GET_READ_USERS=76]="GROUP_GET_READ_USERS",t[t.GROUP_FETCH_ANNOUNCEMENT=77]="GROUP_FETCH_ANNOUNCEMENT",t[t.GROUP_UPDATE_ANNOUNCEMENT=78]="GROUP_UPDATE_ANNOUNCEMENT",t[t.GROUP_UPLOAD_SHAREDFILE=79]="GROUP_UPLOAD_SHAREDFILE",t[t.GROUP_DELETE_SHAREDFILE=80]="GROUP_DELETE_SHAREDFILE",t[t.GROUP_FETCH_SHAREDFILE=81]="GROUP_FETCH_SHAREDFILE",t[t.GROUP_DOWNLOAD_SHAREDFILE=82]="GROUP_DOWNLOAD_SHAREDFILE",t[t.GROUP_MEMBER_SET_META_DATA=83]="GROUP_MEMBER_SET_META_DATA",t[t.GROUP_MEMBER_FETCH_META_DATA=84]="GROUP_MEMBER_FETCH_META_DATA",t[t.GROUP_OPERATE=100]="GROUP_OPERATE",t[t.CHATROOM_FETCH_CHATROOMSWITHPAGE=101]="CHATROOM_FETCH_CHATROOMSWITHPAGE",t[t.CHATROOM_CREATECHATROOM=102]="CHATROOM_CREATECHATROOM",t[t.CHATROOM_DESTORYCHATROOM=103]="CHATROOM_DESTORYCHATROOM",t[t.CHATROOM_FETCH_SPECIFICATION=104]="CHATROOM_FETCH_SPECIFICATION",t[t.CHATROOM_CHANGE_ATTRIBUTE=105]="CHATROOM_CHANGE_ATTRIBUTE",t[t.CHATROOM_REMOVE_MEMBER=106]="CHATROOM_REMOVE_MEMBER",t[t.CHATROOM_REMOVE_MEMBERS=107]="CHATROOM_REMOVE_MEMBERS",t[t.CHATROOM_ADD_MEMBERS=108]="CHATROOM_ADD_MEMBERS",t[t.CHATROOM_JOINCAHTROOM=109]="CHATROOM_JOINCAHTROOM",t[t.CHATROOM_LEAVECAHTROOM=110]="CHATROOM_LEAVECAHTROOM",t[t.CHATROOM_FETCH_MEMBERS=111]="CHATROOM_FETCH_MEMBERS",t[t.CHATROOM_GET_ADMIN=112]="CHATROOM_GET_ADMIN",t[t.CHATROOM_SET_ADMIN=113]="CHATROOM_SET_ADMIN",t[t.CHATROOM_REMOVE_ADMIN=114]="CHATROOM_REMOVE_ADMIN",t[t.CHATROOM_MUTE_USER=115]="CHATROOM_MUTE_USER",t[t.CHATROOM_UNMUTE_USER=116]="CHATROOM_UNMUTE_USER",t[t.CHATROOM_FETCH_MUTES=117]="CHATROOM_FETCH_MUTES",t[t.CHATROOM_BLOCK_USER=118]="CHATROOM_BLOCK_USER",t[t.CHATROOM_BLOCK_USERS=119]="CHATROOM_BLOCK_USERS",t[t.CHATROOM_UNBLOCK_USER=120]="CHATROOM_UNBLOCK_USER",t[t.CHATROOM_UNBLOCK_USERS=121]="CHATROOM_UNBLOCK_USERS",t[t.CHATROOM_FETCH_BANS=122]="CHATROOM_FETCH_BANS",t[t.CHATROOM_MUTE_ALLMEMEBERS=123]="CHATROOM_MUTE_ALLMEMEBERS",t[t.CHATROOM_UNMUTE_ALLMEMEBERS=124]="CHATROOM_UNMUTE_ALLMEMEBERS",t[t.CHATROOM_ADD_WHITELIST=125]="CHATROOM_ADD_WHITELIST",t[t.CHATROOM_REMOVE_WHITELIST=126]="CHATROOM_REMOVE_WHITELIST",t[t.CHATROOM_FETCH_WHITELIST=127]="CHATROOM_FETCH_WHITELIST",t[t.CHATROOM_FETCH_MEMBERIN_WHITELIST=128]="CHATROOM_FETCH_MEMBERIN_WHITELIST",t[t.CHATROOM_FETCH_ANNOUNCEMENT=129]="CHATROOM_FETCH_ANNOUNCEMENT",t[t.CHATROOM_UPDATE_ANNOUNCEMENT=130]="CHATROOM_UPDATE_ANNOUNCEMENT",t[t.CHATROOM_REMOVE_SHARE_FILE=131]="CHATROOM_REMOVE_SHARE_FILE",t[t.CHATROOM_GET_SHARE_FILE_LIST=132]="CHATROOM_GET_SHARE_FILE_LIST",t[t.CHATROOM_UPLOAD_FILE=133]="CHATROOM_UPLOAD_FILE",t[t.CHATROOM_SET_META_DATA=134]="CHATROOM_SET_META_DATA",t[t.CHATROOM_DELETE_META_DATA=135]="CHATROOM_DELETE_META_DATA",t[t.CHATROOM_FETCH_META_DATA=136]="CHATROOM_FETCH_META_DATA",t[t.CHATROOM_OPERATE=150]="CHATROOM_OPERATE"}(r||(r={})),function(t){t.SDK_INTERNAL="SDK_INTERNAL",t.LOGIN="USER_LOGIN",t.REGISTER="USER_CREATE",t.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",t.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",t.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",t.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",t.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",t.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",t.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",t.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",t.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",t.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",t.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",t.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",t.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",t.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",t.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",t.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",t.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",t.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",t.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",t.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",t.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",t.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",t.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",t.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",t.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",t.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",t.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",t.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",t.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",t.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",t.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",t.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",t.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",t.SET_CHATROOM_ATTR="CHATROOM_SET_META_DATA",t.DELETE_CHATROOM_ATTR="CHATROOM_DELETE_META_DATA",t.GET_CHATROOM_ATTR="CHATROOM_FETCH_META_DATA",t.CREATE_GROUP="GROUP_CREATEGROUP",t.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",t.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",t.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",t.CHANGE_OWNER="GROUP_CHANGE_OWNER",t.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",t.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",t.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",t.GET_GROUP_ADMIN="GROUP_GET_ADMIN",t.SET_GROUP_ADMIN="GROUP_SET_ADMIN",t.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",t.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",t.QUIT_GROUP="GROUP_LEAVEGROUP",t.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",t.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",t.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",t.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",t.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",t.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",t.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",t.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",t.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",t.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",t.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",t.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",t.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",t.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",t.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",t.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",t.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",t.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",t.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",t.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",t.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",t.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",t.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",t.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",t.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",t.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",t.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",t.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",t.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",t.SET_GROUP_MEMBER_ATTRS="GROUP_MEMBER_SET_META_DATA",t.GET_GROUP_MEMBER_ATTR="GROUP_MEMBER_FETCH_META_DATA",t.GET_SESSION_LIST="REST_GET_SESSION_LIST",t.DELETE_SESSION="REST_DEL_SESSION",t.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",t.PIN_CONVERSATION="REST_PIN_CONVERSATION",t.UPDATE_USER_INFO="USER_UPDATE_USERINFO",t.GET_USER_INFO="USER_FETCH_USERINFO",t.UPDATE_USER_NICK="USER_UPDATE_NICK",t.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",t.GET_BLACK_LIST="ROSTER_BLACKLIST",t.GET_CONTACTS="ROSTER_CONTACTS",t.add="ROSTER_ADD",t.remove="ROSTER_REMOVE",t.accept="ROSTER_ACCEPT",t.decline="ROSTER_DECLINE",t.ban="ROSTER_BAN",t.allow="ROSTER_ALLOW",t.SEND_MSG="MSYNC_SENDMESSAGE",t.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",t.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE",t.MODIFY_MESSAGE="MSYNC_MODIFYMESSAGE"}(n||(n={})),function(t){t.GET_DNS="REST_DNSLIST",t.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",t.LOGIN_BY_PWD="LOGIN_BY_PWD",t.RESISTER="REGISTER"}(a||(a={})),function(t){t[t["5G"]=7]="5G",t[t["4G"]=7]="4G",t[t["3G"]=7]="3G",t[t["2G"]=7]="2G",t[t["SLOW-2G"]=7]="SLOW-2G",t[t.WIFI=2]="WIFI",t[t.LAN=1]="LAN",t[t.DISCONNECTED=0]="DISCONNECTED",t[t.NONE=0]="NONE",t[t.UNKNOWN=-1]="UNKNOWN",t[t["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(s||(s={})),function(t){t[t.success=200]="success",t[t.failed=500]="failed"}(i||(i={})),function(t){t[t.web=0]="web",t[t.native=1]="native"}(o||(o={}))},1070:function(h,O,e){e.d(O,{g:function(){return j},Z:function(){return X}}),e(9601),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(7042),e(2222),e(3710),e(9714),e(5212),e(8309),e(2772),e(9653),e(3843),e(1038),e(2564),e(9753),e(8264),e(9575),e(2472),e(2990),e(8927),e(3105),e(5035),e(4345),e(7174),e(2846),e(4731),e(7209),e(6319),e(8867),e(7789),e(3739),e(9368),e(4483),e(2056),e(3462),e(678),e(7462),e(3824),e(5021),e(2974),e(5016),e(561),e(6699),e(2023),e(3161),e(7941),e(9554),e(4747),e(285),e(1637),e(8145),e(1249),e(4812);var r=e(4188),n=e.n(r),a=e(3720),s=e.n(a),i=e(5531),o=e(8161),t=e(7360),l=["public","members_only","allow_user_invites","invite_need_confirm"],u={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function g(E,b){var x,C,P,_,S,W,M=this,G=this.context,te=G.userId,ce=G.jid,ye=b.from.name===te&&ce.clientResource!==b.from.clientResource;return b.isThread?(P={id:b.mucId.name,name:b.mucName,operation:"",parentId:b.mucParentId.name,operator:b.from.name,userName:b.to.length?b.to[0].name:""},_={chatThreadId:b.mucId.name,chatThreadName:b.mucName,operation:"",parentId:b.mucParentId.name}):(C={type:"",owner:b.from.name,gid:b.mucId.name,from:b.from.name,fromJid:b.from,to:b.to.length?b.to[0].name:"",toJid:b.to,chatroom:b.isChatroom,status:b.status},S={operation:"",id:b.mucId.name,from:b.from.name},b.isChatroom&&(!((x=b==null?void 0:b.eventInfo)===null||x===void 0)&&x.ext)&&(W=JSON.parse(b.eventInfo.ext))),({45:function(){var B,J,ae;S.operation="memberAttributesUpdate";var ie=JSON.parse((B=b==null?void 0:b.eventInfo)===null||B===void 0?void 0:B.ext)||{};S.attributes=ie.properties||{},S.userId=ie.username||"",ye?(J=M.eventHandler)===null||J===void 0||J.dispatch("onMultiDeviceEvent",S):(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onGroupEvent",S)},44:function(){var B;S.operation="removeChatRoomAttributes",S.attributes=W.result.successKeys,W.result.successKeys.length>0&&((B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomEvent",S))},43:function(){var B;S.operation="updateChatRoomAttributes";var J={};W.result.successKeys.forEach(function(ae){J[ae]=W.properties[ae]}),S.attributes=J,W.result.successKeys.length>0&&((B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomEvent",S))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var B;_.operation="chatThreadNameUpdate",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},37:function(){var B;P.operation="userRemove",(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatThreadChange",P)},36:function(){var B;_.operation="chatThreadLeave",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},35:function(){var B;_.operation="chatThreadJoin",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},34:function(){var B;_.operation="chatThreadDestroy",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},33:function(){var B;_.operation="chatThreadCreate",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},32:function(){var B,J,ae,ie;C.type=b.isChatroom?"rmChatRoomMute":"rmGroupMute",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="unmuteAllMembers",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},31:function(){var B,J,ae,ie;C.type=b.isChatroom?"muteChatRoom":"muteGroup",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="muteAllMembers",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},30:function(){var B,J,ae,ie;C.type=b.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="removeAllowlistMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},29:function(){var B,J,ae,ie;C.type=b.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="addUserToAllowlist",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},28:function(){var B,J,ae,ie;C.type="deleteFile",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="deleteFile",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},27:function(){var B,J,ae,ie;C.type="uploadFile",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="uploadFile",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},26:function(){var B,J,ae,ie;C.type="deleteAnnouncement",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="deleteAnnouncement",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},25:function(){var B,J,ae,ie;C.type="updateAnnouncement",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="updateAnnouncement",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},24:function(){var B,J,ae,ie;C.type="removeMute",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="unmuteMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},23:function(){var B,J,ae,ie;C.type="addMute",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="muteMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},22:function(){var B,J,ae,ie;C.type="removeAdmin",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="removeAdmin",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},21:function(){var B,J,ae,ie;C.type="addAdmin",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="setAdmin",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},20:function(){var B,J,ae,ie;C.type="changeOwner",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="changeOwner",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},19:function(){var B,J,ae,ie;C.type="direct_joined",C.groupName=b.mucName,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="directJoined",S.name=b.mucName,b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},18:function(){var B,J,ae,ie;C.type=b.isChatroom?"leaveChatRoom":"leaveGroup",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="memberAbsence",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},17:function(){var B,J,ae,ie;C.type=b.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="memberPresence",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},16:function(){var B,J;C.type="unblock",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},15:function(){var B,J;C.type="block",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},14:function(){var B,J,ae,ie,Me,Ze=b.isChatroom;if(!Ze){var Re=JSON.parse(((B=b==null?void 0:b.eventInfo)===null||B===void 0?void 0:B.ext)||"{}",function(Ke,pe){return Ke==="last_modified"?Number(pe):l.includes(Ke)?pe==="true"||pe===!0:pe});S.detail=C.detail={},Object.keys(Re).forEach(function(Ke){var pe=u[Ke];if(pe){var Xe=Re[Ke];S.detail&&(S.detail[pe]=Xe),C.detail&&(C.detail[pe]=Xe)}})}C.type="update",M.onPresence&&M.onPresence(C),Ze?(J=M.eventHandler)===null||J===void 0||J.dispatch("onChatroomChange",C):(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onGroupChange",C),S.operation="updateInfo",Ze?(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onChatroomEvent",S):(Me=M.eventHandler)===null||Me===void 0||Me.dispatch("onGroupEvent",S)},13:function(){var B,J,ae,ie;C.type="allow",C.reason=b.reason,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="unblockMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},12:function(){var B,J;C.type="ban",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},11:function(){var B,J;C.type="getBlackList",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},10:function(){var B,J,ae,ie;C.type="removedFromGroup",C.kicked=C.to,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="removeMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},9:function(){var B,J,ae,ie;C.type="invite_decline",C.kicked=C.to,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="rejectInvite",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},8:function(){var B,J,ae,ie;C.type="invite_accept",C.kicked=C.to,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="acceptInvite",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},7:function(){var B,J,ae,ie;C.type="invite",C.kicked=C.to,C.groupName=b.mucName,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="inviteToJoin",S.name=b.mucName,b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},6:function(){var B,J,ae,ie;C.type="joinPublicGroupDeclined",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="joinPublicGroupDeclined",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},5:function(){var B,J,ae,ie;C.type="joinPublicGroupSuccess",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="acceptRequest",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},4:function(){var B,J,ae,ie;C.type="joinGroupNotifications",C.reason=b.reason,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="requestToJoin",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},3:function(){var B,J;C.type="leave",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},2:function(){var B,J;C.type="join",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},1:function(){var B,J,ae,ie;C.type="deleteGroupChat",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="destroy",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},0:function(){var B,J;S.operation="create",b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomEvent",S):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupEvent",S)}}[E]||function(){console.error("No match operation ".concat(E))})()}var f=function(E){var b=this.root.lookup("easemob.pb.MUCBody").decode(E.payload),x=b.operation;t.kg.debug("onMucMessage",b),g.call(this,x,b)},d=e(4968),p=e(7252),m=function(E){var b,x,C,P,_,S,W=this.root.lookup("easemob.pb.StatisticsBody").decode(E.payload);switch(W.operation){case 0:this.onStatisticMessage&&this.onStatisticMessage(W),(b=this.eventHandler)===null||b===void 0||b.dispatch("onStatisticMessage",W);break;case 1:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.logOut=!0,this.onError&&this.onError(S),(x=this.eventHandler)===null||x===void 0||x.dispatch("onError",S);break;case 2:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),this.logOut=!0,this.onError&&this.onError(S),(C=this.eventHandler)===null||C===void 0||C.dispatch("onError",S);break;case 3:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.logOut=!0,this.onError&&this.onError(S),(P=this.eventHandler)===null||P===void 0||P.dispatch("onError",S);break;case 4:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.logOut=!0,this.onError&&this.onError(S),(_=this.eventHandler)===null||_===void 0||_.dispatch("onError",S);break;default:t.kg.error("handleStatisticsMsg:",W)}},T=(e(9720),e(4370)),c=e(4363);function I(E){var b,x=[],C=[],P=E.data;P&&P.values&&P.values.forEach(function(_){Object.entries(_.status).forEach(function(S){C.push({device:S[0],status:Number(S[1])})}),x.push({userId:_.uid,lastTime:Number(_.last_time),expire:Number(_.expiry),ext:_.ext,statusDetails:C})}),this.onPresenceStatusChange&&this.onPresenceStatusChange(x),(b=this.eventHandler)===null||b===void 0||b.dispatch("onPresenceStatusChange",x)}function v(E){var b=this;E.data.forEach(function(x){var C,P={from:x.from,to:x.to,chatType:x.channel_type==="chat"?"singleChat":"groupChat",messageId:x.messageId,reactions:x.reactions,ts:x.ts};(C=b.eventHandler)===null||C===void 0||C.dispatch("onReactionChange",P)})}function N(E){var b,x,C,P;if(E.data){var _=E.data,S={id:_.id||"",name:_.name||"",parentId:_.muc_parent_id||"",messageId:_.msg_parent_id||"",timestamp:_.timestamp||0,operator:_.from||"",operation:""};switch(_.operation){case"create":S.operation="create",S.createTimestamp=S.timestamp,S.messageCount=0,(b=this.eventHandler)===null||b===void 0||b.dispatch("onChatThreadChange",S);break;case"update_msg":S.operation="update",S.messageCount=_.message_count,_.last_message&&JSON.stringify(_.last_message)!=="{}"?S.lastMessage=(0,c.w)(_.last_message):JSON.stringify(_.last_message)==="{}"&&(S.lastMessage={}),(x=this.eventHandler)===null||x===void 0||x.dispatch("onChatThreadChange",S);break;case"update":S.operation="update",S.messageCount=_.message_count,(C=this.eventHandler)===null||C===void 0||C.dispatch("onChatThreadChange",S);break;case"delete":S.operation="destroy",(P=this.eventHandler)===null||P===void 0||P.dispatch("onChatThreadChange",S)}}}function k(E){var b,x=E.data;if(x.resource!==this.clientResource){var C={operation:"deleteRoaming",conversationId:x.to,chatType:x.chatType==="chat"?"singleChat":"groupChat",resource:x.resource};(b=this.eventHandler)===null||b===void 0||b.dispatch("onMultiDeviceEvent",C)}}function A(E){var b,x=E.data,C={operation:x.op==="del"?"deleteConversation":x.op==="top"?"pinnedConversation":"unpinnedConversation",conversationId:x.id,conversationType:x.type==="chat"?"singleChat":"groupChat",timestamp:x.ts};this.clientResource!==x.res&&((b=this.eventHandler)===null||b===void 0||b.dispatch("onMultiDeviceEvent",C))}var R=function(E){var b=T.P6.parseNotify(E.payload);switch(b.type){case"presence":I.call(this,b);break;case"reaction":v.call(this,b);break;case"thread":N.call(this,b);break;case"roaming_delete":k.call(this,b);break;case"conv":A.call(this,b);break;default:t.kg.error("unexpected notify type: ".concat(b.type))}},y=e(2071),U=e(1595);function L(E){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},L(E)}var j,H=function(){return H=Object.assign||function(E){for(var b,x=1,C=arguments.length;x<C;x++)for(var P in b=arguments[x])Object.prototype.hasOwnProperty.call(b,P)&&(E[P]=b[P]);return E},H.apply(this,arguments)};(function(E){E[E.NORMAL=0]="NORMAL",E[E.SINGLECHAT=1]="SINGLECHAT",E[E.GROUPCHAT=2]="GROUPCHAT",E[E.CHATROOM=3]="CHATROOM",E[E.READ_ACK=4]="READ_ACK",E[E.DELIVER_ACK=5]="DELIVER_ACK",E[E.RECALL=6]="RECALL",E[E.CHANNEL_ACK=7]="CHANNEL_ACK",E[E.EDIT=8]="EDIT"})(j||(j={}));var ee=T.P6.getEnvInfo();function F(){var E="webim",b="",x="",C=[],P=new Date().valueOf();this.deviceId==="webim"?(x="random_"+P.toString(),E=this.deviceId+"_"+x,b=this.deviceId):E=b=x="webim_"+this.deviceId,this.context.jid&&(this.context.jid.clientResource=E);var _=this.root.lookup("easemob.pb.Provision"),S=_.decode(C);S.compressType=this.compressType,S.encryptType=this.encryptType,S.osType=this.osType,S.version=this.version,S.deviceName=b,S.resource=E,S.deviceUuid=x,S.auth="$t$"+this.token,S.actionVersion="v2.0",S=_.encode(S).finish();var W=this.root.lookup("easemob.pb.MSync"),M=W.decode(C);return M.version=this.version,M.guid=this.context.jid,M.auth="$t$"+this.token,M.command=3,M.deviceId=b,M.serviceId=this.dataReport.getServiceId(),M.encryptType=this.encryptType,M.payload=S,W.encode(M).finish()}function K(E,b){var x=this,C=T.P6.getEnvInfo();if(C.platform==="web"||C.platform==="zfb"||C.platform==="dd"){for(var P="",_=0;_<E.length;_++)P+=String.fromCharCode(E[_]);return P=n().btoa(P),C.platform==="web"?P:{data:P,isBuffer:!1,complete:function(){},fail:function(W){W.errMsg!=="sendSocketMessage:fail taskID not exist"&&W.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||(t.kg.debug("send message fail and reconnect"),x.reconnecting||x.reconnect()),b&&x._msgHash&&x._msgHash[b]&&x._msgHash[b].fail({id:b})}}}var S=E;return{data:S.buffer.slice(S.byteOffset,S.byteOffset+S.byteLength),fail:function(W){W.errMsg!=="sendSocketMessage:fail taskID not exist"&&W.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||x.reconnecting||x.reconnect(),b&&x._msgHash&&x._msgHash[b]&&x._msgHash[b].fail({id:b})}}}function Z(E,b){switch(E.ns){case 0:m.call(this,E);break;case 1:o.Z.call(this,E,b);break;case 2:f.call(this,E);break;case 3:d.Z.handleRosterMsg.call(this,E);break;case 4:this.registerConfrIQHandler&&this.registerConfrIQHandler(E,b,this);break;case 5:R.call(this,E);break;default:t.kg.error("distributeMeta",E)}}function oe(E,b){for(var x=function(_){var S=new(s())(E[_].id.low,E[_].id.high,E[_].id.unsigned).toString();if(C._load_msg_cache.some(function(te){return te.msgId===S}))return"continue";var W=E[_].from.name,M=E[_].to?E[_].to.name:"",G=!!E[_].to&&E[_].to.domain.indexOf("conference")!==-1;C._load_msg_cache.length<=C.max_cache_length||C._load_msg_cache.shift(),C._load_msg_cache.push({msgId:S,from:W,to:M,isGroup:G}),Z.call(C,E[_],b)},C=this,P=0;P<E.length;P++)x(P)}function le(E){var b=this.root.lookup("easemob.pb.CommUnreadDL");if(b=b.decode(E.payload),this.grantType==="agoraToken"){var x=new(s())(b.timestamp.low,b.timestamp.high,b.timestamp.unsigned).toString();this.compareTokenExpireTime(Number(x),this.expirationTime)}if(b.unread.length===0)fe.call(this);else for(var C=0;C<b.unread.length;C++)t.kg.debug("pull unread message",b.unread),re.call(this,b.unread[C].queue);fe.call(this)}function de(){var E=[],b=this.root.lookup("easemob.pb.StatisticsBody"),x=b.decode(E);x.operation=0,x=b.encode(x).finish();var C=this.root.lookup("easemob.pb.Meta").decode(E);C.id=new Date().valueOf(),C.ns=0,C.payload=x;var P=this.root.lookup("easemob.pb.CommSyncUL"),_=P.decode(E);_.meta=C,_=P.encode(_).finish();var S=this.root.lookup("easemob.pb.MSync"),W=S.decode(E);return W.version=this.version,W.encryptType=[0],W.command=0,W.payload=_,S.encode(W).finish()}function Ee(E){var b=[],x=this.root.lookup("easemob.pb.CommSyncUL"),C=x.decode(b);C.queue=E,C=x.encode(C).finish();var P=this.root.lookup("easemob.pb.MSync"),_=P.decode(b);return _.version=this.version,_.encryptType=this.encryptType,_.command=0,_.payload=C,P.encode(_).finish()}function re(E){t.kg.debug("sendBackqueue");var b=Ee.call(this,E);w.call(this,b)}function z(E,b){var x=[],C=this.root.lookup("easemob.pb.CommSyncUL"),P=C.decode(x);P.queue=b,P.key=new(s())(E.low,E.high,E.unsigned).toString(),P=C.encode(P).finish();var _=this.root.lookup("easemob.pb.MSync"),S=_.decode(x);return S.version=this.version,S.encryptType=this.encryptType,S.command=0,S.payload=P,_.encode(S).finish()}function ue(E,b){t.kg.debug("sendLastSession");var x=z.call(this,E,b);w.call(this,x)}function Q(E){var b,x,C,P,_,S,W=this.root.lookup("easemob.pb.Provision").decode(E.payload);if(this.context.jid&&(this.context.jid.clientResource=W.resource),this.clientResource=W.resource,W.status.errorCode===0){if(this.reconnecting=!1,this.logOut=!1,ee.platform!=="zfb"&&ee.platform!=="dd"||(this.sock.readyState=1),this.times=1,this.autoReconnectNumTotal=0,this.onOpened&&this.onOpened(),(b=this.eventHandler)===null||b===void 0||b.dispatch("onConnected"),this.grantType==="agoraToken"){var M=Date.now();this.expiresIn=this.expirationTime-M,this.tokenExpireTimeCountDown(this.expiresIn)}ne.call(this),Oe.call(this),Y.call(this),fe.call(this)}else{var G=void 0,te=W.status.reason;switch(te){case"Sorry, the app day live count limit":G=p.Z.create({type:i.E.MAX_LIMIT,message:"Sorry, the daily active user limit for this app has been reached"}),(x=this.eventHandler)===null||x===void 0||x.dispatch("onError",G);break;case"Sorry, the app online count limit":G=p.Z.create({type:i.E.MAX_LIMIT,message:"Sorry, the maximum number limit of online users for this app has been reached"}),(C=this.eventHandler)===null||C===void 0||C.dispatch("onError",G);break;case"Sorry, the app month live count limit":G=p.Z.create({type:i.E.MAX_LIMIT,message:"Sorry, the monthly active user limit for this app has been reached"}),(P=this.eventHandler)===null||P===void 0||P.dispatch("onError",G);break;case"Sorry, who are you?":G=p.Z.create({type:i.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),(_=this.eventHandler)===null||_===void 0||_.dispatch("onError",G);break;default:G=p.Z.create({type:i.E.SERVER_UNKNOWN_ERROR,message:te}),(S=this.eventHandler)===null||S===void 0||S.dispatch("onError",G)}}}function ne(){var E,b;if(((E=this.unMSyncSendMsgMap)===null||E===void 0?void 0:E.size)>0){for(var x=Array.from(this.unMSyncSendMsgMap.keys()),C=0;C<x.length;C++){var P=this.unMSyncSendMsgMap.get(x[C]);w.call(this,P,x[C])}(b=this.unMSyncSendMsgMap)===null||b===void 0||b.clear()}}function fe(){var E=de.call(this);w.call(this,E)}function Y(){var E=Be.call(this);w.call(this,E)}function Oe(){var E=this;Ae.call(this),this.heartBeatID=setInterval(function(){Y.call(E)},this.heartBeatWait)}function Ae(){clearInterval(this.heartBeatID)}function Be(){var E=this.root.lookup("easemob.pb.MSync"),b=E.decode([]);return b.version=this.version,b.encryptType=this.encryptType,b.command=1,E.encode(b).finish()}function Ce(E,b){return E.some(function(x){return x.name===b.name})}function Ue(E){var b=this,x=this.root.lookup("easemob.pb.CommNotice"),C=x.decode(E.payload),P=Ce(this._queues,C.queue);t.kg.debug("receive notice",x,this._queues),P||this.clientResource===C.queue.clientResource&&C.queue.name===this.context.userId||(this.qTimer&&clearTimeout(this.qTimer),this.qTimer=setTimeout(function(){var _=C.queue;Ce(b._queues,_)&&(re.call(b,_),t.kg.debug("⬇q:",_))},1e4),this._queues.push(C.queue),this._queues.length===1&&re.call(this,C.queue))}function ke(E){if(typeof E=="string"){var b=JSON.parse(E);if(Array.isArray(b)){var x=b[0],C=b[1];this.closeInfo={code:x,reason:C}}}}function je(E){return b=this,x=void 0,P=function(){var _,S,W,M,G,te,ce,ye;return function(B,J){var ae,ie,Me,Ze,Re={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]};return Ze={next:Ke(0),throw:Ke(1),return:Ke(2)},typeof Symbol=="function"&&(Ze[Symbol.iterator]=function(){return this}),Ze;function Ke(pe){return function(Xe){return function(qe){if(ae)throw new TypeError("Generator is already executing.");for(;Re;)try{if(ae=1,ie&&(Me=2&qe[0]?ie.return:qe[0]?ie.throw||((Me=ie.return)&&Me.call(ie),0):ie.next)&&!(Me=Me.call(ie,qe[1])).done)return Me;switch(ie=0,Me&&(qe=[2&qe[0],Me.value]),qe[0]){case 0:case 1:Me=qe;break;case 4:return Re.label++,{value:qe[1],done:!1};case 5:Re.label++,ie=qe[1],qe=[0];continue;case 7:qe=Re.ops.pop(),Re.trys.pop();continue;default:if(!((Me=(Me=Re.trys).length>0&&Me[Me.length-1])||qe[0]!==6&&qe[0]!==2)){Re=0;continue}if(qe[0]===3&&(!Me||qe[1]>Me[0]&&qe[1]<Me[3])){Re.label=qe[1];break}if(qe[0]===6&&Re.label<Me[1]){Re.label=Me[1],Me=qe;break}if(Me&&Re.label<Me[2]){Re.label=Me[2],Re.ops.push(qe);break}Me[2]&&Re.ops.pop(),Re.trys.pop();continue}qe=J.call(B,Re)}catch(ze){qe=[6,ze],ie=0}finally{ae=Me=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([pe,Xe])}}}(this,function(B){if(_=T.P6.getEnvInfo(),S=this.root.lookup("easemob.pb.MSync"),this.name==="miniCore"){try{E.data instanceof ArrayBuffer||(t.kg.debug("received message: ".concat(E.data)),ke.call(this,E.data)),M=new Uint8Array(E.data),W=S.decode(M)}catch{throw new Error("decode message fail.")}return[2,W]}if(_.platform==="web"||_.platform==="zfb"||_.platform==="dd"){for(E.data==='[401,"normal closed"]'&&(t.kg.debug("received message: ".concat(E.data)),ke.call(this,E.data)),G=n().atob(E.data),te=[],ce=0,ye=G.length;ce<ye;++ce)te.push(G.charCodeAt(ce));return[2,S.decode(te)]}try{E.data instanceof ArrayBuffer||(t.kg.debug("received message: ".concat(E.data)),ke.call(this,E.data)),W=S.decode(E.data)}catch{throw new Error("decode message fail.")}return[2,W]})},new((C=void 0)||(C=Promise))(function(_,S){function W(te){try{G(P.next(te))}catch(ce){S(ce)}}function M(te){try{G(P.throw(te))}catch(ce){S(ce)}}function G(te){var ce;te.done?_(te.value):(ce=te.value,ce instanceof C?ce:new C(function(ye){ye(ce)})).then(W,M)}G((P=P.apply(b,x||[])).next())});var b,x,C,P}function Ge(E){var b=this;E.then(function(x){if(x)switch(x.command){case 0:xe.call(b,x);break;case 1:le.call(b,x);break;case 2:Ue.call(b,x);break;case 3:Q.call(b,x);break;default:t.kg.error("unexpected msync command: ".concat(x.command))}else t.kg.error("unexpected msync result: ".concat(x))})}function xe(E){var b,x,C,P,_,S,W,M,G,te,ce,ye,B,J,ae,ie,Me,Ze,Re=this.root.lookup("easemob.pb.CommSyncDL");Re=Re.decode(E.payload);var Ke=new(s())(Re.serverId.low,Re.serverId.high,Re.serverId.unsigned).toString(),pe=new(s())(Re.metaId.low,Re.metaId.high,Re.metaId.unsigned).toString();if(Re.status)if(Re.status.errorCode===0){if(Number(pe)>0){(Ye=y.Nl.get(pe))&&((0,Ye.rpt)({isEndApi:!0,data:{isSuccess:1,requestName:Ye.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:U.dd.success}}),y.Nl.delete(pe));var Xe=this._msgHash[pe];if(Xe!=null&&Xe.isHandleChatroom){try{var qe=((b=this._msgHash[pe])===null||b===void 0?void 0:b.operation)==="join";((x=this._msgHash[pe])===null||x===void 0?void 0:x.resolve)instanceof Function&&qe&&this._msgHash[pe].resolve({type:0,data:{action:"apply",id:this._msgHash[pe].roomId,result:!0,user:this.context.userId}}),((C=this._msgHash[pe])===null||C===void 0?void 0:C.success)instanceof Function&&qe&&this._msgHash[pe].success({type:0,data:{action:"apply",id:this._msgHash[pe].roomId,result:!0,user:this.context.userId}}),((P=this._msgHash[pe])===null||P===void 0?void 0:P.resolve)instanceof Function&&!qe&&this._msgHash[pe].resolve({type:0,data:{result:!0}}),((_=this._msgHash[pe])===null||_===void 0?void 0:_.success)instanceof Function&&!qe&&this._msgHash[pe].success({type:0,data:{result:!0}})}catch(rt){var ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:rt});this.onError&&this.onError(ze),(S=this.eventHandler)===null||S===void 0||S.dispatch("onError",ze)}delete this._msgHash[pe]}if(Xe&&!Xe.isHandleChatroom){var it=null,at="",V=0;if(Re.metas.length!==0)try{var Pe=T.P6.parseNotify(Re.metas[0].payload);if(Pe.edit_msg){var Te=Pe.edit_msg,we=Te.count,Le=Te.operator,Fe=Te.edit_time,He=Te.sender,se=Te.send_time;it={operationTime:Fe,operatorId:Le,operationCount:we},at=He,V=Number(se)}}catch(rt){ze=p.Z.create({type:i.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:rt}),this.onError&&this.onError(ze),(W=this.eventHandler)===null||W===void 0||W.dispatch("onError",ze)}y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:U.dd.success,msgId:Ke}}),y.TJ.delete(pe));try{var _e={localMsgId:pe,serverMsgId:Ke};if(it){this._msgHash[pe].modifiedInfo=it;var ve=this._msgHash[pe],Je=ve.editMessageId,me=ve.type,et=ve.chatType,Qe=ve.msg,$e=ve.to,he=ve.translations,Ne={id:Je,type:me,chatType:et,msg:Qe,modifiedInfo:it,to:$e,from:at,time:Number(V)};he&&(Ne.translations=he),_e.message=Ne}((M=this._msgHash[pe])===null||M===void 0?void 0:M.resolve)instanceof Function&&this._msgHash[pe].resolve(_e),((G=this._msgHash[pe])===null||G===void 0?void 0:G.success)instanceof Function&&this._msgHash[pe].success(pe,Ke)}catch(rt){ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:rt}),this.onError&&this.onError(ze),(te=this.eventHandler)===null||te===void 0||te.dispatch("onError",ze)}this.onReceivedMessage&&this.onReceivedMessage({id:pe,mid:Ke,to:this._msgHash[pe].to,time:0}),(ce=this.eventHandler)===null||ce===void 0||ce.dispatch("onReceivedMessage",{id:pe,mid:Ke,to:this._msgHash[pe].to}),delete this._msgHash[pe]}}else if(Re.metas.length!==0)try{oe.call(this,Re.metas,Re.status)}catch(rt){ze=p.Z.create({type:i.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:rt}),this.onError&&this.onError(ze),(ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onError",ze)}finally{if(Re.isLast){var nt=-1;this._queues.some(function(rt,ot){return rt.name===Re.name&&(nt=ot,!0)})&&nt>0&&this._queues.splice(nt,1),this._queues.length>0&&(re.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}else ue.call(this,Re.nextKey,Re.queue)}else if(Re.isLast){var We=-1;this._queues.some(function(rt,ot){return rt.name===Re.queue.name&&(We=ot,!0)})&&this._queues.splice(We,1),this._queues.length>0&&(re.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}}else if(Re.status.errorCode===15)((B=this._msgHash[pe])===null||B===void 0?void 0:B.fail)instanceof Function&&this._msgHash[pe].fail({type:i.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject({type:i.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"});else if(Re.status.errorCode===1){switch(me=void 0,Re.status.reason){case"blocked":me=i.E.PERMISSION_DENIED;break;case"group not found":me=i.E.GROUP_NOT_EXIST;break;case"not in group or chatroom":me=i.E.GROUP_NOT_JOINED;break;case"exceed recall time limit":me=i.E.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":me=i.E.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":me=i.E.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":me=i.E.USER_NOT_FRIEND,Re.status.reason="not contact";break;case"group is disabled":me=i.E.GROUP_IS_DISABLED,Re.status.reason="group is disabled";break;case"limit directed users":me=i.E.MAX_LIMIT;break;case"Sorry, edit limit reached":me=i.E.MAX_LIMIT,Re.status.reason="Modify message limit reached";break;case"Sorry, message does not exist":me=i.E.MODIFY_MESSAGE_NOT_EXIST,Re.status.reason="The message does not exist.";break;case"Sorry, You do not have permission":me=i.E.PERMISSION_DENIED,Re.status.reason="You do not have the modified permission.";break;case"Sorry, format is incorrect":me=i.E.MODIFY_MESSAGE_FORMAT_ERROR,Re.status.reason="The modify messaged format error.";break;case"Sorry, edit is not available":me=i.E.SERVICE_NOT_ENABLED,Re.status.reason="The message modify function is not activated.";break;case"Sorry, edit fail":me=i.E.MODIFY_MESSAGE_FAILED,Re.status.reason="Modify message failed.";break;default:Re.status.reason.includes("grpID")&&Re.status.reason.includes("does not exist!")?(me=i.E.CHATROOM_NOT_EXIST,Re.status.reason="The chat room dose not exist."):Re.status.reason.includes("username")&&Re.status.reason.includes("doesn't exist!")?me=i.E.USER_NOT_FOUND:Re.status.reason==="group member list is full!"?me=i.E.CHATROOM_MEMBERS_FULL:Re.status.reason.includes("can not join this group")&&Re.status.reason.includes("is in the blacklist")?(me=i.E.PERMISSION_DENIED,Re.status.reason="permission denied"):me=Re.status.reason==="can not operate this group, reason: group is disabled"?i.E.GROUP_IS_DISABLED:Re.status.reason.includes("moderation")?i.E.MESSAGE_MODERATION_BLOCKED:i.E.SERVER_UNKNOWN_ERROR}if(this._msgHash[pe]){if(!((J=this._msgHash[pe])===null||J===void 0)&&J.isHandleChatroom){var Ve=p.Z.create({type:me,message:Re.status.reason||"",data:""});this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].error instanceof Function&&this._msgHash[pe].error(Ve)}else Ve=p.Z.create({type:me,message:Re.status.reason||"",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:me,reason:Re.status.reason?Re.status.reason:"",data:{id:pe,mid:Ke}});delete this._msgHash[pe]}}else if(Re.status.errorCode===7)Re.status.reason==="sensitive words"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:pe,mid:Ke,reason:"sensitive words"}})):Re.status.reason==="blocked by mod_antispam"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:pe,mid:Ke,reason:"blocked by mod_antispam"}})):Re.status.reason==="user is mute"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail(Ve)):Re.status.reason==="traffic limit"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail(Ve)):Re.status.reason==="Sorry, data is too large"&&this._msgHash[pe]&&(Ve=p.Z.create({type:i.E.MESSAGE_SIZE_LIMIT,message:"Sorry, data is too large",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail(Ve));else if(Re.status.errorCode===19)this._msgHash[pe]&&(y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:i.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:Re.status.reason||"",msgId:Ke}}),y.TJ.delete(pe)),Ve=p.Z.create({type:i.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:Re.status.reason||"",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:pe,mid:Ke,reason:Re.status.reason}}));else if(this._msgHash[pe]){y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:i.E.WEBIM_LOAD_MSG_ERROR,codeDesc:((ae=Re.status)===null||ae===void 0?void 0:ae.reason)||"",msgId:Ke}}),y.TJ.delete(pe));try{Ve=p.Z.create({type:i.E.WEBIM_LOAD_MSG_ERROR,message:((ie=Re.status)===null||ie===void 0?void 0:ie.reason)||"",data:{id:pe,mid:Ke,reason:Re.status&&Re.status.reason}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.WEBIM_LOAD_MSG_ERROR,data:{errorCode:Re.status&&Re.status.errorCode,reason:Re.status&&Re.status.reason}})}catch(rt){ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:rt}),this.onError&&this.onError(ze),(Me=this.eventHandler)===null||Me===void 0||Me.dispatch("onError",ze)}delete this._msgHash[pe]}else{var Ye;y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:Ke}}),y.TJ.delete(pe)),(Ye=y.Nl.get(pe))&&((0,Ye.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:Ye.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:U.dd.failed,codeDesc:"on message error"}}),y.Nl.delete(pe)),ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(ze),(Ze=this.eventHandler)===null||Ze===void 0||Ze.dispatch("onError",ze)}}function De(E){var b=[],x=this.root.lookup("easemob.pb.KeyValue"),C=[];for(var P in E){var _=x.decode(b);_.key=P,L(E[P])==="object"?(_.type=8,_.stringValue=JSON.stringify(E[P])):typeof E[P]=="string"?(_.type=7,_.stringValue=E[P]):typeof E[P]=="boolean"?(_.type=1,_.varintValue=E[P]===!0?1:0):Number.isInteger(E[P])?(_.type=2,_.varintValue=E[P]):(_.type=6,_.doubleValue=E[P]),C.push(_)}return C}function ge(E){var b,x,C,P=[];if(this.root){var _,S=this.root.lookup("easemob.pb.MessageBody.Content").decode(P);switch(_=!E.group&&((b=E==null?void 0:E.chatType)===null||b===void 0?void 0:b.toLowerCase())!=="groupchat"||E.roomType?E.group&&E.roomType||((x=E==null?void 0:E.chatType)===null||x===void 0?void 0:x.toLowerCase())==="chatroom"?"chatRoom":"singleChat":"groupChat",E.type){case"txt":S.type=0,S.text=E.msg;break;case"img":S.type=1,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.size=E.body.size,S.thumbnailDisplayName=E.body.filename):E.file?(S.displayName=E.file.filename,S.remotePath=E.file.url,S.secretKey=E.file.secret,S.fileLength=E.file.file_length,S.size=E.file.size,S.thumbnailDisplayName=E.file.filename):(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.size=E.size,S.thumbnailDisplayName=E.filename),E.isBuildCombinedMsg&&(S.size={height:E.height,width:E.width});break;case"video":S.type=2,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.duration=E.body.length,S.thumbnailDisplayName=E.body.filename):E.isBuildCombinedMsg&&(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.duration=E.length,S.thumbnailDisplayName=E.filename);break;case"loc":S.type=3,S.latitude=E.lat,S.longitude=E.lng,S.address=E.addr,S.buildingName=E.buildingName,S.latitude=E.lat;break;case"audio":S.type=4,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.duration=E.body.length,S.thumbnailDisplayName=E.body.filename):E.isBuildCombinedMsg&&(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.duration=E.length,S.thumbnailDisplayName=E.filename);break;case"file":S.type=5,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.thumbnailDisplayName=E.body.filename):E.isBuildCombinedMsg&&(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.thumbnailDisplayName=E.filename);break;case"cmd":S.type=6,S.action=E.action;break;case"custom":S.type=7,S.customEvent=E.customEvent,S.customExts=De.call(this,E.customExts);break;case"combine":S.type=0,S.subType=0,S.text=E.compatibleText,S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.title=E.title,S.summary=E.summary}var W=[];E.ext&&(W=De.call(this,E.ext));var M=this.root.lookup("easemob.pb.MessageBody"),G=M.decode(P),te=E.from||this.context.jid.name;G.from={name:E.isBuildCombinedMsg?te:this.context.jid.name},G.to={name:E.to},E.type==="channel"?G.type=j.CHANNEL_ACK:E.type==="recall"?(G.type=j.RECALL,G.ackMessageId=E.ackId):E.type==="delivery"?(G.type=j.DELIVER_ACK,G.ackMessageId=E.ackId):E.type==="read"?(G.type=j.READ_ACK,G.ackMessageId=E.ackId,_==="groupChat"&&(G.msgConfig={allowGroupAck:!0},G.ackContent=E.ackContent)):_==="chatRoom"?G.type=j.CHATROOM:_==="groupChat"?(G.type=j.GROUPCHAT,E.msgConfig&&(G.msgConfig={allowGroupAck:!0})):_==="singleChat"&&(G.type=j.SINGLECHAT),E.editMessageId&&(G.type=j.EDIT,G.editMessageId=E.editMessageId),G.contents=[S],G.ext=W;var ce=function(Re){var Ke={};return"translations"in Re&&(Ke.translations=Re.translations),"isChatThread"in Re&&Re.isChatThread&&(Ke.thread={}),Object.keys(Ke).length>0?JSON.stringify(Ke):""}(E);ce&&(G.meta=ce),G=M.encode(G).finish();var ye=this.root.lookup("easemob.pb.Meta"),B=ye.decode(P);B.id=E.id;var J="easemob.com";if(_!=="chatRoom"&&_!=="groupChat"||(J="conference.easemob.com"),B.to={appKey:this.appKey,name:E.to,domain:J},_==="chatRoom"&&(B.ext=De.call(this,function(Re){return{chatroom_msg_tag:Re.priority==="high"?0:Re.priority==="low"?2:1}}(E))[0]),B.ns=1,B.payload=G,B.routetype=E.deliverOnlineOnly?1:0,_!=="singleChat"&&Array.isArray(E.receiverList)&&((C=E.receiverList)===null||C===void 0?void 0:C.length)>0&&(B.directedUsers=E.receiverList,B.routetype=2,t.kg.debug("receiverList:",E.receiverList,"thirdMessage",B)),E.isBuildCombinedMsg)return B.timestamp=s().fromValue(E.time),ye.encode(B).finish();var ae=this.root.lookup("easemob.pb.CommSyncUL"),ie=ae.decode(P);ie.meta=B,ie=ae.encode(ie).finish();var Me=this.root.lookup("easemob.pb.MSync"),Ze=Me.decode(P);return Ze.version=this.version,Ze.encryptType=this.encryptType,Ze.command=0,Ze.payload=ie,Me.encode(Ze).finish()}E.fail&&E.fail({type:i.E.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function be(E){var b=this,x=H({},E);if(E.file)return x.accessToken=this.token,x.appKey=this.appKey,x.apiUrl=this.apiUrl,x.body&&x.body.url?ge.call(this,x):new Promise(function(S,W){var M=x.onFileUploadComplete;x.onFileUploadComplete=function(G){var te,ce;if(G.entities[0]["file-metadata"]){var ye=G.entities[0]["file-metadata"]["content-length"];x.file_length=ye,x.filetype=G.entities[0]["file-metadata"]["content-type"],ye>204800&&(x.thumbnail=!0)}x.body={type:x.type||"file",secret:G.entities[0]["share-secret"],filename:x.file.filename||x.filename,url:(b.isHttpDNS?b.apiUrl+G.uri.substr(G.uri.indexOf("/",9)):G.uri)+"/"+G.entities[0].uuid,length:x.length||0,filetype:x.filetype||x.file.filetype,file_length:((ce=(te=x.file)===null||te===void 0?void 0:te.data)===null||ce===void 0?void 0:ce.size)||0,size:{width:x.width||0,height:x.height||0}},x.file.url=G.uri,E.secret=G.entities[0]["share-secret"];var B=(b.isHttpDNS?b.apiUrl+G.uri.substr(G.uri.indexOf("/",9)):G.uri)+"/"+G.entities[0].uuid;E.url=B,G.url=B,x.type==="img"&&(E.thumb="".concat(B,"?thumbnail=true"),G.thumb="".concat(B,"?thumbnail=true")),M instanceof Function&&M(G,x.id);var J=ge.call(b,x);y.TJ.size<=y.F3&&y.TJ.set(x.id,{rpt:b.dataReport.geOperateFun({operationName:U.fI.SEND_MSG})}),w.call(b,J)},T.P6.uploadFile.call(b,x,U.fI.UPLOAD_MSG_ATTACH)});if(E.type==="combine"){x.accessToken=this.token,x.appKey=this.appKey,x.apiUrl=this.apiUrl;var C=x.onFileUploadComplete,P=x.onFileUploadError;return new Promise(function(S,W){var M,G,te,ce;if(((M=E.messageList)===null||M===void 0?void 0:M.length)>300||((G=E.messageList)===null||G===void 0?void 0:G.length)===0)return b._msgHash[x.id].reject({type:i.E.MAX_LIMIT,message:"The number of combined messages exceeded the limit."});var ye=function(pe,Xe,qe){if(qe||arguments.length===2)for(var ze,it=0,at=Xe.length;it<at;it++)!ze&&it in Xe||(ze||(ze=Array.prototype.slice.call(Xe,0,it)),ze[it]=Xe[it]);return pe.concat(ze||Array.prototype.slice.call(Xe))}([],E.messageList,!0),B=0;ye.forEach(function(pe){if(pe.type==="combine"&&(pe==null?void 0:pe.combineLevel)>=10)return b._msgHash[x.id].reject({type:i.E.MAX_LIMIT,message:"The level of the merged message exceeded the limit."});(pe==null?void 0:pe.combineLevel)>B&&(B=pe==null?void 0:pe.combineLevel)}),x.combineLevel=B+1;var J=Ie.call(b,ye),ae=function(pe,Xe){var qe,ze,it,at,V=(b.isHttpDNS?b.apiUrl+pe.uri.substr(pe.uri.indexOf("/",9)):pe.uri)+"/"+pe.entities[0].uuid,Pe=(qe=pe.entities[0])===null||qe===void 0?void 0:qe["share-secret"],Te=V+"?em-redirect=true";Pe&&(Te="".concat(Te,"&share-secret=").concat(Pe)),C instanceof Function&&C({url:Te,secret:Pe}),E.url=Te,E.secret=Pe,x.url=V,x.secret=pe.entities[0]["share-secret"],x.filename=((ze=x.file)===null||ze===void 0?void 0:ze.filename)||(Xe==null?void 0:Xe.fileName),x.file_length=((at=(it=x.file)===null||it===void 0?void 0:it.data)===null||at===void 0?void 0:at.size)||(Xe==null?void 0:Xe.fileLength)||0;var we=ge.call(b,x);w.call(b,we)},ie=T.P6.getEnvInfo();if(ie.platform!=="web"&&ie.platform!=="node"&&ie.platform!=="quick_app"&&(!((ce=(te=ie.global)===null||te===void 0?void 0:te.canIUse)===null||ce===void 0)&&ce.call(te,"getFileSystemManager"))){var Me=ie.global.getFileSystemManager(),Ze=b.apiUrl+"/"+b.orgName+"/"+b.appName+"/chatfiles";Me.writeFile({filePath:"".concat(ie.global.env.USER_DATA_PATH,"/combine"),data:J.buffer,encoding:"binary",success:function(pe){ie.global.uploadFile({url:Ze,filePath:"".concat(ie.global.env.USER_DATA_PATH,"/combine"),name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+x.accessToken},success:function(Xe){if(Xe.statusCode===200){t.kg.debug("upload success",Xe);var qe=JSON.parse(Xe.data);ae(qe,{fileName:"combine",fileLength:J.length})}else t.kg.debug("upload fail"),x.onFileUploadError instanceof Function&&x.onFileUploadError(Xe),this._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:Xe})},fail:function(Xe){t.kg.debug("upload fail"),x.onFileUploadError instanceof Function&&x.onFileUploadError(pe),this._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:Xe})}})},fail:function(pe){t.kg.debug("write file fail",pe),this._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:pe})}})}else{var Re=new File([J],"combine",{type:"application/octet-stream"}),Ke={url:URL.createObjectURL(Re),filename:x.id,data:Re};x.file=Ke,x.onFileUploadComplete=function(pe){ae(pe)},x.onFileUploadError=function(pe){P instanceof Function&&P(pe),b._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:pe})},T.P6.uploadFile.call(b,x,U.fI.UPLOAD_MSG_ATTACH)}})}E.type==="img"&&(x.body||(x.body=H(H({},x),{size:{width:x.width||0,height:x.height||0}})));var _=ge.call(this,x);w.call(this,_)}function Ie(E){for(var b=Uint8Array.from("cm",function(ye){return ye.charCodeAt(0)}),x=0;x<E.length;x++){for(var C=E[x],P=H(H({},C),{isBuildCombinedMsg:!0}),_=this.mSync.encodeChatMsg.call(this,P),S=_.length,W=new Uint8Array(4),M=0;M<4;M++)W[M]=S>>8*(3-M)&255;t.kg.debug("message length:",W);var G=new Uint8Array(b.length+W.length+_.length);G.set(b),G.set(W,b.length),G.set(_,b.length+W.length),b=G}var te=new Uint8Array(b.length+1),ce=0;for(x=2;x<b.length;x++)x%2==1&&(ce^=b[x]);return te.set(b),t.kg.debug("checkResult:",ce),te[b.length]=ce,te}function Se(E,b,x){var C=[],P=this.root.lookup("easemob.pb.MUCBody"),_=P.decode(C);_.mucId={appKey:this.appKey,name:E,domain:"conference.easemob.com"},_.operation=x==="join"?2:3,_.from={name:this.context.userId},_.isChatroom=!0,_=P.encode(_).finish();var S=this.root.lookup("easemob.pb.Meta").decode(C);S.id=b,S.from={appKey:this.appKey,name:this.context.userId,domain:"easemob.com",client_resource:this.context.jid.clientResource},S.to={domain:"easemob.com"},S.ns=2,S.payload=_;var W=this.root.lookup("easemob.pb.CommSyncUL"),M=W.decode(C);M.meta=S,M=W.encode(M).finish();var G=this.root.lookup("easemob.pb.MSync"),te=G.decode(C);return te.version=this.version,te.encryptType=this.encryptType,te.command=0,te.payload=M,G.encode(te).finish()}function D(E,b){var x=T.P6.getUniqueId(),C=Se.call(this,E.roomId,x,b);return w.call(this,H(H({},E),{isHandleChatroom:!0,joinMsg:C,id:x,operation:b}),x)}function q(E){var b=this;return new Promise(function(x,C){var P,_;if(b.logOut)return C({type:i.E.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!E.id||typeof E.id!="string"||E.id==="")return C({type:i.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!E.to||typeof E.to!="string"||E.to==="")return C({type:i.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var S=E.type==="file"||E.type==="img"||E.type==="audio"||E.type==="video",W=E.type==="delivery"||E.type==="read"||E.type==="channel";if(E.id){if(!S&&!W||S&&b.useOwnUploadFun){var M=E.type==="recall"?U.fI.SEND_RECALL_MSG:U.fI.SEND_MSG;E!=null&&E.editMessageId&&(M=U.fI.MODIFY_MESSAGE),y.TJ.size<=y.F3&&y.TJ.set(E.id,{rpt:b.dataReport.geOperateFun({operationName:M})})}b._msgHash[E.id]=H(H({},E),{resolve:x,reject:C})}if(S||E.type==="combine")return be.call(b,E);if(E.type==="txt"&&(!((P=E.msgConfig)===null||P===void 0)&&P.languages)&&Array.isArray((_=E.msgConfig)===null||_===void 0?void 0:_.languages)&&E.msgConfig.languages.length>0){var G=b.translateMessage||b.translation.translateMessage;if(!G)throw new Error("there is no method to translate message");G.call(b,{text:E.msg,languages:E.msgConfig.languages}).then(function(ce){var ye,B=(ye=ce.data[0])===null||ye===void 0?void 0:ye.translations;B=B.map(function(ae){return{code:ae.to,text:ae.text}}),E.translations=B,b._msgHash[E.id].translations=B;var J=ge.call(b,E);w.call(b,J,E.id)}).catch(function(ce){C(ce)})}else{var te=ge.call(b,E);w.call(b,te,E.id)}})}function w(E,b){var x,C,P=this;if(E.isHandleChatroom){if(!this.isOpened()){var _={data:"",type:i.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};return Promise.reject(_)}return new Promise(function(S,W){var M;P._msgHash[E.id]=H(H({},E),{resolve:S,reject:W}),M=P.name==="miniCore"?E.joinMsg:K.call(P,E.joinMsg,b),P.sock.send(M)})}if(!this.isOpened())return(x=this.unMSyncSendMsgMap)===null||x===void 0||x.set(b,E),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.socketHost.length&&this.isHttpDNS||!this.isHttpDNS)&&(t.kg.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:i.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));C=this.name==="miniCore"?E:K.call(this,E,b),this.sock.send(C)}var X=function(E,b){return E.send=q,E.sendMsg=q,t.kg.debug("init Msync by ".concat(E.name)),{generateProvision:F.bind(E),base64transform:K.bind(E),distributeMeta:Z.bind(E),decodeMeta:oe.bind(E),decodeUnreadDL:le.bind(E),_rebuild:de.bind(E),_lastsession:z.bind(E),receiveProvision:Q.bind(E),isInQueue:Ce.bind(E),decodeNotice:Ue.bind(E),decodeMSync:je.bind(E),distributeMSync:Ge.bind(E),encodeChatMsg:ge.bind(E),upLoadFile:be.bind(E),send:q.bind(E),stopHeartBeat:Ae.bind(E),handleChatRoom:D.bind(E)}}},7252:function(h,O){var e=function(){function r(n){this.type=n.type,this.message=n.message,this.data=n.data}return r.create=function(n){return new r(n)},r}();O.Z=e},8161:function(h,O,e){e(3710),e(1539),e(9714),e(9653),e(9554),e(4747),e(8309),e(2772),e(2222);var r=e(3720),n=e.n(r),a=e(4363),s=e(4370),i=e(1070),o=e(7360),t=e(2449),l={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM",8:"COMBINE"};function u(d){for(var p={},m=0;m<d.length;m++)if(d[m].type===8)p[d[m].key]=JSON.parse(d[m].stringValue);else if(d[m].type===7)p[d[m].key]=d[m].stringValue;else if(d[m].type===6)p[d[m].key]=d[m].doubleValue;else if(d[m].type===5)p[d[m].key]=d[m].floatValue;else if(d[m].type===1){var T=d[m].varintValue,c=new(n())(T.low,T.high,T.unsigned).toString();p[d[m].key]=Number(c)!==0}else d[m].type!==2&&d[m].type!==3&&d[m].type!==4||(T=d[m].varintValue,c=new(n())(T.low,T.high,T.unsigned).toString(),p[d[m].key]=Number(c));return p}function g(d){var p,m,T,c=d.status,I=d.thirdMessage,v=d.msgBody,N=d.msgId,k=d.type,A=d.from,R=d.to,y=d.time,U=d.onlineState,L=d.chatType,j=d.ignoreCallback,H=d.priority,ee=d.format,F={},K={},Z=c.errorCode>0,oe=c.errorCode,le=c.reason,de={},Ee=[],re=[],z={},ue="",Q=0,ne=null,fe=null;if(I.ext&&(de=u(I.ext)),I.meta&&typeof I.meta=="string"){var Y=JSON.parse(I.meta);if(Y.reaction&&(Ee=Y.reaction).forEach(function(X){X.isAddedBySelf=X.state,delete X.state}),Y.translations&&(re=Y.translations),Y.edit_msg){var Oe=Y.edit_msg,Ae=Oe.count,Be=Oe.operator;z={operationTime:Oe.edit_time,operatorId:Be,operationCount:Ae},ue=Oe.sender,Q=Oe.send_time}Y.thread&&JSON.stringify(Y.thread)!=="{}"&&(ne={messageId:Y.thread.msg_parent_id,parentId:Y.thread.muc_parent_id,chatThreadName:Y.thread.thread_name}),Y.thread_overview&&JSON.stringify(Y.thread_overview)!=="{}"&&(fe={id:Y.thread_overview.id,parentId:Y.thread_overview.muc_parent_id,name:Y.thread_overview.name,lastMessage:Y.thread_overview.last_message?(0,a.w)(Y.thread_overview.last_message):null,createTimestamp:Y.thread_overview.create_timestamp,updateTimestamp:Y.thread_overview.update_timestamp,messageCount:Y.thread_overview.message_count||0})}switch(v.type){case 0:if(Object.prototype.hasOwnProperty.call(v,"subType")&&v.subType===0){T=(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&(T="".concat(T,"&share-secret=").concat(v.secretKey));var Ce={id:N,type:"combine",chatType:L,to:R,from:A,ext:de,time:Number(y),onlineState:U,title:v.title||"",summary:v.summary||"",url:T||"",secret:v.secretKey||"",file_length:v.fileLength||0,filename:v.displayName||"",compatibleText:v.text,combineLevel:v.combineLevel||0};F.msgConfig&&(Ce.msgConfig=F.msgConfig),Ee.length>0&&(Ce.reactions=Ee),ne&&(Ce.chatThread=ne),fe&&(Ce.chatThreadOverview=fe),L==="chatRoom"&&(Ce.priority=H),K=Ce,!j&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",Ce);break}!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,data:v.text,ext:de,sourceMsg:v.text,time:y,msgConfig:I.msgConfig,onlineState:U}).msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onTextMessage&&this.onTextMessage(F);var Ue={id:N,type:"txt",chatType:L,msg:v.text,to:R,from:A,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(Ue.msgConfig=F.msgConfig),Ee.length>0&&(Ue.reactions=Ee),ne&&(Ue.chatThread=ne),fe&&(Ue.chatThreadOverview=fe),re.length>0&&(Ue.translations=re),z.operationCount>0&&(Ue.modifiedInfo=z,I.type===i.g.EDIT&&(Ue.from=ue,Ue.time=Q)),L==="chatRoom"&&(Ue.priority=H),K=Ue,!j&&this.eventHandler&&this.eventHandler.dispatch("onTextMessage",Ue);break;case 1:var ke=((p=v==null?void 0:v.size)===null||p===void 0?void 0:p.width)||0,je=((m=v==null?void 0:v.size)===null||m===void 0?void 0:m.height)||0;T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,thumb:this.useOwnUploadFun?"":"".concat(T,"&thumbnail=true"),thumb_secret:v.secretKey,file_length:v.fileLength||"",width:ke,height:je,filetype:v.filetype||"",accessToken:this.token,ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onPictureMessage&&this.onPictureMessage(F);var Ge={id:N,type:"img",chatType:L,from:A,to:R,url:T||"",width:ke,height:je,secret:v.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(T,"&thumbnail=true"),thumb_secret:v.secretKey,file_length:v.fileLength||0,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(Ge.msgConfig=F.msgConfig),Ee.length>0&&(Ge.reactions=Ee),ne&&(Ge.chatThread=ne),fe&&(Ge.chatThreadOverview=fe),L==="chatRoom"&&(Ge.priority=H),K=Ge,!j&&this.eventHandler&&this.eventHandler.dispatch("onImageMessage",Ge);break;case 2:T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,length:v.duration||"",file_length:v.fileLength||"",filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onVideoMessage&&this.onVideoMessage(F);var xe={id:N,type:"video",chatType:L,from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,length:v.duration||0,file:{},file_length:v.fileLength||0,filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:Number(y),onlineState:U};F.msgConfig&&(xe.msgConfig=F.msgConfig),Ee.length>0&&(xe.reactions=Ee),ne&&(xe.chatThread=ne),fe&&(xe.chatThreadOverview=fe),L==="chatRoom"&&(xe.priority=H),K=xe,!j&&this.eventHandler&&this.eventHandler.dispatch("onVideoMessage",xe);break;case 3:!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,addr:v.address,buildingName:v.buildingName,lat:v.latitude,lng:v.longitude,ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onLocationMessage&&this.onLocationMessage(F);var De={id:N,type:"loc",chatType:L,from:A,to:R,buildingName:v.buildingName,addr:v.address,lat:v.latitude,lng:v.longitude,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(De.msgConfig=F.msgConfig),Ee.length>0&&(De.reactions=Ee),ne&&(De.chatThread=ne),fe&&(De.chatThreadOverview=fe),L==="chatRoom"&&(De.priority=H),K=De,!j&&this.eventHandler&&this.eventHandler.dispatch("onLocationMessage",De);break;case 4:T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,file_length:v.fileLength||"",accessToken:this.token||"",ext:de,length:v.duration,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onAudioMessage&&this.onAudioMessage(F);var ge={id:N,type:"audio",chatType:L,from:A,to:R,url:T,secret:v.secretKey,file:{},filename:v.displayName,length:v.duration||0,file_length:v.fileLength||0,filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:Number(y),onlineState:U};F.msgConfig&&(ge.msgConfig=F.msgConfig),Ee.length>0&&(ge.reactions=Ee),ne&&(ge.chatThread=ne),fe&&(ge.chatThreadOverview=fe),L==="chatRoom"&&(ge.priority=H),K=ge,!j&&this.eventHandler&&this.eventHandler.dispatch("onAudioMessage",ge);break;case 5:T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,file_length:v.fileLength,accessToken:this.token||"",ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onFileMessage&&this.onFileMessage(F);var be={id:N,type:"file",chatType:L,from:A,to:R,url:T,secret:v.secretKey,file:{},filename:v.displayName,length:v.duration||0,file_length:v.fileLength||0,filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:Number(y),onlineState:U};F.msgConfig&&(be.msgConfig=F.msgConfig),Ee.length>0&&(be.reactions=Ee),ne&&(be.chatThread=ne),fe&&(be.chatThreadOverview=fe),L==="chatRoom"&&(be.priority=H),K=be,!j&&this.eventHandler&&this.eventHandler.dispatch("onFileMessage",be);break;case 6:!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,action:v.action,ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onCmdMessage&&this.onCmdMessage(F);var Ie={id:N,type:"cmd",chatType:L,from:A,to:R,action:v.action,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(Ie.msgConfig=F.msgConfig),Ee.length>0&&(Ie.reactions=Ee),ne&&(Ie.chatThread=ne),fe&&(Ie.chatThreadOverview=fe),L==="chatRoom"&&(Ie.priority=H),K=Ie,!j&&this.eventHandler&&this.eventHandler.dispatch("onCmdMessage",Ie);break;case 7:var Se={},D={};I.contents[0].customExts&&(Se=u(I.contents[0].customExts)),I.contents[0].params&&(D=u(I.contents[0].params)),F={id:N,type:k,contentsType:l[v.type],from:A,to:R,customEvent:v.customEvent,params:D,customExts:Se,ext:de,time:y,onlineState:U},!j&&this.onCustomMessage&&this.onCustomMessage(F);var q={id:N,type:"custom",chatType:L,from:A,to:R,customEvent:v.customEvent,params:D,customExts:Se,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(q.msgConfig=F.msgConfig),Ee.length>0&&(q.reactions=Ee),ne&&(q.chatThread=ne),fe&&(q.chatThreadOverview=fe),L==="chatRoom"&&(q.priority=H),K=q,!j&&this.eventHandler&&this.eventHandler.dispatch("onCustomMessage",q);break;case 8:T=(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&(T="".concat(T,"&share-secret=").concat(v.secretKey));var w={id:N,type:"combine",chatType:L,to:R,from:A,ext:de,time:Number(y),onlineState:U,title:v.title||"",summary:v.summary||"",url:T||"",secret:v.secretKey||"",file_length:v.fileLength||0,filename:v.displayName||"",compatibleText:v.text,combineLevel:v.combineLevel||0};F.msgConfig&&(w.msgConfig=F.msgConfig),Ee.length>0&&(w.reactions=Ee),ne&&(w.chatThread=ne),fe&&(w.chatThreadOverview=fe),L==="chatRoom"&&(w.priority=H),K=w,!j&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",w);break;default:o.kg.error("Unknow message type, message:",v)}return ee?K:F}function f(d,p,m){if(this.delivery&&d!==p){var T=this.getUniqueId(),c=new t.Message("delivery",T);c.set({ackId:m,to:d}),o.kg.debug("send delivery ack"),this.send(c.body)}}O.Z=function(d,p,m,T){var c,I,v,N,k,A,R=new(n())(d.timestamp.low,d.timestamp.high,d.timestamp.unsigned).toString(),y=this.root.lookup("easemob.pb.MessageBody").decode(d.payload),U=1;if(d.meta&&d.meta.length)switch(s.P6.parseNotify(d.meta).is_online){case 0:U=0;break;case 1:U=1;break;default:U=2}else U=3;var L=new(n())(d.id.low,d.id.high,d.id.unsigned).toString(),j=y.ackMessageId?new(n())(y.ackMessageId.low,y.ackMessageId.high,y.ackMessageId.unsigned).toString():"",H="",ee=y.from&&y.from.name,F=y.to&&y.to.name;switch(o.kg.debug("thirdMessage:",y),y.type){case i.g.SINGLECHAT:H="chat",this.grantType==="agoraToken"&&(H="singleChat"),this.delivery&&!m&&ee!==this.context.userId&&f.call(this,ee,F,L);break;case i.g.GROUPCHAT:H="groupchat",this.grantType==="agoraToken"&&(H="groupChat");break;case i.g.CHATROOM:H="chatroom",this.grantType==="agoraToken"&&(H="chatRoom"),U=1;break;case i.g.READ_ACK:H="read_ack";var K=void 0;return y.ext[0]&&JSON.parse(y.ext[0].stringValue)?(K={id:L,type:"read",from:ee,to:F,mid:j,groupReadCount:y.ext[0]&&JSON.parse(y.ext[0].stringValue),ackContent:y.ackContent,onlineState:U},this.onReadMessage&&this.onReadMessage(K),void((c=this.eventHandler)===null||c===void 0||c.dispatch("onReadMessage",K))):(K={id:L,type:"read",from:ee,to:F,mid:j,onlineState:U},this.onReadMessage&&this.onReadMessage(K),void((I=this.eventHandler)===null||I===void 0||I.dispatch("onReadMessage",K)));case i.g.DELIVER_ACK:H="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:L,type:"delivery",from:ee,to:F,mid:j,onlineState:U});var Z={id:L,type:"delivery",from:ee,to:F,mid:j,onlineState:U};return void((v=this.eventHandler)===null||v===void 0||v.dispatch("onDeliveredMessage",Z));case i.g.RECALL:H="recall";var oe={id:L,from:ee||"admin",to:F,mid:j,onlineState:U};return this.onRecallMessage&&this.onRecallMessage(oe),void((N=this.eventHandler)===null||N===void 0||N.dispatch("onRecallMessage",oe));case i.g.CHANNEL_ACK:this.onChannelMessage&&this.onChannelMessage({id:L,type:"channel",chatType:"singleChat",from:ee,to:F,time:Number(R),onlineState:U});var le={id:L,type:"channel",chatType:"singleChat",from:ee,to:F,time:Number(R),onlineState:U};return void((k=this.eventHandler)===null||k===void 0||k.dispatch("onChannelMessage",le));case i.g.EDIT:var de=g.call(this,{status:{errorCode:0,reason:""},thirdMessage:y,msgBody:y.contents[0],msgId:L,type:H,from:ee,to:F,time:R,onlineState:U,ignoreCallback:!0,format:!0}),Ee=!!d.to&&d.to.domain.indexOf("conference")!==-1;de.chatType=Ee?"groupChat":"singleChat";var re={id:y.editMessageId&&new(n())(y.editMessageId.low,y.editMessageId.high,y.editMessageId.unsigned).toString(),type:de.type,chatType:de.chatType,msg:de.msg,to:de.to,from:de.from,time:de.time,modifiedInfo:de.modifiedInfo};return de.translations&&(re.translations=de.translations),void(de.type==="txt"&&((A=this.eventHandler)===null||A===void 0||A.dispatch("onModifiedMessage",re)));default:return void o.kg.error("unexpected message type: ".concat(y.type))}var z,ue="normal";if(H.toLowerCase()==="chat"||H==="singleChat")z="singleChat";else if(H.toLowerCase()==="groupchat"||H==="groupChat")z="groupChat";else if(z="chatRoom",U=1,d.ext){var Q=u([d.ext]);ue=Q.chatroom_msg_tag===0?"high":Q.chatroom_msg_tag===2?"low":"normal"}for(var ne=0;ne<y.contents.length;ne++)return g.call(this,{status:p,thirdMessage:y,msgBody:y.contents[ne],msgId:L,type:H,from:ee,to:F,time:R,onlineState:U,chatType:z,ignoreCallback:m,priority:ue,format:T})}},4968:function(h,O,e){e(8309);var r,n=e(7360),a=e(2071),s=e(1595);(function(o){o[o.Add=2]="Add",o[o.Remove=3]="Remove",o[o.Accept=4]="Accept",o[o.Decline=5]="Decline",o[o.Ban=6]="Ban",o[o.Allow=7]="Allow"})(r||(r={}));var i={operatRoster:function(o,t,l,u){var g=[],f=this.root.lookup("easemob.pb.RosterBody"),d=f.decode(g);switch(t){case"add":d.operation=r.Add;break;case"remove":d.operation=r.Remove;break;case"accept":d.operation=r.Accept;break;case"decline":d.operation=r.Decline;break;case"ban":d.operation=r.Ban;break;case"allow":d.operation=r.Allow;break;default:n.kg.error("operatRoster:",t)}d.from=this.context.jid;var p=[];if(typeof o.to=="string")p.push({appKey:this.appKey||this.context.appKey,name:o.to,domain:"easemob.com"});else if(o.to instanceof Array)for(var m=0;m<o.to.length;m++)p.push({appKey:this.appKey,name:o.to[m],domain:"easemob.com"});d.to=p,d.reason=o.message||"",d=f.encode(d).finish();var T=this.root.lookup("easemob.pb.Meta").decode(g);T.id=o.id||this.getUniqueId();var c=this.dataReport.geOperateFun({operationName:s.fI[t]});a.Nl.size<=a.F3&&a.Nl.set(T.id,{rpt:c,requestName:s.fI[t],resolve:l,reject:u}),T.from=this.context.jid,T.to={domain:"@easemob.com"},T.ns=3,T.payload=d;var I=this.root.lookup("easemob.pb.CommSyncUL"),v=I.decode(g);v.meta=T,v=I.encode(v).finish();var N=this.root.lookup("easemob.pb.MSync"),k=N.decode(g);if(k.version=this.version,k.encryptType=[0],k.command=0,k.guid=this.jid,k.payload=v,k=N.encode(k).finish(),this.name==="miniCore")this.sock.send(k);else{var A=this.mSync.base64transform(k);this.sock.send(A)}},handleRosterMsg:function(o){var t,l,u,g,f,d,p=this.root.lookup("easemob.pb.RosterBody").decode(o.payload),m={type:"",to:p.to[0].name,from:p.from.name,status:p.reason};switch(p.operation){case 2:m.type="subscribe",this.onContactInvited&&this.onContactInvited(m),(t=this.eventHandler)===null||t===void 0||t.dispatch("onContactInvited",m);break;case 3:m.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(m),(l=this.eventHandler)===null||l===void 0||l.dispatch("onContactDeleted",m);break;case 4:m.type="subscribed",this.onContactAdded&&this.onContactAdded(m),(u=this.eventHandler)===null||u===void 0||u.dispatch("onContactAdded",m);break;case 5:m.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(m),(g=this.eventHandler)===null||g===void 0||g.dispatch("onContactRefuse",m);break;case 6:case 7:break;case 8:m.type="subscribed",this.onContactAgreed&&this.onContactAgreed(m),(f=this.eventHandler)===null||f===void 0||f.dispatch("onContactAgreed",m);break;case 9:m.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(m),(d=this.eventHandler)===null||d===void 0||d.dispatch("onContactRefuse",m);break;default:n.kg.error("handleRosterMsg:",p)}this.onPresence&&m.type&&this.onPresence(m)}};O.Z=i},7360:function(h,O,e){function r(){console.log&&(console.log.apply?console.log.apply(console,Array.prototype.slice.call(arguments)):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}e.d(O,{kg:function(){return d}}),e(7042),e(2222),e(8309),e(9600),e(6992),e(1539),e(8783),e(3948),e(285),e(1637),e(4812),e(3710),e(9554),e(2772),e(4916),e(2526),e(1817),e(2165);var n=typeof window<"u"&&window.navigator!==void 0&&/Trident\/|MSIE /.test(window.navigator.userAgent);function a(p){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},a(p)}var s,i=function(p,m,T){if(T||arguments.length===2)for(var c,I=0,v=m.length;I<v;I++)!c&&I in m||(c||(c=Array.prototype.slice.call(m,0,I)),c[I]=m[I]);return p.concat(c||Array.prototype.slice.call(m))},o=function(){},t={};(function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"})(s||(s={}));var l=function(){function p(m,T,c){this.name=m||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=s,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=c||this.defaultMethodFactory;var I=this._getPersistedLevel();I==null&&(I=T===null?"WARN":T),this.logs=[],this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(I,!1,"")}return p.prototype.setConfig=function(m){this.config=m},p.prototype.getLevel=function(){return this.currentLevel},p.prototype.setLevel=function(m,T,c){if(typeof m=="string"&&(m=s[m]),m===void 0&&(m=0),!(typeof m=="number"&&m>=0&&m<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+m);if(this.currentLevel=m,T!==!1&&this._persistLevel(m),this.replaceLoggingMethods(m,c),typeof console>"u"&&m<s.SILENT)throw Error("No console available for logging")},p.prototype.setDefaultLevel=function(m){this._getPersistedLevel()||this.setLevel(m,!1,"")},p.prototype.enableAll=function(m){this.setLevel(this.levels.TRACE,!0,"")},p.prototype.disableAll=function(m){this.setLevel(this.levels.SILENT,!0,"")},p.prototype.getLogs=function(){return this.logs},p.prototype.download=function(){if(typeof window<"u"&&typeof document<"u"){var m=this.getLogs().join(`
`),T=new Blob([m],{type:"text/plain;charset=UTF-8"}),c=window.URL.createObjectURL(T),I=document.createElement("a");I.style.display="none",I.href=c,I.setAttribute("download","sdklog"),document.body.appendChild(I),I.click()}},p.prototype._bindMethod=function(m,T,c){var I=this,v=m[T],N=this.getTime();if(c)return this._cacheLog;if(typeof v.bind=="function")return function(){for(var k=[],A=0;A<arguments.length;A++)k[A]=arguments[A];var R=I.getTime();v.call.apply(v,i([m,"".concat(R," IM SDK [").concat(T==="log"?"debug":T,"]: ")],k,!1)),I.onLog&&I.onLog({time:R,level:T==="log"?"debug":T,logs:k})};try{return Function.prototype.bind.call(v,m,"".concat(N," IM SDK [").concat(T==="log"?"debug":T,"]: "))}catch{return function(){return Function.prototype.apply.apply(v,[m,arguments])}}},p.prototype.getTime=function(){var m=new Date;return m.toTimeString().split(" ")[0]+":"+m.getMilliseconds()},p.prototype._cacheLog=function(){for(var m=[],T=0;T<arguments.length;T++)m[T]=arguments[T];var c=new Date().toLocaleString()+": ",I="";m.forEach(function(v){a(v)==="object"?I+=JSON.stringify(v)+" ":I+=v+" "}),this._cacheLogCall(c+I)},p.prototype._cacheLogCall=function(m){var T=u(m),c=this.logBytes+T,I=this.config.maxCache;if(!(T>=I)){if(c<I)this.logBytes+=T;else for(var v=c-I,N=0;N<v;){var k=this.logs.shift();k!==void 0&&(N+=u(k))}this.logs.push(m)}},p.prototype._getPersistedLevel=function(){var m;if(typeof window>"u")return 5;if((m=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])==="undefined"){var T=window.document.cookie,c=T.indexOf(encodeURIComponent(this.storageLogLevelKey));c!==-1&&(m=/^([^;]+)/.exec(T.slice(c))[1])}return m||5},p.prototype._persistLevel=function(m){var T=this.logMethods[m]||"SILENT";typeof window<"u"&&(window.localStorage&&(window.localStorage[this.storageLogLevelKey]=T),this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+T+";"))},p.prototype.replaceLoggingMethods=function(m,T){for(var c=0;c<this.logMethods.length;c++){var I=this.logMethods[c];this[I]=c<m?o:this.methodFactory(I,m,T)}this.log=this.debug},p.prototype.defaultMethodFactory=function(m,T,c){return this.realMethod(m)||this.enableLoggingWhenConsoleArrives.apply(this,[m,T,c])},p.prototype.realMethod=function(m){return m==="debug"&&(m="log"),typeof console<"u"&&(m==="trace"&&n?r:console[m]!==void 0?this._bindMethod(console,m,this.config.useCache):console.log!==void 0?this._bindMethod(console,"log",this.config.useCache):o)},p.prototype.enableLoggingWhenConsoleArrives=function(m,T,c){return(function(){typeof console<"u"&&(this.replaceLoggingMethods.call(this,T,c),this[m].apply(this,arguments))}).bind(this)},p}();function u(p){for(var m=p.length,T=0;T<p.length;T++)p.charCodeAt(T)>255&&m++;return m}var g=new l;g.getLogger=function(p){if(typeof p!="string"||p==="")throw new TypeError("You must supply a name when creating a logger.");return this};var f=typeof window<"u"?window.log:void 0;g.noConflict=function(){return typeof window<"u"&&window.log===g&&(window.log=f),g},g.getLoggers=function(){return t};var d=g},2449:function(h,O,e){e.d(O,{Message:function(){return m}});var r=e(4370),n=function(){function T(c){var I=c.id;this.id=I,this.type=c.type}return T.prototype.set=function(c){this.body={id:this.id,ackId:c.id,type:"read",to:c.to,from:c.from||"",chatType:c.chatType}},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType,ackId:c.id,type:"read",to:c.to,from:c.from||"",ackContent:c.ackContent,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly}},T}(),a=function(){function T(c){this.id=c.id,this.type=c.type}return T.prototype.set=function(c){this.body={id:this.id,ackId:c.ackId,type:"delivery",to:c.to,from:c.from||""}},T.create=function(c){return{id:r.P6.getUniqueId(),ackId:c.ackId,type:"delivery",to:c.to,from:c.from||"",isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly}},T}(),s=(e(3843),e(3710),function(){function T(c){var I=c.type,v=c.id;this.id=v,this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"channel",to:c.to,from:c.from||"",time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),type:"channel",chatType:c.chatType||"singleChat",to:c.to,from:c.from||"",time:Date.now(),isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly}},T}()),i=(e(9753),function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I,this.value=""}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"txt",to:c.to,msg:c.msg,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),isChatThread:c.isChatThread},this.value=c.msg},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){var I,v;return!((I=c.msgConfig)===null||I===void 0)&&I.languages&&Array.isArray((v=c.msgConfig)===null||v===void 0?void 0:v.languages),{type:"txt",id:r.P6.getUniqueId(),msg:c.msg,to:c.to,from:c.from||"",chatType:c.chatType,ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}()),o=function(){function T(c){var I=c.type,v=c.id;this.id=v||r.P6.getUniqueId(),this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"cmd",to:c.to,action:c.action,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),type:"cmd",to:c.to,from:c.from||"",chatType:c.chatType||"singleChat",action:c.action,time:Date.now(),ext:c.ext,msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),t=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"custom",to:c.to,customEvent:c.customEvent,customExts:c.customExts,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"custom",to:c.to,customEvent:c.customEvent,customExts:c.customExts,from:c.from||"",ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),l=function(){function T(c){var I=c.type,v=c.id;this.id=v||r.P6.getUniqueId(),this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"loc",to:c.to,addr:c.addr,buildingName:c.buildingName,lat:c.lat,lng:c.lng,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"loc",to:c.to,addr:c.addr,buildingName:c.buildingName,lat:c.lat,lng:c.lng,from:c.from||"",ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),u=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"img",file:c.file,width:c.width,height:c.height,to:c.to,from:c.from||"",roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType,type:"img",url:c.url,width:c.width,height:c.height,file:c.file,to:c.to,from:c.from||"",ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,file_length:c.file_length,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList,thumbnailWidth:c.thumbnailWidth,thumbnailHeight:c.thumbnailHeight}},T}(),g=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"audio",file:c.file,filename:c.filename,length:c.length,file_length:c.file_length,fileInputId:c.fileInputId,to:c.to,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType,type:"audio",filename:c.filename,length:c.length,file:c.file,to:c.to,from:c.from||"",ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,file_length:c.file_length,msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),f=function(){function T(c){var I=c.type,v=c.id;this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"video",file:c.file,filename:c.filename,length:c.length,file_length:c.file_length,fileInputId:c.fileInputId,to:c.to,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),apiUrl:c.apiUrl,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"video",file:c.file,filename:c.filename,length:c.length,file_length:c.file_length,fileInputId:c.fileInputId,to:c.to,from:c.from||"",ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),d=function(){function T(c){var I=c.type,v=c.id;this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"file",file:c.file,filename:c.filename,fileInputId:c.fileInputId,to:c.to,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"file",file:c.file,filename:c.filename,fileInputId:c.fileInputId,file_length:c.file_length,to:c.to,from:c.from||"",ext:c.ext,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),p=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I,this.value=""}return T.create=function(c){return{type:"combine",id:r.P6.getUniqueId(),to:c.to,from:c.from||"",chatType:c.chatType,ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList,compatibleText:c.compatibleText,title:c.title,summary:c.summary,messageList:c.messageList,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete}},T}(),m=function(){function T(c,I){return this.type=c,this.id=I||r.P6.getUniqueId(),T.createOldMsg({type:c,id:this.id})}return T.createOldMsg=function(c){switch(c.type){case"read":return new n({type:"read",id:c.id});case"delivery":return new a({type:"delivery",id:c.id});case"channel":return new s({type:"channel",id:c.id});case"txt":return new i({type:"txt",id:c.id});case"cmd":return new o({type:"cmd",id:c.id});case"custom":return new t({type:"custom",id:c.id});case"loc":return new l({type:"loc",id:c.id});case"img":return new u({type:"img",id:c.id});case"audio":return new g({type:"audio",id:c.id});case"video":return new f({type:"video",id:c.id});case"file":return new d({type:"file",id:c.id})}},T.create=function(c){return(I=c).type!=="txt"||"version"in I?function(v){return v.type==="img"&&!("version"in v)}(c)?u.create(c):function(v){return v.type==="cmd"&&!("version"in v)}(c)?o.create(c):function(v){return v.type==="file"&&!("version"in v)}(c)?d.create(c):function(v){return v.type==="audio"&&!("version"in v)}(c)?g.create(c):function(v){return v.type==="video"&&!("version"in v)}(c)?f.create(c):function(v){return v.type==="custom"&&!("version"in v)}(c)?t.create(c):function(v){return v.type==="loc"&&!("version"in v)}(c)?l.create(c):function(v){return v.type==="channel"&&!("version"in v)}(c)?s.create(c):function(v){return v.type==="delivery"&&!("version"in v)}(c)?a.create(c):function(v){return v.type==="read"&&!("version"in v)}(c)?n.create(c):function(v){return v.type==="combine"&&!("version"in v)}(c)?p.create(c):{}:i.create(c);var I},T.prototype.set=function(c){},T}()},5531:function(h,O,e){var r;e.d(O,{E:function(){return r}}),function(n){n[n.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",n[n.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",n[n.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",n[n.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",n[n.REQUEST_ABORT=-4]="REQUEST_ABORT",n[n.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",n[n.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",n[n.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",n[n.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",n[n.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",n[n.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",n[n.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",n[n.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",n[n.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",n[n.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",n[n.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",n[n.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",n[n.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",n[n.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",n[n.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",n[n.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",n[n.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",n[n.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",n[n.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",n[n.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",n[n.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",n[n.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",n[n.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",n[n.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",n[n.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",n[n.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",n[n.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",n[n.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",n[n.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",n[n.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",n[n.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",n[n.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",n[n.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",n[n.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",n[n.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",n[n.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",n[n.MAX_LIMIT=50]="MAX_LIMIT",n[n.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",n[n.NO_PERMISSION=52]="NO_PERMISSION",n[n.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",n[n.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",n[n.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",n[n.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",n[n.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",n[n.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",n[n.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",n[n.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",n[n.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",n[n.PARSE_FILE_ERROR=203]="PARSE_FILE_ERROR",n[n.USER_NOT_FOUND=204]="USER_NOT_FOUND",n[n.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",n[n.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",n[n.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",n[n.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",n[n.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",n[n.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",n[n.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",n[n.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",n[n.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",n[n.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",n[n.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",n[n.WEBIM_MESSAGE_REC_AUDIO=304]="WEBIM_MESSAGE_REC_AUDIO",n[n.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",n[n.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",n[n.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",n[n.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",n[n.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",n[n.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",n[n.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",n[n.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",n[n.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",n[n.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",n[n.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",n[n.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",n[n.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",n[n.STATUS_INIT=400]="STATUS_INIT",n[n.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",n[n.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",n[n.STATUS_OPENED=403]="STATUS_OPENED",n[n.STATUS_CLOSING=404]="STATUS_CLOSING",n[n.STATUS_CLOSED=405]="STATUS_CLOSED",n[n.STATUS_ERROR=406]="STATUS_ERROR",n[n.SERVER_BUSY=500]="SERVER_BUSY",n[n.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",n[n.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",n[n.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",n[n.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",n[n.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",n[n.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",n[n.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",n[n.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",n[n.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",n[n.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",n[n.MESSAGE_SIZE_LIMIT=511]="MESSAGE_SIZE_LIMIT",n[n.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",n[n.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",n[n.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",n[n.PERMISSION_DENIED=603]="PERMISSION_DENIED",n[n.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",n[n.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",n[n.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",n[n.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",n[n.GROUP_MEMBER_ATTRIBUTES_SET_FAILED=609]="GROUP_MEMBER_ATTRIBUTES_SET_FAILED",n[n.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",n[n.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",n[n.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",n[n.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",n[n.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",n[n.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",n[n.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",n[n.REACTION_CREATING=1102]="REACTION_CREATING",n[n.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",n[n.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",n[n.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",n[n.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",n[n.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",n[n.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST",n[n.MODIFY_MESSAGE_NOT_EXIST=1302]="MODIFY_MESSAGE_NOT_EXIST",n[n.MODIFY_MESSAGE_FORMAT_ERROR=1303]="MODIFY_MESSAGE_FORMAT_ERROR",n[n.MODIFY_MESSAGE_FAILED=1304]="MODIFY_MESSAGE_FAILED",n[n.CONVERSATION_NOT_EXIST=1400]="CONVERSATION_NOT_EXIST"}(r||(r={}))},4370:function(h,O,e){e.d(O,{iw:function(){return p},hj:function(){return l},LR:function(){return v},cT:function(){return I},P6:function(){return k}}),e(9601),e(1539),e(8674),e(3710),e(6699),e(7042),e(2772),e(9653),e(9714),e(6992),e(8783),e(3948),e(285),e(1637),e(8309),e(4986),e(2023);var r=e(5531),n=function(){return n=Object.assign||function(A){for(var R,y=1,U=arguments.length;y<U;y++)for(var L in R=arguments[y])Object.prototype.hasOwnProperty.call(R,L)&&(A[L]=R[L]);return A},n.apply(this,arguments)},a=e(1595),s=e(2071),i=e(7360),o=function(){return o=Object.assign||function(A){for(var R,y=1,U=arguments.length;y<U;y++)for(var L in R=arguments[y])Object.prototype.hasOwnProperty.call(R,L)&&(A[L]=R[L]);return A},o.apply(this,arguments)},t=function(){};function l(A,R){var y,U=this;return T().platform===p.WEB?new Promise(function(L,j){var H=A.dataType||"text",ee=A.success||t,F=A.error||t,K=new XMLHttpRequest;K.ontimeout=function(){j({type:r.E.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:K})},K.onerror=function(){j({type:r.E.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:K})},K.onabort=function(){j({type:r.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:K})},K.onreadystatechange=function(){if(K.readyState===4){var z=new Date().getTime()-y,ue=K.status||0,Q={elapse:z,httpCode:ue};if(ue===200){k.ajaxUnconventionalErrorTimes=0;try{switch(H){case"text":return ee(K.responseText),void L(K.responseText);case"json":var ne=JSON.parse(K.responseText);return ne.extraInfo=Q,ee(ne),void L(ne);case"xml":return K.responseXML&&K.responseXML.documentElement?(ee(K.responseXML.documentElement),void L(K.responseXML.documentElement)):(F({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:K.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void j({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:K.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:F({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:K.responseText,message:"Invalid dataType"}),j({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:K.responseText,message:"Invalid dataType"})}return L(K.response||K.responseText),void ee(K.response||K.responseText,K)}catch(fe){j(fe)}return}[400,401,403,404,429,500,503].includes(ue)||(i.kg.debug("rest api request fail status:",ue),k.ajaxUnconventionalErrorTimes++),function(fe,Y,Oe,Ae){var Be,Ce,Ue,ke,je,Ge,xe,De,ge,be,Ie,Se,D,q,w,X,E,b,x,C,P=fe.response;P&&typeof P=="string"&&(P=JSON.parse(P));var _=fe.status,S={elapse:Ae,httpCode:_,errDesc:P==null?void 0:P.error_description};if(_===400){if(P.error_code===40002)return void Y({type:r.E.THREAD_ALREADY_EXIST,message:P==null?void 0:P.error_description,extraInfo:S});if(P.error_code===40009)return void Y({type:r.E.OPERATION_UNSUPPORTED,message:P==null?void 0:P.error_description,extraInfo:S});if(P.error_code===60005)return void Y({type:r.E.GROUP_MEMBER_ATTRIBUTES_SET_FAILED,message:(P==null?void 0:P.desc)||(P==null?void 0:P.error_description),extraInfo:S});if(P.error_code===60010)return void(P!=null&&P.error_description.includes("exceeds chatgroup user metadata single value limit")?Y({type:r.E.MAX_LIMIT,message:(P==null?void 0:P.desc)||P.error_description,extraInfo:S}):Y({type:r.E.NO_PERMISSION,message:(P==null?void 0:P.desc)||P.error_description,extraInfo:S}));if(P.error_code===60011)return void Y({type:r.E.CHATROOM_NOT_JOINED,message:P==null?void 0:P.desc,extraInfo:S});if(P.error_code===60006||P.error_code===60007||P.error_code===60009||P.error_code===60012)return void Y({type:r.E.MAX_LIMIT,message:(P==null?void 0:P.desc)||(P==null?void 0:P.error_description),extraInfo:S});if(!((Be=P.error_description)===null||Be===void 0)&&Be.includes("are not members of this group"))return!((Ce=fe.responseURL)===null||Ce===void 0)&&Ce.includes("chatgroups")?Y({type:r.E.GROUP_NOT_JOINED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):Y({type:r.E.CHATROOM_NOT_JOINED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}),void Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:P==null?void 0:P.error_description,data:fe.responseText,extraInfo:S});if((P==null?void 0:P.result)==="the app not open presence")return void Y({type:r.E.SERVICE_NOT_ENABLED,message:P==null?void 0:P.result,extraInfo:S});switch(P==null?void 0:P.error_description){case"the user is already operation this message":Y({type:r.E.REACTION_ALREADY_ADDED,message:P==null?void 0:P.error_description,extraInfo:S});break;case"The quantity has exceeded the limit!":Y({type:r.E.MAX_LIMIT,message:P==null?void 0:P.error_description,extraInfo:S});break;case"The user not in this group!":Y({type:r.E.GROUP_NOT_JOINED,message:P==null?void 0:P.error_description,extraInfo:S});break;case"the user operation is illegal!":Y({type:r.E.REACTION_OPERATION_IS_ILLEGAL,message:P==null?void 0:P.error_description,extraInfo:S});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":Y({type:r.E.SERVICE_NOT_ENABLED,message:P==null?void 0:P.error_description,extraInfo:S});break;case"this message is creating reaction, please try again.":Y({type:r.E.REACTION_CREATING,message:P==null?void 0:P.error_description,extraInfo:S});break;case"groupId can not be null!":Y({type:r.E.GROUP_NOT_EXIST,message:P==null?void 0:P.error_description,extraInfo:S});break;case"The input text is too long.":Y({type:r.E.TRANSLATION_TEXT_TOO_LONG,message:P==null?void 0:P.error_description,extraInfo:S});break;case"The target language is not valid.":Y({type:r.E.TRANSLATION_NOT_VALID,message:P==null?void 0:P.error_description,extraInfo:S});break;case"report failed, get message by id failed":Y({type:r.E.MESSAGE_NOT_FOUND,message:P==null?void 0:P.error_description,extraInfo:S});break;case"ext is too big ":Y({type:r.E.PRESENCE_PARAM_EXCEED,message:P==null?void 0:P.error_description,extraInfo:S});break;case"Request body not readable.Please check content type is correct!":Y({type:r.E.REQUEST_PARAMETER_ERROR,message:P==null?void 0:P.error_description,extraInfo:S});break;default:Y({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:P==null?void 0:P.error_description,data:fe.responseText,extraInfo:S}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:P==null?void 0:P.error_description,data:fe.responseText,extraInfo:S})}}else if(_===401)P.error_code===40001||P.error_code===60001||P.error_description==="Unable to authenticate (OAuth)"?Y({type:r.E.NO_PERMISSION,message:P==null?void 0:P.error_description,extraInfo:S}):(Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:fe.responseText,extraInfo:S}),Y({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:fe.responseText,extraInfo:S}));else if(_===403)P.error_code===4e4||P.error_code===60004||P.error_code===15002?Y({type:r.E.SERVICE_NOT_ENABLED,message:P==null?void 0:P.error_description,extraInfo:S}):P.error_code===40003||P.error_code===40004?Y({type:r.E.THREAD_ALREADY_EXIST,message:P==null?void 0:P.error_description,extraInfo:S}):P.error_code===40005||P.error_code===40007||P.error_code===91002?Y({type:r.E.MAX_LIMIT,message:P==null?void 0:P.error_description,extraInfo:S}):P.error_code===60002&&Y({type:r.E.PERMISSION_DENIED,message:P==null?void 0:P.error_description,extraInfo:S}),P.error_description==="group member list is full!"?!((Ue=fe.responseURL)===null||Ue===void 0)&&Ue.includes("chatgroups")?Y({type:r.E.GROUP_MEMBERS_FULL,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):Y({type:r.E.CHATROOM_MEMBERS_FULL,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):!((ke=P.error_description)===null||ke===void 0)&&ke.includes(P.error_description.includes("already in group"))?!((je=fe.responseURL)===null||je===void 0)&&je.includes("chatgroups")&&Y({type:r.E.GROUP_ALREADY_JOINED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):!((Ge=P.error_description)===null||Ge===void 0)&&Ge.includes("are not members of this group")?!((xe=fe.responseURL)===null||xe===void 0)&&xe.includes("chatgroups")?Y({type:r.E.GROUP_NOT_JOINED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):Y({type:r.E.CHATROOM_NOT_JOINED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):!((De=P.error_description)===null||De===void 0)&&De.includes("service not open!")||!((ge=P.error_description)===null||ge===void 0)&&ge.includes("message report not open")||!((be=P.error_description)===null||be===void 0)&&be.includes("messageroaming function not open")?Y({type:r.E.SERVICE_NOT_ENABLED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):!((Ie=P.error_description)===null||Ie===void 0)&&Ie.includes("members size is greater than max user size !")?Y({type:r.E.GROUP_MEMBERS_LIMIT,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):!((Se=P.error_description)===null||Se===void 0)&&Se.includes("can not operate this group, reason: group is disabled")?Y({type:r.E.GROUP_IS_DISABLED,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):Y({type:r.E.PERMISSION_DENIED,data:fe.response||fe.responseText,message:"permission denied",extraInfo:n(n({},S),{errDesc:"permission denied"})}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:fe.responseText,extraInfo:S});else if(_===404)P.error_code===40011?Y({type:r.E.THREAD_NOT_EXIST,message:P==null?void 0:P.error_description,extraInfo:S}):P.error_code===40012?Y({type:r.E.NO_PERMISSION,message:P==null?void 0:P.error_description,extraInfo:S}):P.error_code===60003||P.error_code===20004?Y({type:r.E.GROUP_NOT_JOINED,message:P==null?void 0:P.error_description,extraInfo:S}):P.error_code===91001&&Y({type:r.E.CONVERSATION_NOT_EXIST,message:P==null?void 0:P.error_description,extraInfo:S}),!((D=P.error_description)===null||D===void 0)&&D.includes("do not find this group")||!((q=P.error_description)===null||q===void 0)&&q.includes("does not exist")?!((w=fe.responseURL)===null||w===void 0)&&w.includes("chatgroups")?Y({type:r.E.GROUP_NOT_EXIST,data:fe.response||fe.responseText,message:"The chat room dose not exist.",extraInfo:n(n({},S),{errDesc:"The chat room dose not exist."})}):Y({type:r.E.CHATROOM_NOT_EXIST,data:fe.response||fe.responseText,message:"The chat room dose not exist.",extraInfo:n(n({},S),{errDesc:"The chat room dose not exist."})}):!((X=P.error_description)===null||X===void 0)&&X.includes("username")&&(!((E=P.error_description)===null||E===void 0)&&E.includes("doesn't exist!'"))||!((b=P.error_description)===null||b===void 0)&&b.includes("user not found")?Y({type:r.E.USER_NOT_FOUND,data:fe.response||fe.responseText,message:P.error_description,extraInfo:S}):Y({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.response||fe.responseText,message:fe.responseText,extraInfo:S}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.response||fe.responseText,message:fe.responseText,extraInfo:S});else if(_===406)P.error_code===90004&&Y({type:r.E.OPERATION_NOT_ALLOWED,message:P==null?void 0:P.error_description,extraInfo:S});else if(_===429||_===503){if(!((x=P.error_description)===null||x===void 0)&&x.includes("The request has reached the maximum limit"))return void Y({type:r.E.MAX_LIMIT,message:fe.responseText,extraInfo:S});Y({type:r.E.SERVER_BUSY,data:fe.response||fe.responseText,message:"Server is busy.",extraInfo:n(n({},S),{errDesc:"Server is busy."})}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:"Server is busy.",extraInfo:n(n({},S),{errDesc:"Server is busy."})})}else if(_===500){if(P.error_code===40006||P.error_code===40008||P.error_code===40010)return void Y({type:r.E.SERVER_UNKNOWN_ERROR,message:P==null?void 0:P.error_description,extraInfo:S});if(P.error_code===90005||P.error_code===99999)return void Y({type:r.E.REQUEST_UNKNOWN,message:P==null?void 0:P.error_description,extraInfo:S});if(!((C=P.error_description)===null||C===void 0)&&C.includes("translte failed!"))return void Y({type:r.E.TRANSLATION_FAILED,message:fe.responseText,extraInfo:S});Y({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:"",extraInfo:S}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:"",extraInfo:S})}else Y({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:fe.responseText,extraInfo:n(n({},S),{errDesc:"ajax error"})}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:fe.responseText,message:fe.responseText,extraInfo:n(n({},S),{errDesc:"ajax error"})})}(K,j,F,z)}K.readyState===0&&(F({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:K.responseText,message:"Request not initialized"}),j({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:K.responseText,message:"Request not initialized"}))},A.responseType&&K.responseType&&(K.responseType=A.responseType),A.mimeType&&K.overrideMimeType(A.mimeType);var Z=A.type||"POST",oe=A.data||null,le="";if(Z.toLowerCase()==="get"&&oe){for(var de in oe)oe.hasOwnProperty(de)&&(le+=de+"="+oe[de]+"&");le=le&&le.slice(0,-1),A.url+=(A.url.indexOf("?")>0?"&":"?")+(le&&le+"&")+"_v="+new Date().getTime(),oe=null,le=""}y=new Date().getTime(),K.open(Z,A.url);var Ee=A.headers||{};for(var re in Ee["Content-Type"]||(Ee["Content-Type"]="application/json"),Ee)Ee.hasOwnProperty(re)&&K.setRequestHeader(re,Ee[re]);K.send(oe)}).then(function(L){return U.dataReport&&R&&R!==a.fI.SDK_INTERNAL&&U.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:o({isSuccess:1,requestUrl:A.url,requestName:R,requestMethod:A.type},N(L.extraInfo))}),R!==a.fI.SDK_INTERNAL&&delete L.extraInfo,u(L)==="Object"?o(o({},L),{type:r.E.REQUEST_SUCCESS}):{data:L,type:r.E.REQUEST_SUCCESS}}).catch(function(L){throw U.dataReport&&R&&R!==a.fI.SDK_INTERNAL&&U.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:o({isSuccess:0,requestUrl:A.url,requestName:R,requestMethod:A.type},N(L.extraInfo))}),R!==a.fI.SDK_INTERNAL&&delete L.extraInfo,L}):g.call(this,A,R)}function u(A){return Object.prototype.toString.call(A).slice(8,-1)}function g(A,R){var y=this;return new Promise(function(U,L){var j=A.success||t,H=A.error||t,ee=A.type||"POST",F=A.data||null,K="",Z=new Date().getTime(),oe=k.getEnvInfo();if(ee.toLowerCase()==="get"&&F){for(var le in F)F.hasOwnProperty(le)&&(K+=le+"="+F[le]+"&");K=K&&K.slice(0,-1),A.url+=(A.url.indexOf("?")>0?"&":"?")+(K&&K+"&")+"_v="+new Date().getTime(),F=null,K=""}var de={url:A.url,data:A.data,method:ee,headers:{},success:function(Ee){var re,z,ue,Q,ne,fe={elapse:new Date().getTime()-Z,httpCode:Number(((re=Ee.statusCode)===null||re===void 0?void 0:re.toString())||((z=Ee.status)===null||z===void 0?void 0:z.toString())),errDesc:((ue=Ee==null?void 0:Ee.data)===null||ue===void 0?void 0:ue.error_description)||""};if(((Q=Ee.statusCode)===null||Q===void 0?void 0:Q.toString())==="200"||((ne=Ee.status)===null||ne===void 0?void 0:ne.toString())==="200"){Ee.data.extraInfo=fe;var Y=Ee.data;j(Y),U(Y)}else Ee.extraInfo=fe,H(Y=Ee),L(Y)},complete:function(){},fail:function(Ee){var re={elapse:new Date().getTime()-Z,httpCode:s.Tp,errDesc:"request:fail"};Ee.extraInfo=re,Ee.data={error:"request:fail",error_description:"request:fail"},H(Ee),L(Ee)}};if(oe.platform==="zfb"||oe.platform==="dd"?de.headers=A.headers:de.header=A.headers,oe.platform==="dd")return dd.httpRequest(de);oe.global.request(de)}).then(function(U){return y.dataReport&&R&&R!==a.fI.SDK_INTERNAL&&y.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:o({isSuccess:1,requestUrl:A.url,requestName:R,requestMethod:A.type},N(U.extraInfo))}),R!==a.fI.SDK_INTERNAL&&delete U.extraInfo,u(U)==="Object"?o(o({},U),{type:r.E.REQUEST_SUCCESS}):{data:U,type:r.E.REQUEST_SUCCESS}}).catch(function(U){throw y.dataReport&&R&&R!==a.fI.SDK_INTERNAL&&y.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:o({isSuccess:0,requestUrl:A.url,requestName:R,requestMethod:A.type},N(U.extraInfo))}),R!==a.fI.SDK_INTERNAL&&delete U.extraInfo,U})}var f,d,p,m=(f=function(A,R){var y=T();if(y.platform!==p.WEB){var U=y.global,L=function(j){j.isConnected?A():R()};U.offNetworkStatusChange&&U.offNetworkStatusChange(L),U.onNetworkStatusChange&&U.onNetworkStatusChange(L)}else typeof addEventListener<"u"&&(window.addEventListener("online",A),window.addEventListener("offline",R))},function(){for(var A=[],R=0;R<arguments.length;R++)A[R]=arguments[R];if(!f)return d;d=f.apply(void 0,A),f=null});function T(){return typeof swan<"u"&&c(swan)?{platform:p.BAIDU,global:swan}:typeof tt<"u"&&c(tt)?{platform:p.TT,global:tt}:typeof dd<"u"&&c(dd)?{platform:p.DD,global:dd}:typeof my<"u"&&c(my)?{platform:p.ZFB,global:my}:typeof wx<"u"&&c(wx)?{platform:p.WX,global:wx}:typeof uni<"u"&&c(uni)?{platform:p.UNI,global:uni}:typeof window<"u"&&window.WebSocket?{platform:p.WEB,global:window}:{platform:p.NODE,global:e.g||{}}}function c(A){for(var R=["canIUse","getSystemInfo"],y=0,U=R.length;y<U;y++)if(!A[R[y]])return!1;return!0}function I(A,R){var y,U,L=this,j=new Date().getTime(),H=A.accessToken;if(H){var ee=A.appKey,F=[],K="",Z="";if(ee&&(K=(F=ee.split("#"))[0],Z=F[1]),K||Z){var oe=A.apiUrl,le=A.uploadUrl||oe+"/"+K+"/"+Z+"/chatfiles";if(((U=(y=A==null?void 0:A.file)===null||y===void 0?void 0:y.data)===null||U===void 0?void 0:U.size)<=0)A.onFileUploadError&&A.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else{var de=new XMLHttpRequest;de.upload&&de.upload.addEventListener("progress",A.onFileUploadProgress||t,!1),de.addEventListener("abort",A.onFileUploadCanceled||t,!1),de.addEventListener("error",function(z){re({type:r.E.WEBIM_UPLOADFILE_ERROR,data:de})},!1),de.addEventListener("load",function(z){try{var ue=JSON.parse(de.responseText);if(de.status===400)return re({type:r.E.WEBIM_UPLOADFILE_ERROR,data:ue}),!1;try{(function(Q){var ne=new Date().getTime()-j;L.dataReport&&R&&[a.fI.UPLOAD_MSG_ATTACH,a.fI.UPLOAD_CHATROOM_FILE,a.fI.UPLOAD_GROUP_FILE].includes(R)&&L.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:{isSuccess:Q!=null&&Q.error?0:1,requestMethod:"POST",requestName:R,requestElapse:ne,requestUrl:le,code:de.status,codeDesc:(Q==null?void 0:Q.error_description)||""}}),A.onFileUploadComplete&&A.onFileUploadComplete(Q)})(ue)}catch(Q){re({type:r.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:Q})}}catch{re({type:r.E.WEBIM_UPLOADFILE_ERROR,data:de.responseText})}},!1),de.open("POST",le),de.setRequestHeader("restrict-access","true"),de.setRequestHeader("Accept","*/*"),de.setRequestHeader("Authorization","Bearer "+H);var Ee=new FormData;Ee.append("file",A.file.data),A.thumbnailWidth&&Ee.append("thumbnail-width",A.thumbnailWidth+""),A.thumbnailHeight&&Ee.append("thumbnail-height",A.thumbnailHeight+""),de.send(Ee)}}else A.onFileUploadError&&A.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"AppKey illegal"})}else A.onFileUploadError&&A.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"});function re(z){var ue=new Date().getTime()-j;L.dataReport&&R&&[a.fI.UPLOAD_MSG_ATTACH,a.fI.UPLOAD_CHATROOM_FILE,a.fI.UPLOAD_GROUP_FILE].includes(R)&&L.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:R,requestElapse:ue,requestUrl:le,code:(de==null?void 0:de.status)||0,codeDesc:"upload file error"}}),A.onFileUploadError&&A.onFileUploadError(z)}}function v(A,R){A.onFileDownloadComplete=A.onFileDownloadComplete||t,A.onFileDownloadError=A.onFileDownloadError||t;var y=new Date().getTime(),U=new XMLHttpRequest,L=this;U.addEventListener("load",function(oe){var le=new Date().getTime()-y;L.dataReport&&R&&R===a.fI.DOWN_GROUP_FILE&&L.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:{isSuccess:U.status===200?1:0,requestMethod:"POST",requestName:R,requestElapse:le,requestUrl:A==null?void 0:A.url,code:U.status,codeDesc:U.status===200?"":"download file error"}}),A.onFileDownloadComplete&&A.onFileDownloadComplete(U.response)},!1),U.addEventListener("error",function(oe){var le=new Date().getTime()-y;L.dataReport&&R&&R===a.fI.DOWN_GROUP_FILE&&L.dataReport.geOperateFun({operationName:R})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:R,requestElapse:le,requestUrl:A==null?void 0:A.url,code:(U==null?void 0:U.status)||0,codeDesc:"download file error"}}),A.onFileDownloadError&&A.onFileDownloadError({type:r.E.WEBIM_DOWNLOADFILE_ERROR,id:A.id,xhr:U})},!1);var j=A.method||"GET",H=A.responseType||"blob",ee=A.mimeType||"text/plain; charset=x-user-defined";U.open(j,A.url),typeof Blob<"u"?U.responseType=H:U.overrideMimeType(ee);var F={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":A.secret,Authorization:"Bearer "+this.context.accessToken},K=A.headers||{};for(var Z in K)F[Z]=K[Z];for(var Z in F)F[Z]&&U.setRequestHeader(Z,F[Z]);U.send(null)}function N(A){A===void 0&&(A={});var R=A.elapse,y=R===void 0?0:R,U=A.httpCode,L=U===void 0?0:U,j=A.errDesc;return{requestElapse:y,code:L,codeDesc:j===void 0?"":j}}(function(A){A.WEB="web",A.WX="wx",A.ZFB="zfb",A.DD="dd",A.TT="tt",A.BAIDU="baidu",A.QUICK_APP="quick_app",A.UNI="uni",A.NODE="node"})(p||(p={}));var k={autoIncrement:0,ajaxUnconventionalErrorTimes:0,ajax:l,getUniqueId:function(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var A=new Date,R=new Date(2010,1,1);return(A.getTime()-R.getTime()+this.autoIncrement).toString()},getFileUrl:function(A){var R={url:"",filename:"",filetype:"",data:{}},y=typeof A=="string"?document.getElementById(A):A;if(window.URL.createObjectURL){if(!y.files)throw Error("this is not HTMLInputElement");var U=y.files;if(U.length>0){var L=U.item(0);R.data=L,R.url=window.URL.createObjectURL(L),R.filename=(L==null?void 0:L.name)||""}}else{if(typeof A!="string")throw Error("in IE fileInputId must be string");L=document.getElementById(A).value,R.url=L;var j=L.lastIndexOf("/"),H=L.lastIndexOf("\\"),ee=Math.max(j,H);R.filename=ee<0?L:L.substring(ee+1)}var F=R.filename.lastIndexOf(".");return F!==-1&&(R.filetype=R.filename.substring(F+1).toLowerCase()),R},uploadFile:I,flow:function(A){for(var R=A.length,y=R;y--;)if(typeof A[y]!="function")throw new TypeError("Expected a function");return function(){for(var U=[],L=0;L<arguments.length;L++)U[L]=arguments[L];for(var j=0,H=R?A[j].apply(this,U):U[0];++j<R;)H=A[j].call(this,H);return H}},listenNetwork:m,getEnvInfo:T,wxRequest:g,parseDownloadResponse:function(A){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return A&&A.type&&A.type==="application/json"||0>Object.prototype.toString.call(A).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(A)},download:v,parseNotify:function(A){for(var R="",y=0;y<A.length;y++)R+="%"+A[y].toString(16);return JSON.parse(decodeURIComponent(R))},getExtraData:N,Uint8ArrayToString:function(A){for(var R="",y=0;y<A.length;y++)R+=String.fromCharCode(A[y]);return R}}},9662:function(h,O,e){var r=e(614),n=e(6330),a=TypeError;h.exports=function(s){if(r(s))return s;throw a(n(s)+" is not a function")}},9483:function(h,O,e){var r=e(4411),n=e(6330),a=TypeError;h.exports=function(s){if(r(s))return s;throw a(n(s)+" is not a constructor")}},6077:function(h,O,e){var r=e(614),n=String,a=TypeError;h.exports=function(s){if(typeof s=="object"||r(s))return s;throw a("Can't set "+n(s)+" as a prototype")}},1223:function(h,O,e){var r=e(5112),n=e(30),a=e(3070).f,s=r("unscopables"),i=Array.prototype;i[s]==null&&a(i,s,{configurable:!0,value:n(null)}),h.exports=function(o){i[s][o]=!0}},5787:function(h,O,e){var r=e(7976),n=TypeError;h.exports=function(a,s){if(r(s,a))return a;throw n("Incorrect invocation")}},9670:function(h,O,e){var r=e(111),n=String,a=TypeError;h.exports=function(s){if(r(s))return s;throw a(n(s)+" is not an object")}},3013:function(h){h.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7556:function(h,O,e){var r=e(7293);h.exports=r(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}})},260:function(h,O,e){var r,n,a,s=e(3013),i=e(9781),o=e(7854),t=e(614),l=e(111),u=e(2597),g=e(648),f=e(6330),d=e(8880),p=e(8052),m=e(7045),T=e(7976),c=e(9518),I=e(7674),v=e(5112),N=e(9711),k=e(9909),A=k.enforce,R=k.get,y=o.Int8Array,U=y&&y.prototype,L=o.Uint8ClampedArray,j=L&&L.prototype,H=y&&c(y),ee=U&&c(U),F=Object.prototype,K=o.TypeError,Z=v("toStringTag"),oe=N("TYPED_ARRAY_TAG"),le=s&&!!I&&g(o.opera)!=="Opera",de=!1,Ee={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},re={BigInt64Array:8,BigUint64Array:8},z=function(Q){var ne=c(Q);if(l(ne)){var fe=R(ne);return fe&&u(fe,"TypedArrayConstructor")?fe.TypedArrayConstructor:z(ne)}},ue=function(Q){if(!l(Q))return!1;var ne=g(Q);return u(Ee,ne)||u(re,ne)};for(r in Ee)(a=(n=o[r])&&n.prototype)?A(a).TypedArrayConstructor=n:le=!1;for(r in re)(a=(n=o[r])&&n.prototype)&&(A(a).TypedArrayConstructor=n);if((!le||!t(H)||H===Function.prototype)&&(H=function(){throw K("Incorrect invocation")},le))for(r in Ee)o[r]&&I(o[r],H);if((!le||!ee||ee===F)&&(ee=H.prototype,le))for(r in Ee)o[r]&&I(o[r].prototype,ee);if(le&&c(j)!==ee&&I(j,ee),i&&!u(ee,Z))for(r in de=!0,m(ee,Z,{configurable:!0,get:function(){return l(this)?this[oe]:void 0}}),Ee)o[r]&&d(o[r],oe,r);h.exports={NATIVE_ARRAY_BUFFER_VIEWS:le,TYPED_ARRAY_TAG:de&&oe,aTypedArray:function(Q){if(ue(Q))return Q;throw K("Target is not a typed array")},aTypedArrayConstructor:function(Q){if(t(Q)&&(!I||T(H,Q)))return Q;throw K(f(Q)+" is not a typed array constructor")},exportTypedArrayMethod:function(Q,ne,fe,Y){if(i){if(fe)for(var Oe in Ee){var Ae=o[Oe];if(Ae&&u(Ae.prototype,Q))try{delete Ae.prototype[Q]}catch{try{Ae.prototype[Q]=ne}catch{}}}ee[Q]&&!fe||p(ee,Q,fe?ne:le&&U[Q]||ne,Y)}},exportTypedArrayStaticMethod:function(Q,ne,fe){var Y,Oe;if(i){if(I){if(fe){for(Y in Ee)if((Oe=o[Y])&&u(Oe,Q))try{delete Oe[Q]}catch{}}if(H[Q]&&!fe)return;try{return p(H,Q,fe?ne:le&&H[Q]||ne)}catch{}}for(Y in Ee)!(Oe=o[Y])||Oe[Q]&&!fe||p(Oe,Q,ne)}},getTypedArrayConstructor:z,isView:function(Q){if(!l(Q))return!1;var ne=g(Q);return ne==="DataView"||u(Ee,ne)||u(re,ne)},isTypedArray:ue,TypedArray:H,TypedArrayPrototype:ee}},3331:function(h,O,e){var r=e(7854),n=e(1702),a=e(9781),s=e(3013),i=e(6530),o=e(8880),t=e(7045),l=e(9190),u=e(7293),g=e(5787),f=e(9303),d=e(7466),p=e(7067),m=e(1179),T=e(9518),c=e(7674),I=e(8006).f,v=e(1285),N=e(1589),k=e(8003),A=e(9909),R=i.PROPER,y=i.CONFIGURABLE,U="ArrayBuffer",L="DataView",j="Wrong index",H=A.getterFor(U),ee=A.getterFor(L),F=A.set,K=r.ArrayBuffer,Z=K,oe=Z&&Z.prototype,le=r.DataView,de=le&&le.prototype,Ee=Object.prototype,re=r.Array,z=r.RangeError,ue=n(v),Q=n([].reverse),ne=m.pack,fe=m.unpack,Y=function(D){return[255&D]},Oe=function(D){return[255&D,D>>8&255]},Ae=function(D){return[255&D,D>>8&255,D>>16&255,D>>24&255]},Be=function(D){return D[3]<<24|D[2]<<16|D[1]<<8|D[0]},Ce=function(D){return ne(D,23,4)},Ue=function(D){return ne(D,52,8)},ke=function(D,q,w){t(D.prototype,q,{configurable:!0,get:function(){return w(this)[q]}})},je=function(D,q,w,X){var E=p(w),b=ee(D);if(E+q>b.byteLength)throw z(j);var x=b.bytes,C=E+b.byteOffset,P=N(x,C,C+q);return X?P:Q(P)},Ge=function(D,q,w,X,E,b){var x=p(w),C=ee(D);if(x+q>C.byteLength)throw z(j);for(var P=C.bytes,_=x+C.byteOffset,S=X(+E),W=0;W<q;W++)P[_+W]=S[b?W:q-W-1]};if(s){var xe=R&&K.name!==U;if(u(function(){K(1)})&&u(function(){new K(-1)})&&!u(function(){return new K,new K(1.5),new K(NaN),K.length!=1||xe&&!y}))xe&&y&&o(K,"name",U);else{(Z=function(D){return g(this,oe),new K(p(D))}).prototype=oe;for(var De,ge=I(K),be=0;ge.length>be;)(De=ge[be++])in Z||o(Z,De,K[De]);oe.constructor=Z}c&&T(de)!==Ee&&c(de,Ee);var Ie=new le(new Z(2)),Se=n(de.setInt8);Ie.setInt8(0,2147483648),Ie.setInt8(1,2147483649),!Ie.getInt8(0)&&Ie.getInt8(1)||l(de,{setInt8:function(D,q){Se(this,D,q<<24>>24)},setUint8:function(D,q){Se(this,D,q<<24>>24)}},{unsafe:!0})}else oe=(Z=function(D){g(this,oe);var q=p(D);F(this,{type:U,bytes:ue(re(q),0),byteLength:q}),a||(this.byteLength=q,this.detached=!1)}).prototype,de=(le=function(D,q,w){g(this,de),g(D,oe);var X=H(D),E=X.byteLength,b=f(q);if(b<0||b>E)throw z("Wrong offset");if(b+(w=w===void 0?E-b:d(w))>E)throw z("Wrong length");F(this,{type:L,buffer:D,byteLength:w,byteOffset:b,bytes:X.bytes}),a||(this.buffer=D,this.byteLength=w,this.byteOffset=b)}).prototype,a&&(ke(Z,"byteLength",H),ke(le,"buffer",ee),ke(le,"byteLength",ee),ke(le,"byteOffset",ee)),l(de,{getInt8:function(D){return je(this,1,D)[0]<<24>>24},getUint8:function(D){return je(this,1,D)[0]},getInt16:function(D){var q=je(this,2,D,arguments.length>1?arguments[1]:void 0);return(q[1]<<8|q[0])<<16>>16},getUint16:function(D){var q=je(this,2,D,arguments.length>1?arguments[1]:void 0);return q[1]<<8|q[0]},getInt32:function(D){return Be(je(this,4,D,arguments.length>1?arguments[1]:void 0))},getUint32:function(D){return Be(je(this,4,D,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(D){return fe(je(this,4,D,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(D){return fe(je(this,8,D,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(D,q){Ge(this,1,D,Y,q)},setUint8:function(D,q){Ge(this,1,D,Y,q)},setInt16:function(D,q){Ge(this,2,D,Oe,q,arguments.length>2?arguments[2]:void 0)},setUint16:function(D,q){Ge(this,2,D,Oe,q,arguments.length>2?arguments[2]:void 0)},setInt32:function(D,q){Ge(this,4,D,Ae,q,arguments.length>2?arguments[2]:void 0)},setUint32:function(D,q){Ge(this,4,D,Ae,q,arguments.length>2?arguments[2]:void 0)},setFloat32:function(D,q){Ge(this,4,D,Ce,q,arguments.length>2?arguments[2]:void 0)},setFloat64:function(D,q){Ge(this,8,D,Ue,q,arguments.length>2?arguments[2]:void 0)}});k(Z,U),k(le,L),h.exports={ArrayBuffer:Z,DataView:le}},1048:function(h,O,e){var r=e(7908),n=e(1400),a=e(6244),s=e(5117),i=Math.min;h.exports=[].copyWithin||function(o,t){var l=r(this),u=a(l),g=n(o,u),f=n(t,u),d=arguments.length>2?arguments[2]:void 0,p=i((d===void 0?u:n(d,u))-f,u-g),m=1;for(f<g&&g<f+p&&(m=-1,f+=p-1,g+=p-1);p-- >0;)f in l?l[g]=l[f]:s(l,g),g+=m,f+=m;return l}},1285:function(h,O,e){var r=e(7908),n=e(1400),a=e(6244);h.exports=function(s){for(var i=r(this),o=a(i),t=arguments.length,l=n(t>1?arguments[1]:void 0,o),u=t>2?arguments[2]:void 0,g=u===void 0?o:n(u,o);g>l;)i[l++]=s;return i}},8533:function(h,O,e){var r=e(2092).forEach,n=e(9341)("forEach");h.exports=n?[].forEach:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}},7745:function(h,O,e){var r=e(6244);h.exports=function(n,a){for(var s=0,i=r(a),o=new n(i);i>s;)o[s]=a[s++];return o}},8457:function(h,O,e){var r=e(9974),n=e(6916),a=e(7908),s=e(3411),i=e(7659),o=e(4411),t=e(6244),l=e(6135),u=e(4121),g=e(1246),f=Array;h.exports=function(d){var p=a(d),m=o(this),T=arguments.length,c=T>1?arguments[1]:void 0,I=c!==void 0;I&&(c=r(c,T>2?arguments[2]:void 0));var v,N,k,A,R,y,U=g(p),L=0;if(!U||this===f&&i(U))for(v=t(p),N=m?new this(v):f(v);v>L;L++)y=I?c(p[L],L):p[L],l(N,L,y);else for(R=(A=u(p,U)).next,N=m?new this:[];!(k=n(R,A)).done;L++)y=I?s(A,c,[k.value,L],!0):k.value,l(N,L,y);return N.length=L,N}},1318:function(h,O,e){var r=e(5656),n=e(1400),a=e(6244),s=function(i){return function(o,t,l){var u,g=r(o),f=a(g),d=n(l,f);if(i&&t!=t){for(;f>d;)if((u=g[d++])!=u)return!0}else for(;f>d;d++)if((i||d in g)&&g[d]===t)return i||d||0;return!i&&-1}};h.exports={includes:s(!0),indexOf:s(!1)}},2092:function(h,O,e){var r=e(9974),n=e(1702),a=e(8361),s=e(7908),i=e(6244),o=e(5417),t=n([].push),l=function(u){var g=u==1,f=u==2,d=u==3,p=u==4,m=u==6,T=u==7,c=u==5||m;return function(I,v,N,k){for(var A,R,y=s(I),U=a(y),L=r(v,N),j=i(U),H=0,ee=k||o,F=g?ee(I,j):f||T?ee(I,0):void 0;j>H;H++)if((c||H in U)&&(R=L(A=U[H],H,y),u))if(g)F[H]=R;else if(R)switch(u){case 3:return!0;case 5:return A;case 6:return H;case 2:t(F,A)}else switch(u){case 4:return!1;case 7:t(F,A)}return m?-1:d||p?p:F}};h.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(h,O,e){var r=e(2104),n=e(5656),a=e(9303),s=e(6244),i=e(9341),o=Math.min,t=[].lastIndexOf,l=!!t&&1/[1].lastIndexOf(1,-0)<0,u=i("lastIndexOf"),g=l||!u;h.exports=g?function(f){if(l)return r(t,this,arguments)||0;var d=n(this),p=s(d),m=p-1;for(arguments.length>1&&(m=o(m,a(arguments[1]))),m<0&&(m=p+m);m>=0;m--)if(m in d&&d[m]===f)return m||0;return-1}:t},1194:function(h,O,e){var r=e(7293),n=e(5112),a=e(7392),s=n("species");h.exports=function(i){return a>=51||!r(function(){var o=[];return(o.constructor={})[s]=function(){return{foo:1}},o[i](Boolean).foo!==1})}},9341:function(h,O,e){var r=e(7293);h.exports=function(n,a){var s=[][n];return!!s&&r(function(){s.call(null,a||function(){return 1},1)})}},3671:function(h,O,e){var r=e(9662),n=e(7908),a=e(8361),s=e(6244),i=TypeError,o=function(t){return function(l,u,g,f){r(u);var d=n(l),p=a(d),m=s(d),T=t?m-1:0,c=t?-1:1;if(g<2)for(;;){if(T in p){f=p[T],T+=c;break}if(T+=c,t?T<0:m<=T)throw i("Reduce of empty array with no initial value")}for(;t?T>=0:m>T;T+=c)T in p&&(f=u(f,p[T],T,d));return f}};h.exports={left:o(!1),right:o(!0)}},3658:function(h,O,e){var r=e(9781),n=e(3157),a=TypeError,s=Object.getOwnPropertyDescriptor,i=r&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();h.exports=i?function(o,t){if(n(o)&&!s(o,"length").writable)throw a("Cannot set read only .length");return o.length=t}:function(o,t){return o.length=t}},1589:function(h,O,e){var r=e(1400),n=e(6244),a=e(6135),s=Array,i=Math.max;h.exports=function(o,t,l){for(var u=n(o),g=r(t,u),f=r(l===void 0?u:l,u),d=s(i(f-g,0)),p=0;g<f;g++,p++)a(d,p,o[g]);return d.length=p,d}},206:function(h,O,e){var r=e(1702);h.exports=r([].slice)},4362:function(h,O,e){var r=e(1589),n=Math.floor,a=function(o,t){var l=o.length,u=n(l/2);return l<8?s(o,t):i(o,a(r(o,0,u),t),a(r(o,u),t),t)},s=function(o,t){for(var l,u,g=o.length,f=1;f<g;){for(u=f,l=o[f];u&&t(o[u-1],l)>0;)o[u]=o[--u];u!==f++&&(o[u]=l)}return o},i=function(o,t,l,u){for(var g=t.length,f=l.length,d=0,p=0;d<g||p<f;)o[d+p]=d<g&&p<f?u(t[d],l[p])<=0?t[d++]:l[p++]:d<g?t[d++]:l[p++];return o};h.exports=a},7475:function(h,O,e){var r=e(3157),n=e(4411),a=e(111),s=e(5112)("species"),i=Array;h.exports=function(o){var t;return r(o)&&(t=o.constructor,(n(t)&&(t===i||r(t.prototype))||a(t)&&(t=t[s])===null)&&(t=void 0)),t===void 0?i:t}},5417:function(h,O,e){var r=e(7475);h.exports=function(n,a){return new(r(n))(a===0?0:a)}},3411:function(h,O,e){var r=e(9670),n=e(9212);h.exports=function(a,s,i,o){try{return o?s(r(i)[0],i[1]):s(i)}catch(t){n(a,"throw",t)}}},7072:function(h,O,e){var r=e(5112)("iterator"),n=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){n=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch{}h.exports=function(i,o){if(!o&&!n)return!1;var t=!1;try{var l={};l[r]=function(){return{next:function(){return{done:t=!0}}}},i(l)}catch{}return t}},4326:function(h,O,e){var r=e(1702),n=r({}.toString),a=r("".slice);h.exports=function(s){return a(n(s),8,-1)}},648:function(h,O,e){var r=e(1694),n=e(614),a=e(4326),s=e(5112)("toStringTag"),i=Object,o=a(function(){return arguments}())=="Arguments";h.exports=r?a:function(t){var l,u,g;return t===void 0?"Undefined":t===null?"Null":typeof(u=function(f,d){try{return f[d]}catch{}}(l=i(t),s))=="string"?u:o?a(l):(g=a(l))=="Object"&&n(l.callee)?"Arguments":g}},5631:function(h,O,e){var r=e(30),n=e(7045),a=e(9190),s=e(9974),i=e(5787),o=e(8554),t=e(408),l=e(1656),u=e(6178),g=e(6340),f=e(9781),d=e(2423).fastKey,p=e(9909),m=p.set,T=p.getterFor;h.exports={getConstructor:function(c,I,v,N){var k=c(function(L,j){i(L,A),m(L,{type:I,index:r(null),first:void 0,last:void 0,size:0}),f||(L.size=0),o(j)||t(j,L[N],{that:L,AS_ENTRIES:v})}),A=k.prototype,R=T(I),y=function(L,j,H){var ee,F,K=R(L),Z=U(L,j);return Z?Z.value=H:(K.last=Z={index:F=d(j,!0),key:j,value:H,previous:ee=K.last,next:void 0,removed:!1},K.first||(K.first=Z),ee&&(ee.next=Z),f?K.size++:L.size++,F!=="F"&&(K.index[F]=Z)),L},U=function(L,j){var H,ee=R(L),F=d(j);if(F!=="F")return ee.index[F];for(H=ee.first;H;H=H.next)if(H.key==j)return H};return a(A,{clear:function(){for(var L=R(this),j=L.index,H=L.first;H;)H.removed=!0,H.previous&&(H.previous=H.previous.next=void 0),delete j[H.index],H=H.next;L.first=L.last=void 0,f?L.size=0:this.size=0},delete:function(L){var j=this,H=R(j),ee=U(j,L);if(ee){var F=ee.next,K=ee.previous;delete H.index[ee.index],ee.removed=!0,K&&(K.next=F),F&&(F.previous=K),H.first==ee&&(H.first=F),H.last==ee&&(H.last=K),f?H.size--:j.size--}return!!ee},forEach:function(L){for(var j,H=R(this),ee=s(L,arguments.length>1?arguments[1]:void 0);j=j?j.next:H.first;)for(ee(j.value,j.key,this);j&&j.removed;)j=j.previous},has:function(L){return!!U(this,L)}}),a(A,v?{get:function(L){var j=U(this,L);return j&&j.value},set:function(L,j){return y(this,L===0?0:L,j)}}:{add:function(L){return y(this,L=L===0?0:L,L)}}),f&&n(A,"size",{configurable:!0,get:function(){return R(this).size}}),k},setStrong:function(c,I,v){var N=I+" Iterator",k=T(I),A=T(N);l(c,I,function(R,y){m(this,{type:N,target:R,state:k(R),kind:y,last:void 0})},function(){for(var R=A(this),y=R.kind,U=R.last;U&&U.removed;)U=U.previous;return R.target&&(R.last=U=U?U.next:R.state.first)?u(y=="keys"?U.key:y=="values"?U.value:[U.key,U.value],!1):(R.target=void 0,u(void 0,!0))},v?"entries":"values",!v,!0),g(I)}}},7710:function(h,O,e){var r=e(2109),n=e(7854),a=e(1702),s=e(4705),i=e(8052),o=e(2423),t=e(408),l=e(5787),u=e(614),g=e(8554),f=e(111),d=e(7293),p=e(7072),m=e(8003),T=e(9587);h.exports=function(c,I,v){var N=c.indexOf("Map")!==-1,k=c.indexOf("Weak")!==-1,A=N?"set":"add",R=n[c],y=R&&R.prototype,U=R,L={},j=function(oe){var le=a(y[oe]);i(y,oe,oe=="add"?function(de){return le(this,de===0?0:de),this}:oe=="delete"?function(de){return!(k&&!f(de))&&le(this,de===0?0:de)}:oe=="get"?function(de){return k&&!f(de)?void 0:le(this,de===0?0:de)}:oe=="has"?function(de){return!(k&&!f(de))&&le(this,de===0?0:de)}:function(de,Ee){return le(this,de===0?0:de,Ee),this})};if(s(c,!u(R)||!(k||y.forEach&&!d(function(){new R().entries().next()}))))U=v.getConstructor(I,c,N,A),o.enable();else if(s(c,!0)){var H=new U,ee=H[A](k?{}:-0,1)!=H,F=d(function(){H.has(1)}),K=p(function(oe){new R(oe)}),Z=!k&&d(function(){for(var oe=new R,le=5;le--;)oe[A](le,le);return!oe.has(-0)});K||((U=I(function(oe,le){l(oe,y);var de=T(new R,oe,U);return g(le)||t(le,de[A],{that:de,AS_ENTRIES:N}),de})).prototype=y,y.constructor=U),(F||Z)&&(j("delete"),j("has"),N&&j("get")),(Z||ee)&&j(A),k&&y.clear&&delete y.clear}return L[c]=U,r({global:!0,constructor:!0,forced:U!=R},L),m(U,c),k||v.setStrong(U,c,N),U}},9920:function(h,O,e){var r=e(2597),n=e(3887),a=e(1236),s=e(3070);h.exports=function(i,o,t){for(var l=n(o),u=s.f,g=a.f,f=0;f<l.length;f++){var d=l[f];r(i,d)||t&&r(t,d)||u(i,d,g(o,d))}}},4964:function(h,O,e){var r=e(5112)("match");h.exports=function(n){var a=/./;try{"/./"[n](a)}catch{try{return a[r]=!1,"/./"[n](a)}catch{}}return!1}},8544:function(h,O,e){var r=e(7293);h.exports=!r(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},6178:function(h){h.exports=function(O,e){return{value:O,done:e}}},8880:function(h,O,e){var r=e(9781),n=e(3070),a=e(9114);h.exports=r?function(s,i,o){return n.f(s,i,a(1,o))}:function(s,i,o){return s[i]=o,s}},9114:function(h){h.exports=function(O,e){return{enumerable:!(1&O),configurable:!(2&O),writable:!(4&O),value:e}}},6135:function(h,O,e){var r=e(4948),n=e(3070),a=e(9114);h.exports=function(s,i,o){var t=r(i);t in s?n.f(s,t,a(0,o)):s[t]=o}},7045:function(h,O,e){var r=e(6339),n=e(3070);h.exports=function(a,s,i){return i.get&&r(i.get,s,{getter:!0}),i.set&&r(i.set,s,{setter:!0}),n.f(a,s,i)}},8052:function(h,O,e){var r=e(614),n=e(3070),a=e(6339),s=e(3072);h.exports=function(i,o,t,l){l||(l={});var u=l.enumerable,g=l.name!==void 0?l.name:o;if(r(t)&&a(t,g,l),l.global)u?i[o]=t:s(o,t);else{try{l.unsafe?i[o]&&(u=!0):delete i[o]}catch{}u?i[o]=t:n.f(i,o,{value:t,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return i}},9190:function(h,O,e){var r=e(8052);h.exports=function(n,a,s){for(var i in a)r(n,i,a[i],s);return n}},3072:function(h,O,e){var r=e(7854),n=Object.defineProperty;h.exports=function(a,s){try{n(r,a,{value:s,configurable:!0,writable:!0})}catch{r[a]=s}return s}},5117:function(h,O,e){var r=e(6330),n=TypeError;h.exports=function(a,s){if(!delete a[s])throw n("Cannot delete property "+r(s)+" of "+r(a))}},9781:function(h,O,e){var r=e(7293);h.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(h){var O=typeof document=="object"&&document.all,e=O===void 0&&O!==void 0;h.exports={all:O,IS_HTMLDDA:e}},317:function(h,O,e){var r=e(7854),n=e(111),a=r.document,s=n(a)&&n(a.createElement);h.exports=function(i){return s?a.createElement(i):{}}},7207:function(h){var O=TypeError;h.exports=function(e){if(e>9007199254740991)throw O("Maximum allowed index exceeded");return e}},8324:function(h){h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(h,O,e){var r=e(317)("span").classList,n=r&&r.constructor&&r.constructor.prototype;h.exports=n===Object.prototype?void 0:n},8886:function(h,O,e){var r=e(8113).match(/firefox\/(\d+)/i);h.exports=!!r&&+r[1]},7871:function(h,O,e){var r=e(3823),n=e(5268);h.exports=!r&&!n&&typeof window=="object"&&typeof document=="object"},9363:function(h){h.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},3823:function(h){h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},256:function(h,O,e){var r=e(8113);h.exports=/MSIE|Trident/.test(r)},1528:function(h,O,e){var r=e(8113);h.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},6833:function(h,O,e){var r=e(8113);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(h,O,e){var r=e(4326);h.exports=typeof process<"u"&&r(process)=="process"},1036:function(h,O,e){var r=e(8113);h.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(h){h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:function(h,O,e){var r,n,a=e(7854),s=e(8113),i=a.process,o=a.Deno,t=i&&i.versions||o&&o.version,l=t&&t.v8;l&&(n=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(n=+r[1]),h.exports=n},8008:function(h,O,e){var r=e(8113).match(/AppleWebKit\/(\d+)\./);h.exports=!!r&&+r[1]},748:function(h){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(h,O,e){var r=e(7854),n=e(1236).f,a=e(8880),s=e(8052),i=e(3072),o=e(9920),t=e(4705);h.exports=function(l,u){var g,f,d,p,m,T=l.target,c=l.global,I=l.stat;if(g=c?r:I?r[T]||i(T,{}):(r[T]||{}).prototype)for(f in u){if(p=u[f],d=l.dontCallGetSet?(m=n(g,f))&&m.value:g[f],!t(c?f:T+(I?".":"#")+f,l.forced)&&d!==void 0){if(typeof p==typeof d)continue;o(p,d)}(l.sham||d&&d.sham)&&a(p,"sham",!0),s(g,f,p,l)}}},7293:function(h){h.exports=function(O){try{return!!O()}catch{return!0}}},6677:function(h,O,e){var r=e(7293);h.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:function(h,O,e){var r=e(4374),n=Function.prototype,a=n.apply,s=n.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(r?s.bind(a):function(){return s.apply(a,arguments)})},9974:function(h,O,e){var r=e(1470),n=e(9662),a=e(4374),s=r(r.bind);h.exports=function(i,o){return n(i),o===void 0?i:a?s(i,o):function(){return i.apply(o,arguments)}}},4374:function(h,O,e){var r=e(7293);h.exports=!r(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},7065:function(h,O,e){var r=e(1702),n=e(9662),a=e(111),s=e(2597),i=e(206),o=e(4374),t=Function,l=r([].concat),u=r([].join),g={},f=function(d,p,m){if(!s(g,p)){for(var T=[],c=0;c<p;c++)T[c]="a["+c+"]";g[p]=t("C,a","return new C("+u(T,",")+")")}return g[p](d,m)};h.exports=o?t.bind:function(d){var p=n(this),m=p.prototype,T=i(arguments,1),c=function(){var I=l(T,i(arguments));return this instanceof c?f(p,I.length,I):p.apply(d,I)};return a(m)&&(c.prototype=m),c}},6916:function(h,O,e){var r=e(4374),n=Function.prototype.call;h.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},6530:function(h,O,e){var r=e(9781),n=e(2597),a=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,i=n(a,"name"),o=i&&(function(){}).name==="something",t=i&&(!r||r&&s(a,"name").configurable);h.exports={EXISTS:i,PROPER:o,CONFIGURABLE:t}},5668:function(h,O,e){var r=e(1702),n=e(9662);h.exports=function(a,s,i){try{return r(n(Object.getOwnPropertyDescriptor(a,s)[i]))}catch{}}},1470:function(h,O,e){var r=e(4326),n=e(1702);h.exports=function(a){if(r(a)==="Function")return n(a)}},1702:function(h,O,e){var r=e(4374),n=Function.prototype,a=n.call,s=r&&n.bind.bind(a,a);h.exports=r?s:function(i){return function(){return a.apply(i,arguments)}}},5005:function(h,O,e){var r=e(7854),n=e(614),a=function(s){return n(s)?s:void 0};h.exports=function(s,i){return arguments.length<2?a(r[s]):r[s]&&r[s][i]}},1246:function(h,O,e){var r=e(648),n=e(8173),a=e(8554),s=e(7497),i=e(5112)("iterator");h.exports=function(o){if(!a(o))return n(o,i)||n(o,"@@iterator")||s[r(o)]}},4121:function(h,O,e){var r=e(6916),n=e(9662),a=e(9670),s=e(6330),i=e(1246),o=TypeError;h.exports=function(t,l){var u=arguments.length<2?i(t):l;if(n(u))return a(r(u,t));throw o(s(t)+" is not iterable")}},8044:function(h,O,e){var r=e(1702),n=e(3157),a=e(614),s=e(4326),i=e(1340),o=r([].push);h.exports=function(t){if(a(t))return t;if(n(t)){for(var l=t.length,u=[],g=0;g<l;g++){var f=t[g];typeof f=="string"?o(u,f):typeof f!="number"&&s(f)!="Number"&&s(f)!="String"||o(u,i(f))}var d=u.length,p=!0;return function(m,T){if(p)return p=!1,T;if(n(this))return T;for(var c=0;c<d;c++)if(u[c]===m)return T}}}},8173:function(h,O,e){var r=e(9662),n=e(8554);h.exports=function(a,s){var i=a[s];return n(i)?void 0:r(i)}},7854:function(h,O,e){var r=function(n){return n&&n.Math==Math&&n};h.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:function(h,O,e){var r=e(1702),n=e(7908),a=r({}.hasOwnProperty);h.exports=Object.hasOwn||function(s,i){return a(n(s),i)}},3501:function(h){h.exports={}},842:function(h){h.exports=function(O,e){try{arguments.length==1?console.error(O):console.error(O,e)}catch{}}},490:function(h,O,e){var r=e(5005);h.exports=r("document","documentElement")},4664:function(h,O,e){var r=e(9781),n=e(7293),a=e(317);h.exports=!r&&!n(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},1179:function(h){var O=Array,e=Math.abs,r=Math.pow,n=Math.floor,a=Math.log,s=Math.LN2;h.exports={pack:function(i,o,t){var l,u,g,f=O(t),d=8*t-o-1,p=(1<<d)-1,m=p>>1,T=o===23?r(2,-24)-r(2,-77):0,c=i<0||i===0&&1/i<0?1:0,I=0;for((i=e(i))!=i||i===1/0?(u=i!=i?1:0,l=p):(l=n(a(i)/s),i*(g=r(2,-l))<1&&(l--,g*=2),(i+=l+m>=1?T/g:T*r(2,1-m))*g>=2&&(l++,g/=2),l+m>=p?(u=0,l=p):l+m>=1?(u=(i*g-1)*r(2,o),l+=m):(u=i*r(2,m-1)*r(2,o),l=0));o>=8;)f[I++]=255&u,u/=256,o-=8;for(l=l<<o|u,d+=o;d>0;)f[I++]=255&l,l/=256,d-=8;return f[--I]|=128*c,f},unpack:function(i,o){var t,l=i.length,u=8*l-o-1,g=(1<<u)-1,f=g>>1,d=u-7,p=l-1,m=i[p--],T=127&m;for(m>>=7;d>0;)T=256*T+i[p--],d-=8;for(t=T&(1<<-d)-1,T>>=-d,d+=o;d>0;)t=256*t+i[p--],d-=8;if(T===0)T=1-f;else{if(T===g)return t?NaN:m?-1/0:1/0;t+=r(2,o),T-=f}return(m?-1:1)*t*r(2,T-o)}}},8361:function(h,O,e){var r=e(1702),n=e(7293),a=e(4326),s=Object,i=r("".split);h.exports=n(function(){return!s("z").propertyIsEnumerable(0)})?function(o){return a(o)=="String"?i(o,""):s(o)}:s},9587:function(h,O,e){var r=e(614),n=e(111),a=e(7674);h.exports=function(s,i,o){var t,l;return a&&r(t=i.constructor)&&t!==o&&n(l=t.prototype)&&l!==o.prototype&&a(s,l),s}},2788:function(h,O,e){var r=e(1702),n=e(614),a=e(5465),s=r(Function.toString);n(a.inspectSource)||(a.inspectSource=function(i){return s(i)}),h.exports=a.inspectSource},2423:function(h,O,e){var r=e(2109),n=e(1702),a=e(3501),s=e(111),i=e(2597),o=e(3070).f,t=e(8006),l=e(1156),u=e(2050),g=e(9711),f=e(6677),d=!1,p=g("meta"),m=0,T=function(I){o(I,p,{value:{objectID:"O"+m++,weakData:{}}})},c=h.exports={enable:function(){c.enable=function(){},d=!0;var I=t.f,v=n([].splice),N={};N[p]=1,I(N).length&&(t.f=function(k){for(var A=I(k),R=0,y=A.length;R<y;R++)if(A[R]===p){v(A,R,1);break}return A},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(I,v){if(!s(I))return typeof I=="symbol"?I:(typeof I=="string"?"S":"P")+I;if(!i(I,p)){if(!u(I))return"F";if(!v)return"E";T(I)}return I[p].objectID},getWeakData:function(I,v){if(!i(I,p)){if(!u(I))return!0;if(!v)return!1;T(I)}return I[p].weakData},onFreeze:function(I){return f&&d&&u(I)&&!i(I,p)&&T(I),I}};a[p]=!0},9909:function(h,O,e){var r,n,a,s=e(4811),i=e(7854),o=e(111),t=e(8880),l=e(2597),u=e(5465),g=e(6200),f=e(3501),d="Object already initialized",p=i.TypeError,m=i.WeakMap;if(s||u.state){var T=u.state||(u.state=new m);T.get=T.get,T.has=T.has,T.set=T.set,r=function(I,v){if(T.has(I))throw p(d);return v.facade=I,T.set(I,v),v},n=function(I){return T.get(I)||{}},a=function(I){return T.has(I)}}else{var c=g("state");f[c]=!0,r=function(I,v){if(l(I,c))throw p(d);return v.facade=I,t(I,c,v),v},n=function(I){return l(I,c)?I[c]:{}},a=function(I){return l(I,c)}}h.exports={set:r,get:n,has:a,enforce:function(I){return a(I)?n(I):r(I,{})},getterFor:function(I){return function(v){var N;if(!o(v)||(N=n(v)).type!==I)throw p("Incompatible receiver, "+I+" required");return N}}}},7659:function(h,O,e){var r=e(5112),n=e(7497),a=r("iterator"),s=Array.prototype;h.exports=function(i){return i!==void 0&&(n.Array===i||s[a]===i)}},3157:function(h,O,e){var r=e(4326);h.exports=Array.isArray||function(n){return r(n)=="Array"}},4067:function(h,O,e){var r=e(648);h.exports=function(n){var a=r(n);return a=="BigInt64Array"||a=="BigUint64Array"}},614:function(h,O,e){var r=e(4154),n=r.all;h.exports=r.IS_HTMLDDA?function(a){return typeof a=="function"||a===n}:function(a){return typeof a=="function"}},4411:function(h,O,e){var r=e(1702),n=e(7293),a=e(614),s=e(648),i=e(5005),o=e(2788),t=function(){},l=[],u=i("Reflect","construct"),g=/^\s*(?:class|function)\b/,f=r(g.exec),d=!g.exec(t),p=function(T){if(!a(T))return!1;try{return u(t,l,T),!0}catch{return!1}},m=function(T){if(!a(T))return!1;switch(s(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(g,o(T))}catch{return!0}};m.sham=!0,h.exports=!u||n(function(){var T;return p(p.call)||!p(Object)||!p(function(){T=!0})||T})?m:p},4705:function(h,O,e){var r=e(7293),n=e(614),a=/#|\.prototype\./,s=function(u,g){var f=o[i(u)];return f==l||f!=t&&(n(g)?r(g):!!g)},i=s.normalize=function(u){return String(u).replace(a,".").toLowerCase()},o=s.data={},t=s.NATIVE="N",l=s.POLYFILL="P";h.exports=s},5988:function(h,O,e){var r=e(111),n=Math.floor;h.exports=Number.isInteger||function(a){return!r(a)&&isFinite(a)&&n(a)===a}},8554:function(h){h.exports=function(O){return O==null}},111:function(h,O,e){var r=e(614),n=e(4154),a=n.all;h.exports=n.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:r(s)||s===a}:function(s){return typeof s=="object"?s!==null:r(s)}},1913:function(h){h.exports=!1},7850:function(h,O,e){var r=e(111),n=e(4326),a=e(5112)("match");h.exports=function(s){var i;return r(s)&&((i=s[a])!==void 0?!!i:n(s)=="RegExp")}},2190:function(h,O,e){var r=e(5005),n=e(614),a=e(7976),s=e(3307),i=Object;h.exports=s?function(o){return typeof o=="symbol"}:function(o){var t=r("Symbol");return n(t)&&a(t.prototype,i(o))}},408:function(h,O,e){var r=e(9974),n=e(6916),a=e(9670),s=e(6330),i=e(7659),o=e(6244),t=e(7976),l=e(4121),u=e(1246),g=e(9212),f=TypeError,d=function(m,T){this.stopped=m,this.result=T},p=d.prototype;h.exports=function(m,T,c){var I,v,N,k,A,R,y,U=c&&c.that,L=!(!c||!c.AS_ENTRIES),j=!(!c||!c.IS_RECORD),H=!(!c||!c.IS_ITERATOR),ee=!(!c||!c.INTERRUPTED),F=r(T,U),K=function(oe){return I&&g(I,"normal",oe),new d(!0,oe)},Z=function(oe){return L?(a(oe),ee?F(oe[0],oe[1],K):F(oe[0],oe[1])):ee?F(oe,K):F(oe)};if(j)I=m.iterator;else if(H)I=m;else{if(!(v=u(m)))throw f(s(m)+" is not iterable");if(i(v)){for(N=0,k=o(m);k>N;N++)if((A=Z(m[N]))&&t(p,A))return A;return new d(!1)}I=l(m,v)}for(R=j?m.next:I.next;!(y=n(R,I)).done;){try{A=Z(y.value)}catch(oe){g(I,"throw",oe)}if(typeof A=="object"&&A&&t(p,A))return A}return new d(!1)}},9212:function(h,O,e){var r=e(6916),n=e(9670),a=e(8173);h.exports=function(s,i,o){var t,l;n(s);try{if(!(t=a(s,"return"))){if(i==="throw")throw o;return o}t=r(t,s)}catch(u){l=!0,t=u}if(i==="throw")throw o;if(l)throw t;return n(t),o}},3061:function(h,O,e){var r=e(3383).IteratorPrototype,n=e(30),a=e(9114),s=e(8003),i=e(7497),o=function(){return this};h.exports=function(t,l,u,g){var f=l+" Iterator";return t.prototype=n(r,{next:a(+!g,u)}),s(t,f,!1,!0),i[f]=o,t}},1656:function(h,O,e){var r=e(2109),n=e(6916),a=e(1913),s=e(6530),i=e(614),o=e(3061),t=e(9518),l=e(7674),u=e(8003),g=e(8880),f=e(8052),d=e(5112),p=e(7497),m=e(3383),T=s.PROPER,c=s.CONFIGURABLE,I=m.IteratorPrototype,v=m.BUGGY_SAFARI_ITERATORS,N=d("iterator"),k="keys",A="values",R="entries",y=function(){return this};h.exports=function(U,L,j,H,ee,F,K){o(j,L,H);var Z,oe,le,de=function(fe){if(fe===ee&&Q)return Q;if(!v&&fe in z)return z[fe];switch(fe){case k:case A:case R:return function(){return new j(this,fe)}}return function(){return new j(this)}},Ee=L+" Iterator",re=!1,z=U.prototype,ue=z[N]||z["@@iterator"]||ee&&z[ee],Q=!v&&ue||de(ee),ne=L=="Array"&&z.entries||ue;if(ne&&(Z=t(ne.call(new U)))!==Object.prototype&&Z.next&&(a||t(Z)===I||(l?l(Z,I):i(Z[N])||f(Z,N,y)),u(Z,Ee,!0,!0),a&&(p[Ee]=y)),T&&ee==A&&ue&&ue.name!==A&&(!a&&c?g(z,"name",A):(re=!0,Q=function(){return n(ue,this)})),ee)if(oe={values:de(A),keys:F?Q:de(k),entries:de(R)},K)for(le in oe)(v||re||!(le in z))&&f(z,le,oe[le]);else r({target:L,proto:!0,forced:v||re},oe);return a&&!K||z[N]===Q||f(z,N,Q,{name:ee}),p[L]=Q,oe}},3383:function(h,O,e){var r,n,a,s=e(7293),i=e(614),o=e(111),t=e(30),l=e(9518),u=e(8052),g=e(5112),f=e(1913),d=g("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(n=l(l(a)))!==Object.prototype&&(r=n):p=!0),!o(r)||s(function(){var m={};return r[d].call(m)!==m})?r={}:f&&(r=t(r)),i(r[d])||u(r,d,function(){return this}),h.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7497:function(h){h.exports={}},6244:function(h,O,e){var r=e(7466);h.exports=function(n){return r(n.length)}},6339:function(h,O,e){var r=e(1702),n=e(7293),a=e(614),s=e(2597),i=e(9781),o=e(6530).CONFIGURABLE,t=e(2788),l=e(9909),u=l.enforce,g=l.get,f=String,d=Object.defineProperty,p=r("".slice),m=r("".replace),T=r([].join),c=i&&!n(function(){return d(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),v=h.exports=function(N,k,A){p(f(k),0,7)==="Symbol("&&(k="["+m(f(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),A&&A.getter&&(k="get "+k),A&&A.setter&&(k="set "+k),(!s(N,"name")||o&&N.name!==k)&&(i?d(N,"name",{value:k,configurable:!0}):N.name=k),c&&A&&s(A,"arity")&&N.length!==A.arity&&d(N,"length",{value:A.arity});try{A&&s(A,"constructor")&&A.constructor?i&&d(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch{}var R=u(N);return s(R,"source")||(R.source=T(I,typeof k=="string"?k:"")),N};Function.prototype.toString=v(function(){return a(this)&&g(this).source||t(this)},"toString")},4758:function(h){var O=Math.ceil,e=Math.floor;h.exports=Math.trunc||function(r){var n=+r;return(n>0?e:O)(n)}},5948:function(h,O,e){var r,n,a,s,i,o=e(7854),t=e(9974),l=e(1236).f,u=e(261).set,g=e(8572),f=e(6833),d=e(1528),p=e(1036),m=e(5268),T=o.MutationObserver||o.WebKitMutationObserver,c=o.document,I=o.process,v=o.Promise,N=l(o,"queueMicrotask"),k=N&&N.value;if(!k){var A=new g,R=function(){var y,U;for(m&&(y=I.domain)&&y.exit();U=A.get();)try{U()}catch(L){throw A.head&&r(),L}y&&y.enter()};f||m||p||!T||!c?!d&&v&&v.resolve?((s=v.resolve(void 0)).constructor=v,i=t(s.then,s),r=function(){i(R)}):m?r=function(){I.nextTick(R)}:(u=t(u,o),r=function(){u(R)}):(n=!0,a=c.createTextNode(""),new T(R).observe(a,{characterData:!0}),r=function(){a.data=n=!n}),k=function(y){A.head||r(),A.add(y)}}h.exports=k},8523:function(h,O,e){var r=e(9662),n=TypeError,a=function(s){var i,o;this.promise=new s(function(t,l){if(i!==void 0||o!==void 0)throw n("Bad Promise constructor");i=t,o=l}),this.resolve=r(i),this.reject=r(o)};h.exports.f=function(s){return new a(s)}},3929:function(h,O,e){var r=e(7850),n=TypeError;h.exports=function(a){if(r(a))throw n("The method doesn't accept regular expressions");return a}},1574:function(h,O,e){var r=e(9781),n=e(1702),a=e(6916),s=e(7293),i=e(1956),o=e(5181),t=e(5296),l=e(7908),u=e(8361),g=Object.assign,f=Object.defineProperty,d=n([].concat);h.exports=!g||s(function(){if(r&&g({b:1},g(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var p={},m={},T=Symbol(),c="abcdefghijklmnopqrst";return p[T]=7,c.split("").forEach(function(I){m[I]=I}),g({},p)[T]!=7||i(g({},m)).join("")!=c})?function(p,m){for(var T=l(p),c=arguments.length,I=1,v=o.f,N=t.f;c>I;)for(var k,A=u(arguments[I++]),R=v?d(i(A),v(A)):i(A),y=R.length,U=0;y>U;)k=R[U++],r&&!a(N,A,k)||(T[k]=A[k]);return T}:g},30:function(h,O,e){var r,n=e(9670),a=e(6048),s=e(748),i=e(3501),o=e(490),t=e(317),l=e(6200)("IE_PROTO"),u=function(){},g=function(p){return"<script>"+p+"<\/script>"},f=function(p){p.write(g("")),p.close();var m=p.parentWindow.Object;return p=null,m},d=function(){try{r=new ActiveXObject("htmlfile")}catch{}var p,m;d=typeof document<"u"?document.domain&&r?f(r):((m=t("iframe")).style.display="none",o.appendChild(m),m.src="javascript:",(p=m.contentWindow.document).open(),p.write(g("document.F=Object")),p.close(),p.F):f(r);for(var T=s.length;T--;)delete d.prototype[s[T]];return d()};i[l]=!0,h.exports=Object.create||function(p,m){var T;return p!==null?(u.prototype=n(p),T=new u,u.prototype=null,T[l]=p):T=d(),m===void 0?T:a.f(T,m)}},6048:function(h,O,e){var r=e(9781),n=e(3353),a=e(3070),s=e(9670),i=e(5656),o=e(1956);O.f=r&&!n?Object.defineProperties:function(t,l){s(t);for(var u,g=i(l),f=o(l),d=f.length,p=0;d>p;)a.f(t,u=f[p++],g[u]);return t}},3070:function(h,O,e){var r=e(9781),n=e(4664),a=e(3353),s=e(9670),i=e(4948),o=TypeError,t=Object.defineProperty,l=Object.getOwnPropertyDescriptor;O.f=r?a?function(u,g,f){if(s(u),g=i(g),s(f),typeof u=="function"&&g==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var d=l(u,g);d&&d.writable&&(u[g]=f.value,f={configurable:"configurable"in f?f.configurable:d.configurable,enumerable:"enumerable"in f?f.enumerable:d.enumerable,writable:!1})}return t(u,g,f)}:t:function(u,g,f){if(s(u),g=i(g),s(f),n)try{return t(u,g,f)}catch{}if("get"in f||"set"in f)throw o("Accessors not supported");return"value"in f&&(u[g]=f.value),u}},1236:function(h,O,e){var r=e(9781),n=e(6916),a=e(5296),s=e(9114),i=e(5656),o=e(4948),t=e(2597),l=e(4664),u=Object.getOwnPropertyDescriptor;O.f=r?u:function(g,f){if(g=i(g),f=o(f),l)try{return u(g,f)}catch{}if(t(g,f))return s(!n(a.f,g,f),g[f])}},1156:function(h,O,e){var r=e(4326),n=e(5656),a=e(8006).f,s=e(1589),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(o){return i&&r(o)=="Window"?function(t){try{return a(t)}catch{return s(i)}}(o):a(n(o))}},8006:function(h,O,e){var r=e(6324),n=e(748).concat("length","prototype");O.f=Object.getOwnPropertyNames||function(a){return r(a,n)}},5181:function(h,O){O.f=Object.getOwnPropertySymbols},9518:function(h,O,e){var r=e(2597),n=e(614),a=e(7908),s=e(6200),i=e(8544),o=s("IE_PROTO"),t=Object,l=t.prototype;h.exports=i?t.getPrototypeOf:function(u){var g=a(u);if(r(g,o))return g[o];var f=g.constructor;return n(f)&&g instanceof f?f.prototype:g instanceof t?l:null}},2050:function(h,O,e){var r=e(7293),n=e(111),a=e(4326),s=e(7556),i=Object.isExtensible,o=r(function(){});h.exports=o||s?function(t){return!!n(t)&&(!s||a(t)!="ArrayBuffer")&&(!i||i(t))}:i},7976:function(h,O,e){var r=e(1702);h.exports=r({}.isPrototypeOf)},6324:function(h,O,e){var r=e(1702),n=e(2597),a=e(5656),s=e(1318).indexOf,i=e(3501),o=r([].push);h.exports=function(t,l){var u,g=a(t),f=0,d=[];for(u in g)!n(i,u)&&n(g,u)&&o(d,u);for(;l.length>f;)n(g,u=l[f++])&&(~s(d,u)||o(d,u));return d}},1956:function(h,O,e){var r=e(6324),n=e(748);h.exports=Object.keys||function(a){return r(a,n)}},5296:function(h,O){var e={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!e.call({1:2},1);O.f=n?function(a){var s=r(this,a);return!!s&&s.enumerable}:e},7674:function(h,O,e){var r=e(5668),n=e(9670),a=e(6077);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,i=!1,o={};try{(s=r(Object.prototype,"__proto__","set"))(o,[]),i=o instanceof Array}catch{}return function(t,l){return n(t),a(l),i?s(t,l):t.__proto__=l,t}}():void 0)},4699:function(h,O,e){var r=e(9781),n=e(1702),a=e(1956),s=e(5656),i=n(e(5296).f),o=n([].push),t=function(l){return function(u){for(var g,f=s(u),d=a(f),p=d.length,m=0,T=[];p>m;)g=d[m++],r&&!i(f,g)||o(T,l?[g,f[g]]:f[g]);return T}};h.exports={entries:t(!0),values:t(!1)}},288:function(h,O,e){var r=e(1694),n=e(648);h.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},2140:function(h,O,e){var r=e(6916),n=e(614),a=e(111),s=TypeError;h.exports=function(i,o){var t,l;if(o==="string"&&n(t=i.toString)&&!a(l=r(t,i))||n(t=i.valueOf)&&!a(l=r(t,i))||o!=="string"&&n(t=i.toString)&&!a(l=r(t,i)))return l;throw s("Can't convert object to primitive value")}},3887:function(h,O,e){var r=e(5005),n=e(1702),a=e(8006),s=e(5181),i=e(9670),o=n([].concat);h.exports=r("Reflect","ownKeys")||function(t){var l=a.f(i(t)),u=s.f;return u?o(l,u(t)):l}},857:function(h,O,e){var r=e(7854);h.exports=r},2534:function(h){h.exports=function(O){try{return{error:!1,value:O()}}catch(e){return{error:!0,value:e}}}},3702:function(h,O,e){var r=e(7854),n=e(2492),a=e(614),s=e(4705),i=e(2788),o=e(5112),t=e(7871),l=e(3823),u=e(1913),g=e(7392),f=n&&n.prototype,d=o("species"),p=!1,m=a(r.PromiseRejectionEvent),T=s("Promise",function(){var c=i(n),I=c!==String(n);if(!I&&g===66||u&&(!f.catch||!f.finally))return!0;if(!g||g<51||!/native code/.test(c)){var v=new n(function(k){k(1)}),N=function(k){k(function(){},function(){})};if((v.constructor={})[d]=N,!(p=v.then(function(){})instanceof N))return!0}return!I&&(t||l)&&!m});h.exports={CONSTRUCTOR:T,REJECTION_EVENT:m,SUBCLASSING:p}},2492:function(h,O,e){var r=e(7854);h.exports=r.Promise},9478:function(h,O,e){var r=e(9670),n=e(111),a=e(8523);h.exports=function(s,i){if(r(s),n(i)&&i.constructor===s)return i;var o=a.f(s);return(0,o.resolve)(i),o.promise}},612:function(h,O,e){var r=e(2492),n=e(7072),a=e(3702).CONSTRUCTOR;h.exports=a||!n(function(s){r.all(s).then(void 0,function(){})})},8572:function(h){var O=function(){this.head=null,this.tail=null};O.prototype={add:function(e){var r={item:e,next:null},n=this.tail;n?n.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e)return(this.head=e.next)===null&&(this.tail=null),e.item}},h.exports=O},2261:function(h,O,e){var r,n,a=e(6916),s=e(1702),i=e(1340),o=e(7066),t=e(2999),l=e(2309),u=e(30),g=e(9909).get,f=e(9441),d=e(7168),p=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,T=m,c=s("".charAt),I=s("".indexOf),v=s("".replace),N=s("".slice),k=(n=/b*/g,a(m,r=/a/,"a"),a(m,n,"a"),r.lastIndex!==0||n.lastIndex!==0),A=t.BROKEN_CARET,R=/()??/.exec("")[1]!==void 0;(k||R||A||f||d)&&(T=function(y){var U,L,j,H,ee,F,K,Z=this,oe=g(Z),le=i(y),de=oe.raw;if(de)return de.lastIndex=Z.lastIndex,U=a(T,de,le),Z.lastIndex=de.lastIndex,U;var Ee=oe.groups,re=A&&Z.sticky,z=a(o,Z),ue=Z.source,Q=0,ne=le;if(re&&(z=v(z,"y",""),I(z,"g")===-1&&(z+="g"),ne=N(le,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&c(le,Z.lastIndex-1)!==`
`)&&(ue="(?: "+ue+")",ne=" "+ne,Q++),L=new RegExp("^(?:"+ue+")",z)),R&&(L=new RegExp("^"+ue+"$(?!\\s)",z)),k&&(j=Z.lastIndex),H=a(m,re?L:Z,ne),re?H?(H.input=N(H.input,Q),H[0]=N(H[0],Q),H.index=Z.lastIndex,Z.lastIndex+=H[0].length):Z.lastIndex=0:k&&H&&(Z.lastIndex=Z.global?H.index+H[0].length:j),R&&H&&H.length>1&&a(p,H[0],L,function(){for(ee=1;ee<arguments.length-2;ee++)arguments[ee]===void 0&&(H[ee]=void 0)}),H&&Ee)for(H.groups=F=u(null),ee=0;ee<Ee.length;ee++)F[(K=Ee[ee])[0]]=H[K[1]];return H}),h.exports=T},7066:function(h,O,e){var r=e(9670);h.exports=function(){var n=r(this),a="";return n.hasIndices&&(a+="d"),n.global&&(a+="g"),n.ignoreCase&&(a+="i"),n.multiline&&(a+="m"),n.dotAll&&(a+="s"),n.unicode&&(a+="u"),n.unicodeSets&&(a+="v"),n.sticky&&(a+="y"),a}},4706:function(h,O,e){var r=e(6916),n=e(2597),a=e(7976),s=e(7066),i=RegExp.prototype;h.exports=function(o){var t=o.flags;return t!==void 0||"flags"in i||n(o,"flags")||!a(i,o)?t:r(s,o)}},2999:function(h,O,e){var r=e(7293),n=e(7854).RegExp,a=r(function(){var o=n("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),s=a||r(function(){return!n("a","y").sticky}),i=a||r(function(){var o=n("^r","gy");return o.lastIndex=2,o.exec("str")!=null});h.exports={BROKEN_CARET:i,MISSED_STICKY:s,UNSUPPORTED_Y:a}},9441:function(h,O,e){var r=e(7293),n=e(7854).RegExp;h.exports=r(function(){var a=n(".","s");return!(a.dotAll&&a.exec(`
`)&&a.flags==="s")})},7168:function(h,O,e){var r=e(7293),n=e(7854).RegExp;h.exports=r(function(){var a=n("(?<a>b)","g");return a.exec("b").groups.a!=="b"||"b".replace(a,"$<a>c")!=="bc"})},4488:function(h,O,e){var r=e(8554),n=TypeError;h.exports=function(a){if(r(a))throw n("Can't call method on "+a);return a}},7152:function(h,O,e){var r,n=e(7854),a=e(2104),s=e(614),i=e(9363),o=e(8113),t=e(206),l=e(8053),u=n.Function,g=/MSIE .\./.test(o)||i&&((r=n.Bun.version.split(".")).length<3||r[0]==0&&(r[1]<3||r[1]==3&&r[2]==0));h.exports=function(f,d){var p=d?2:1;return g?function(m,T){var c=l(arguments.length,1)>p,I=s(m)?m:u(m),v=c?t(arguments,p):[],N=c?function(){a(I,this,v)}:I;return d?f(N,T):f(N)}:f}},6340:function(h,O,e){var r=e(5005),n=e(7045),a=e(5112),s=e(9781),i=a("species");h.exports=function(o){var t=r(o);s&&t&&!t[i]&&n(t,i,{configurable:!0,get:function(){return this}})}},8003:function(h,O,e){var r=e(3070).f,n=e(2597),a=e(5112)("toStringTag");h.exports=function(s,i,o){s&&!o&&(s=s.prototype),s&&!n(s,a)&&r(s,a,{configurable:!0,value:i})}},6200:function(h,O,e){var r=e(2309),n=e(9711),a=r("keys");h.exports=function(s){return a[s]||(a[s]=n(s))}},5465:function(h,O,e){var r=e(7854),n=e(3072),a="__core-js_shared__",s=r[a]||n(a,{});h.exports=s},2309:function(h,O,e){var r=e(1913),n=e(5465);(h.exports=function(a,s){return n[a]||(n[a]=s!==void 0?s:{})})("versions",[]).push({version:"3.29.1",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(h,O,e){var r=e(9670),n=e(9483),a=e(8554),s=e(5112)("species");h.exports=function(i,o){var t,l=r(i).constructor;return l===void 0||a(t=r(l)[s])?o:n(t)}},8710:function(h,O,e){var r=e(1702),n=e(9303),a=e(1340),s=e(4488),i=r("".charAt),o=r("".charCodeAt),t=r("".slice),l=function(u){return function(g,f){var d,p,m=a(s(g)),T=n(f),c=m.length;return T<0||T>=c?u?"":void 0:(d=o(m,T))<55296||d>56319||T+1===c||(p=o(m,T+1))<56320||p>57343?u?i(m,T):d:u?t(m,T,T+2):p-56320+(d-55296<<10)+65536}};h.exports={codeAt:l(!1),charAt:l(!0)}},3197:function(h,O,e){var r=e(1702),n=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=RangeError,t=r(s.exec),l=Math.floor,u=String.fromCharCode,g=r("".charCodeAt),f=r([].join),d=r([].push),p=r("".replace),m=r("".split),T=r("".toLowerCase),c=function(N){return N+22+75*(N<26)},I=function(N,k,A){var R=0;for(N=A?l(N/700):N>>1,N+=l(N/k);N>455;)N=l(N/35),R+=36;return l(R+36*N/(N+38))},v=function(N){var k=[];N=function(re){for(var z=[],ue=0,Q=re.length;ue<Q;){var ne=g(re,ue++);if(ne>=55296&&ne<=56319&&ue<Q){var fe=g(re,ue++);(64512&fe)==56320?d(z,((1023&ne)<<10)+(1023&fe)+65536):(d(z,ne),ue--)}else d(z,ne)}return z}(N);var A,R,y=N.length,U=128,L=0,j=72;for(A=0;A<N.length;A++)(R=N[A])<128&&d(k,u(R));var H=k.length,ee=H;for(H&&d(k,"-");ee<y;){var F=n;for(A=0;A<N.length;A++)(R=N[A])>=U&&R<F&&(F=R);var K=ee+1;if(F-U>l((n-L)/K))throw o(i);for(L+=(F-U)*K,U=F,A=0;A<N.length;A++){if((R=N[A])<U&&++L>n)throw o(i);if(R==U){for(var Z=L,oe=36;;){var le=oe<=j?1:oe>=j+26?26:oe-j;if(Z<le)break;var de=Z-le,Ee=36-le;d(k,u(c(le+de%Ee))),Z=l(de/Ee),oe+=36}d(k,u(c(Z))),j=I(L,K,ee==H),L=0,ee++}}L++,U++}return f(k,"")};h.exports=function(N){var k,A,R=[],y=m(p(T(N),s,"."),".");for(k=0;k<y.length;k++)A=y[k],d(R,t(a,A)?"xn--"+v(A):A);return f(R,".")}},3111:function(h,O,e){var r=e(1702),n=e(4488),a=e(1340),s=e(1361),i=r("".replace),o=RegExp("^["+s+"]+"),t=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(u){return function(g){var f=a(n(g));return 1&u&&(f=i(f,o,"")),2&u&&(f=i(f,t,"$1")),f}};h.exports={start:l(1),end:l(2),trim:l(3)}},6293:function(h,O,e){var r=e(7392),n=e(7293);h.exports=!!Object.getOwnPropertySymbols&&!n(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&r&&r<41})},6532:function(h,O,e){var r=e(6916),n=e(5005),a=e(5112),s=e(8052);h.exports=function(){var i=n("Symbol"),o=i&&i.prototype,t=o&&o.valueOf,l=a("toPrimitive");o&&!o[l]&&s(o,l,function(u){return r(t,this)},{arity:1})}},2015:function(h,O,e){var r=e(6293);h.exports=r&&!!Symbol.for&&!!Symbol.keyFor},261:function(h,O,e){var r,n,a,s,i=e(7854),o=e(2104),t=e(9974),l=e(614),u=e(2597),g=e(7293),f=e(490),d=e(206),p=e(317),m=e(8053),T=e(6833),c=e(5268),I=i.setImmediate,v=i.clearImmediate,N=i.process,k=i.Dispatch,A=i.Function,R=i.MessageChannel,y=i.String,U=0,L={};g(function(){r=i.location});var j=function(K){if(u(L,K)){var Z=L[K];delete L[K],Z()}},H=function(K){return function(){j(K)}},ee=function(K){j(K.data)},F=function(K){i.postMessage(y(K),r.protocol+"//"+r.host)};I&&v||(I=function(K){m(arguments.length,1);var Z=l(K)?K:A(K),oe=d(arguments,1);return L[++U]=function(){o(Z,void 0,oe)},n(U),U},v=function(K){delete L[K]},c?n=function(K){N.nextTick(H(K))}:k&&k.now?n=function(K){k.now(H(K))}:R&&!T?(s=(a=new R).port2,a.port1.onmessage=ee,n=t(s.postMessage,s)):i.addEventListener&&l(i.postMessage)&&!i.importScripts&&r&&r.protocol!=="file:"&&!g(F)?(n=F,i.addEventListener("message",ee,!1)):n="onreadystatechange"in p("script")?function(K){f.appendChild(p("script")).onreadystatechange=function(){f.removeChild(this),j(K)}}:function(K){setTimeout(H(K),0)}),h.exports={set:I,clear:v}},863:function(h,O,e){var r=e(1702);h.exports=r(1 .valueOf)},1400:function(h,O,e){var r=e(9303),n=Math.max,a=Math.min;h.exports=function(s,i){var o=r(s);return o<0?n(o+i,0):a(o,i)}},4599:function(h,O,e){var r=e(7593),n=TypeError;h.exports=function(a){var s=r(a,"number");if(typeof s=="number")throw n("Can't convert number to bigint");return BigInt(s)}},7067:function(h,O,e){var r=e(9303),n=e(7466),a=RangeError;h.exports=function(s){if(s===void 0)return 0;var i=r(s),o=n(i);if(i!==o)throw a("Wrong length or index");return o}},5656:function(h,O,e){var r=e(8361),n=e(4488);h.exports=function(a){return r(n(a))}},9303:function(h,O,e){var r=e(4758);h.exports=function(n){var a=+n;return a!=a||a===0?0:r(a)}},7466:function(h,O,e){var r=e(9303),n=Math.min;h.exports=function(a){return a>0?n(r(a),9007199254740991):0}},7908:function(h,O,e){var r=e(4488),n=Object;h.exports=function(a){return n(r(a))}},4590:function(h,O,e){var r=e(3002),n=RangeError;h.exports=function(a,s){var i=r(a);if(i%s)throw n("Wrong offset");return i}},3002:function(h,O,e){var r=e(9303),n=RangeError;h.exports=function(a){var s=r(a);if(s<0)throw n("The argument can't be less than 0");return s}},7593:function(h,O,e){var r=e(6916),n=e(111),a=e(2190),s=e(8173),i=e(2140),o=e(5112),t=TypeError,l=o("toPrimitive");h.exports=function(u,g){if(!n(u)||a(u))return u;var f,d=s(u,l);if(d){if(g===void 0&&(g="default"),f=r(d,u,g),!n(f)||a(f))return f;throw t("Can't convert object to primitive value")}return g===void 0&&(g="number"),i(u,g)}},4948:function(h,O,e){var r=e(7593),n=e(2190);h.exports=function(a){var s=r(a,"string");return n(s)?s:s+""}},1694:function(h,O,e){var r={};r[e(5112)("toStringTag")]="z",h.exports=String(r)==="[object z]"},1340:function(h,O,e){var r=e(648),n=String;h.exports=function(a){if(r(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return n(a)}},6330:function(h){var O=String;h.exports=function(e){try{return O(e)}catch{return"Object"}}},9843:function(h,O,e){var r=e(2109),n=e(7854),a=e(6916),s=e(9781),i=e(3832),o=e(260),t=e(3331),l=e(5787),u=e(9114),g=e(8880),f=e(5988),d=e(7466),p=e(7067),m=e(4590),T=e(4948),c=e(2597),I=e(648),v=e(111),N=e(2190),k=e(30),A=e(7976),R=e(7674),y=e(8006).f,U=e(7321),L=e(2092).forEach,j=e(6340),H=e(7045),ee=e(3070),F=e(1236),K=e(9909),Z=e(9587),oe=K.get,le=K.set,de=K.enforce,Ee=ee.f,re=F.f,z=Math.round,ue=n.RangeError,Q=t.ArrayBuffer,ne=Q.prototype,fe=t.DataView,Y=o.NATIVE_ARRAY_BUFFER_VIEWS,Oe=o.TYPED_ARRAY_TAG,Ae=o.TypedArray,Be=o.TypedArrayPrototype,Ce=o.aTypedArrayConstructor,Ue=o.isTypedArray,ke="BYTES_PER_ELEMENT",je="Wrong length",Ge=function(Se,D){Ce(Se);for(var q=0,w=D.length,X=new Se(w);w>q;)X[q]=D[q++];return X},xe=function(Se,D){H(Se,D,{configurable:!0,get:function(){return oe(this)[D]}})},De=function(Se){var D;return A(ne,Se)||(D=I(Se))=="ArrayBuffer"||D=="SharedArrayBuffer"},ge=function(Se,D){return Ue(Se)&&!N(D)&&D in Se&&f(+D)&&D>=0},be=function(Se,D){return D=T(D),ge(Se,D)?u(2,Se[D]):re(Se,D)},Ie=function(Se,D,q){return D=T(D),!(ge(Se,D)&&v(q)&&c(q,"value"))||c(q,"get")||c(q,"set")||q.configurable||c(q,"writable")&&!q.writable||c(q,"enumerable")&&!q.enumerable?Ee(Se,D,q):(Se[D]=q.value,Se)};s?(Y||(F.f=be,ee.f=Ie,xe(Be,"buffer"),xe(Be,"byteOffset"),xe(Be,"byteLength"),xe(Be,"length")),r({target:"Object",stat:!0,forced:!Y},{getOwnPropertyDescriptor:be,defineProperty:Ie}),h.exports=function(Se,D,q){var w=Se.match(/\d+/)[0]/8,X=Se+(q?"Clamped":"")+"Array",E="get"+Se,b="set"+Se,x=n[X],C=x,P=C&&C.prototype,_={},S=function(M,G){Ee(M,G,{get:function(){return function(te,ce){var ye=oe(te);return ye.view[E](ce*w+ye.byteOffset,!0)}(this,G)},set:function(te){return function(ce,ye,B){var J=oe(ce);q&&(B=(B=z(B))<0?0:B>255?255:255&B),J.view[b](ye*w+J.byteOffset,B,!0)}(this,G,te)},enumerable:!0})};Y?i&&(C=D(function(M,G,te,ce){return l(M,P),Z(v(G)?De(G)?ce!==void 0?new x(G,m(te,w),ce):te!==void 0?new x(G,m(te,w)):new x(G):Ue(G)?Ge(C,G):a(U,C,G):new x(p(G)),M,C)}),R&&R(C,Ae),L(y(x),function(M){M in C||g(C,M,x[M])}),C.prototype=P):(C=D(function(M,G,te,ce){l(M,P);var ye,B,J,ae=0,ie=0;if(v(G)){if(!De(G))return Ue(G)?Ge(C,G):a(U,C,G);ye=G,ie=m(te,w);var Me=G.byteLength;if(ce===void 0){if(Me%w||(B=Me-ie)<0)throw ue(je)}else if((B=d(ce)*w)+ie>Me)throw ue(je);J=B/w}else J=p(G),ye=new Q(B=J*w);for(le(M,{buffer:ye,byteOffset:ie,byteLength:B,length:J,view:new fe(ye)});ae<J;)S(M,ae++)}),R&&R(C,Ae),P=C.prototype=k(Be)),P.constructor!==C&&g(P,"constructor",C),de(P).TypedArrayConstructor=C,Oe&&g(P,Oe,X);var W=C!=x;_[X]=C,r({global:!0,constructor:!0,forced:W,sham:!Y},_),ke in C||g(C,ke,w),ke in P||g(P,ke,w),j(X)}):h.exports=function(){}},3832:function(h,O,e){var r=e(7854),n=e(7293),a=e(7072),s=e(260).NATIVE_ARRAY_BUFFER_VIEWS,i=r.ArrayBuffer,o=r.Int8Array;h.exports=!s||!n(function(){o(1)})||!n(function(){new o(-1)})||!a(function(t){new o,new o(null),new o(1.5),new o(t)},!0)||n(function(){return new o(new i(2),1,void 0).length!==1})},3074:function(h,O,e){var r=e(7745),n=e(6304);h.exports=function(a,s){return r(n(a),s)}},7321:function(h,O,e){var r=e(9974),n=e(6916),a=e(9483),s=e(7908),i=e(6244),o=e(4121),t=e(1246),l=e(7659),u=e(4067),g=e(260).aTypedArrayConstructor,f=e(4599);h.exports=function(d){var p,m,T,c,I,v,N,k,A=a(this),R=s(d),y=arguments.length,U=y>1?arguments[1]:void 0,L=U!==void 0,j=t(R);if(j&&!l(j))for(k=(N=o(R,j)).next,R=[];!(v=n(k,N)).done;)R.push(v.value);for(L&&y>2&&(U=r(U,arguments[2])),m=i(R),T=new(g(A))(m),c=u(T),p=0;m>p;p++)I=L?U(R[p],p):R[p],T[p]=c?f(I):+I;return T}},6304:function(h,O,e){var r=e(260),n=e(6707),a=r.aTypedArrayConstructor,s=r.getTypedArrayConstructor;h.exports=function(i){return a(n(i,s(i)))}},9711:function(h,O,e){var r=e(1702),n=0,a=Math.random(),s=r(1 .toString);h.exports=function(i){return"Symbol("+(i===void 0?"":i)+")_"+s(++n+a,36)}},5143:function(h,O,e){var r=e(7293),n=e(5112),a=e(9781),s=e(1913),i=n("iterator");h.exports=!r(function(){var o=new URL("b?a=1&b=2&c=3","http://a"),t=o.searchParams,l="";return o.pathname="c%20d",t.forEach(function(u,g){t.delete("b"),l+=g+u}),s&&!o.toJSON||!t.size&&(s||!a)||!t.sort||o.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||l!=="a1c3"||new URL("http://x",void 0).host!=="x"})},3307:function(h,O,e){var r=e(6293);h.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(h,O,e){var r=e(9781),n=e(7293);h.exports=r&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:function(h){var O=TypeError;h.exports=function(e,r){if(e<r)throw O("Not enough arguments");return e}},4811:function(h,O,e){var r=e(7854),n=e(614),a=r.WeakMap;h.exports=n(a)&&/native code/.test(String(a))},6800:function(h,O,e){var r=e(857),n=e(2597),a=e(6061),s=e(3070).f;h.exports=function(i){var o=r.Symbol||(r.Symbol={});n(o,i)||s(o,i,{value:a.f(i)})}},6061:function(h,O,e){var r=e(5112);O.f=r},5112:function(h,O,e){var r=e(7854),n=e(2309),a=e(2597),s=e(9711),i=e(6293),o=e(3307),t=r.Symbol,l=n("wks"),u=o?t.for||t:t&&t.withoutSetter||s;h.exports=function(g){return a(l,g)||(l[g]=i&&a(t,g)?t[g]:u("Symbol."+g)),l[g]}},1361:function(h){h.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8264:function(h,O,e){var r=e(2109),n=e(7854),a=e(3331),s=e(6340),i=a.ArrayBuffer;r({global:!0,constructor:!0,forced:n.ArrayBuffer!==i},{ArrayBuffer:i}),s("ArrayBuffer")},9575:function(h,O,e){var r=e(2109),n=e(1470),a=e(7293),s=e(3331),i=e(9670),o=e(1400),t=e(7466),l=e(6707),u=s.ArrayBuffer,g=s.DataView,f=g.prototype,d=n(u.prototype.slice),p=n(f.getUint8),m=n(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(T,c){if(d&&c===void 0)return d(i(this),T);for(var I=i(this).byteLength,v=o(T,I),N=o(c===void 0?I:c,I),k=new(l(this,u))(t(N-v)),A=new g(this),R=new g(k),y=0;v<N;)m(R,y++,p(A,v++));return k}})},2222:function(h,O,e){var r=e(2109),n=e(7293),a=e(3157),s=e(111),i=e(7908),o=e(6244),t=e(7207),l=e(6135),u=e(5417),g=e(1194),f=e(5112),d=e(7392),p=f("isConcatSpreadable"),m=d>=51||!n(function(){var c=[];return c[p]=!1,c.concat()[0]!==c}),T=function(c){if(!s(c))return!1;var I=c[p];return I!==void 0?!!I:a(c)};r({target:"Array",proto:!0,arity:1,forced:!m||!g("concat")},{concat:function(c){var I,v,N,k,A,R=i(this),y=u(R,0),U=0;for(I=-1,N=arguments.length;I<N;I++)if(T(A=I===-1?R:arguments[I]))for(k=o(A),t(U+k),v=0;v<k;v++,U++)v in A&&l(y,U,A[v]);else t(U+1),l(y,U++,A);return y.length=U,y}})},7327:function(h,O,e){var r=e(2109),n=e(2092).filter;r({target:"Array",proto:!0,forced:!e(1194)("filter")},{filter:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}})},9554:function(h,O,e){var r=e(2109),n=e(8533);r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},1038:function(h,O,e){var r=e(2109),n=e(8457);r({target:"Array",stat:!0,forced:!e(7072)(function(a){Array.from(a)})},{from:n})},6699:function(h,O,e){var r=e(2109),n=e(1318).includes,a=e(7293),s=e(1223);r({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)}}),s("includes")},2772:function(h,O,e){var r=e(2109),n=e(1470),a=e(1318).indexOf,s=e(9341),i=n([].indexOf),o=!!i&&1/i([1],1,-0)<0;r({target:"Array",proto:!0,forced:o||!s("indexOf")},{indexOf:function(t){var l=arguments.length>1?arguments[1]:void 0;return o?i(this,t,l)||0:a(this,t,l)}})},9753:function(h,O,e){e(2109)({target:"Array",stat:!0},{isArray:e(3157)})},6992:function(h,O,e){var r=e(5656),n=e(1223),a=e(7497),s=e(9909),i=e(3070).f,o=e(1656),t=e(6178),l=e(1913),u=e(9781),g="Array Iterator",f=s.set,d=s.getterFor(g);h.exports=o(Array,"Array",function(m,T){f(this,{type:g,target:r(m),index:0,kind:T})},function(){var m=d(this),T=m.target,c=m.kind,I=m.index++;return!T||I>=T.length?(m.target=void 0,t(void 0,!0)):t(c=="keys"?I:c=="values"?T[I]:[I,T[I]],!1)},"values");var p=a.Arguments=a.Array;if(n("keys"),n("values"),n("entries"),!l&&u&&p.name!=="values")try{i(p,"name",{value:"values"})}catch{}},9600:function(h,O,e){var r=e(2109),n=e(1702),a=e(8361),s=e(5656),i=e(9341),o=n([].join);r({target:"Array",proto:!0,forced:a!=Object||!i("join",",")},{join:function(t){return o(s(this),t===void 0?",":t)}})},4986:function(h,O,e){var r=e(2109),n=e(6583);r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},1249:function(h,O,e){var r=e(2109),n=e(2092).map;r({target:"Array",proto:!0,forced:!e(1194)("map")},{map:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}})},5827:function(h,O,e){var r=e(2109),n=e(3671).left,a=e(9341),s=e(7392);r({target:"Array",proto:!0,forced:!e(5268)&&s>79&&s<83||!a("reduce")},{reduce:function(i){var o=arguments.length;return n(this,i,o,o>1?arguments[1]:void 0)}})},5069:function(h,O,e){var r=e(2109),n=e(1702),a=e(3157),s=n([].reverse),i=[1,2];r({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),s(this)}})},7042:function(h,O,e){var r=e(2109),n=e(3157),a=e(4411),s=e(111),i=e(1400),o=e(6244),t=e(5656),l=e(6135),u=e(5112),g=e(1194),f=e(206),d=g("slice"),p=u("species"),m=Array,T=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(c,I){var v,N,k,A=t(this),R=o(A),y=i(c,R),U=i(I===void 0?R:I,R);if(n(A)&&(v=A.constructor,(a(v)&&(v===m||n(v.prototype))||s(v)&&(v=v[p])===null)&&(v=void 0),v===m||v===void 0))return f(A,y,U);for(N=new(v===void 0?m:v)(T(U-y,0)),k=0;y<U;y++,k++)y in A&&l(N,k,A[y]);return N.length=k,N}})},5212:function(h,O,e){var r=e(2109),n=e(2092).some;r({target:"Array",proto:!0,forced:!e(9341)("some")},{some:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}})},561:function(h,O,e){var r=e(2109),n=e(7908),a=e(1400),s=e(9303),i=e(6244),o=e(3658),t=e(7207),l=e(5417),u=e(6135),g=e(5117),f=e(1194)("splice"),d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(m,T){var c,I,v,N,k,A,R=n(this),y=i(R),U=a(m,y),L=arguments.length;for(L===0?c=I=0:L===1?(c=0,I=y-U):(c=L-2,I=p(d(s(T),0),y-U)),t(y+c-I),v=l(R,I),N=0;N<I;N++)(k=U+N)in R&&u(v,N,R[k]);if(v.length=I,c<I){for(N=U;N<y-I;N++)A=N+c,(k=N+I)in R?R[A]=R[k]:g(R,A);for(N=y;N>y-I+c;N--)g(R,N-1)}else if(c>I)for(N=y-I;N>U;N--)A=N+c-1,(k=N+I-1)in R?R[A]=R[k]:g(R,A);for(N=0;N<c;N++)R[N+U]=arguments[N+2];return o(R,y-I+c),v}})},3843:function(h,O,e){var r=e(2109),n=e(1702),a=Date,s=n(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return s(new a)}})},3710:function(h,O,e){var r=e(1702),n=e(8052),a=Date.prototype,s="Invalid Date",i=r(a.toString),o=r(a.getTime);String(new Date(NaN))!=s&&n(a,"toString",function(){var t=o(this);return t==t?i(this):s})},4812:function(h,O,e){var r=e(2109),n=e(7065);r({target:"Function",proto:!0,forced:Function.bind!==n},{bind:n})},8309:function(h,O,e){var r=e(9781),n=e(6530).EXISTS,a=e(1702),s=e(7045),i=Function.prototype,o=a(i.toString),t=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(t.exec);r&&!n&&s(i,"name",{configurable:!0,get:function(){try{return l(t,o(this))[1]}catch{return""}}})},8862:function(h,O,e){var r=e(2109),n=e(5005),a=e(2104),s=e(6916),i=e(1702),o=e(7293),t=e(614),l=e(2190),u=e(206),g=e(8044),f=e(6293),d=String,p=n("JSON","stringify"),m=i(/./.exec),T=i("".charAt),c=i("".charCodeAt),I=i("".replace),v=i(1 .toString),N=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,R=!f||o(function(){var j=n("Symbol")();return p([j])!="[null]"||p({a:j})!="{}"||p(Object(j))!="{}"}),y=o(function(){return p("\uDF06\uD834")!=='"\\udf06\\ud834"'||p("\uDEAD")!=='"\\udead"'}),U=function(j,H){var ee=u(arguments),F=g(H);if(t(F)||j!==void 0&&!l(j))return ee[1]=function(K,Z){if(t(F)&&(Z=s(F,this,d(K),Z)),!l(Z))return Z},a(p,null,ee)},L=function(j,H,ee){var F=T(ee,H-1),K=T(ee,H+1);return m(k,j)&&!m(A,K)||m(A,j)&&!m(k,F)?"\\u"+v(c(j,0),16):j};p&&r({target:"JSON",stat:!0,arity:3,forced:R||y},{stringify:function(j,H,ee){var F=u(arguments),K=a(R?U:p,null,F);return y&&typeof K=="string"?I(K,N,L):K}})},9098:function(h,O,e){e(7710)("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e(5631))},1532:function(h,O,e){e(9098)},9653:function(h,O,e){var r=e(2109),n=e(1913),a=e(9781),s=e(7854),i=e(857),o=e(1702),t=e(4705),l=e(2597),u=e(9587),g=e(7976),f=e(2190),d=e(7593),p=e(7293),m=e(8006).f,T=e(1236).f,c=e(3070).f,I=e(863),v=e(3111).trim,N=s.Number,k=i.Number,A=N.prototype,R=s.TypeError,y=o("".slice),U=o("".charCodeAt),L=function(Z){var oe=d(Z,"number");return typeof oe=="bigint"?oe:j(oe)},j=function(Z){var oe,le,de,Ee,re,z,ue,Q,ne=d(Z,"number");if(f(ne))throw R("Cannot convert a Symbol value to a number");if(typeof ne=="string"&&ne.length>2){if(ne=v(ne),(oe=U(ne,0))===43||oe===45){if((le=U(ne,2))===88||le===120)return NaN}else if(oe===48){switch(U(ne,1)){case 66:case 98:de=2,Ee=49;break;case 79:case 111:de=8,Ee=55;break;default:return+ne}for(z=(re=y(ne,2)).length,ue=0;ue<z;ue++)if((Q=U(re,ue))<48||Q>Ee)return NaN;return parseInt(re,de)}}return+ne},H=t("Number",!N(" 0o1")||!N("0b1")||N("+0x1")),ee=function(Z){return g(A,Z)&&p(function(){I(Z)})},F=function(Z){var oe=arguments.length<1?0:N(L(Z));return ee(this)?u(Object(oe),this,F):oe};F.prototype=A,H&&!n&&(A.constructor=F),r({global:!0,constructor:!0,wrap:!0,forced:H},{Number:F});var K=function(Z,oe){for(var le,de=a?m(oe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ee=0;de.length>Ee;Ee++)l(oe,le=de[Ee])&&!l(Z,le)&&c(Z,le,T(oe,le))};n&&k&&K(i.Number,k),(H||n)&&K(i.Number,N)},3161:function(h,O,e){e(2109)({target:"Number",stat:!0},{isInteger:e(5988)})},9601:function(h,O,e){var r=e(2109),n=e(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},9070:function(h,O,e){var r=e(2109),n=e(9781),a=e(3070).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!n},{defineProperty:a})},9720:function(h,O,e){var r=e(2109),n=e(4699).entries;r({target:"Object",stat:!0},{entries:function(a){return n(a)}})},9660:function(h,O,e){var r=e(2109),n=e(6293),a=e(7293),s=e(5181),i=e(7908);r({target:"Object",stat:!0,forced:!n||a(function(){s.f(1)})},{getOwnPropertySymbols:function(o){var t=s.f;return t?t(i(o)):[]}})},7941:function(h,O,e){var r=e(2109),n=e(7908),a=e(1956);r({target:"Object",stat:!0,forced:e(7293)(function(){a(1)})},{keys:function(s){return a(n(s))}})},1539:function(h,O,e){var r=e(1694),n=e(8052),a=e(288);r||n(Object.prototype,"toString",a,{unsafe:!0})},821:function(h,O,e){var r=e(2109),n=e(6916),a=e(9662),s=e(8523),i=e(2534),o=e(408);r({target:"Promise",stat:!0,forced:e(612)},{all:function(t){var l=this,u=s.f(l),g=u.resolve,f=u.reject,d=i(function(){var p=a(l.resolve),m=[],T=0,c=1;o(t,function(I){var v=T++,N=!1;c++,n(p,l,I).then(function(k){N||(N=!0,m[v]=k,--c||g(m))},f)}),--c||g(m)});return d.error&&f(d.value),u.promise}})},4164:function(h,O,e){var r=e(2109),n=e(1913),a=e(3702).CONSTRUCTOR,s=e(2492),i=e(5005),o=e(614),t=e(8052),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(g){return this.then(void 0,g)}}),!n&&o(s)){var u=i("Promise").prototype.catch;l.catch!==u&&t(l,"catch",u,{unsafe:!0})}},3401:function(h,O,e){var r,n,a,s=e(2109),i=e(1913),o=e(5268),t=e(7854),l=e(6916),u=e(8052),g=e(7674),f=e(8003),d=e(6340),p=e(9662),m=e(614),T=e(111),c=e(5787),I=e(6707),v=e(261).set,N=e(5948),k=e(842),A=e(2534),R=e(8572),y=e(9909),U=e(2492),L=e(3702),j=e(8523),H="Promise",ee=L.CONSTRUCTOR,F=L.REJECTION_EVENT,K=L.SUBCLASSING,Z=y.getterFor(H),oe=y.set,le=U&&U.prototype,de=U,Ee=le,re=t.TypeError,z=t.document,ue=t.process,Q=j.f,ne=Q,fe=!!(z&&z.createEvent&&t.dispatchEvent),Y="unhandledrejection",Oe=function(ge){var be;return!(!T(ge)||!m(be=ge.then))&&be},Ae=function(ge,be){var Ie,Se,D,q=be.value,w=be.state==1,X=w?ge.ok:ge.fail,E=ge.resolve,b=ge.reject,x=ge.domain;try{X?(w||(be.rejection===2&&je(be),be.rejection=1),X===!0?Ie=q:(x&&x.enter(),Ie=X(q),x&&(x.exit(),D=!0)),Ie===ge.promise?b(re("Promise-chain cycle")):(Se=Oe(Ie))?l(Se,Ie,E,b):E(Ie)):b(q)}catch(C){x&&!D&&x.exit(),b(C)}},Be=function(ge,be){ge.notified||(ge.notified=!0,N(function(){for(var Ie,Se=ge.reactions;Ie=Se.get();)Ae(Ie,ge);ge.notified=!1,be&&!ge.rejection&&Ue(ge)}))},Ce=function(ge,be,Ie){var Se,D;fe?((Se=z.createEvent("Event")).promise=be,Se.reason=Ie,Se.initEvent(ge,!1,!0),t.dispatchEvent(Se)):Se={promise:be,reason:Ie},!F&&(D=t["on"+ge])?D(Se):ge===Y&&k("Unhandled promise rejection",Ie)},Ue=function(ge){l(v,t,function(){var be,Ie=ge.facade,Se=ge.value;if(ke(ge)&&(be=A(function(){o?ue.emit("unhandledRejection",Se,Ie):Ce(Y,Ie,Se)}),ge.rejection=o||ke(ge)?2:1,be.error))throw be.value})},ke=function(ge){return ge.rejection!==1&&!ge.parent},je=function(ge){l(v,t,function(){var be=ge.facade;o?ue.emit("rejectionHandled",be):Ce("rejectionhandled",be,ge.value)})},Ge=function(ge,be,Ie){return function(Se){ge(be,Se,Ie)}},xe=function(ge,be,Ie){ge.done||(ge.done=!0,Ie&&(ge=Ie),ge.value=be,ge.state=2,Be(ge,!0))},De=function(ge,be,Ie){if(!ge.done){ge.done=!0,Ie&&(ge=Ie);try{if(ge.facade===be)throw re("Promise can't be resolved itself");var Se=Oe(be);Se?N(function(){var D={done:!1};try{l(Se,be,Ge(De,D,ge),Ge(xe,D,ge))}catch(q){xe(D,q,ge)}}):(ge.value=be,ge.state=1,Be(ge,!1))}catch(D){xe({done:!1},D,ge)}}};if(ee&&(Ee=(de=function(ge){c(this,Ee),p(ge),l(r,this);var be=Z(this);try{ge(Ge(De,be),Ge(xe,be))}catch(Ie){xe(be,Ie)}}).prototype,(r=function(ge){oe(this,{type:H,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:void 0})}).prototype=u(Ee,"then",function(ge,be){var Ie=Z(this),Se=Q(I(this,de));return Ie.parent=!0,Se.ok=!m(ge)||ge,Se.fail=m(be)&&be,Se.domain=o?ue.domain:void 0,Ie.state==0?Ie.reactions.add(Se):N(function(){Ae(Se,Ie)}),Se.promise}),n=function(){var ge=new r,be=Z(ge);this.promise=ge,this.resolve=Ge(De,be),this.reject=Ge(xe,be)},j.f=Q=function(ge){return ge===de||ge===void 0?new n(ge):ne(ge)},!i&&m(U)&&le!==Object.prototype)){a=le.then,K||u(le,"then",function(ge,be){var Ie=this;return new de(function(Se,D){l(a,Ie,Se,D)}).then(ge,be)},{unsafe:!0});try{delete le.constructor}catch{}g&&g(le,Ee)}s({global:!0,constructor:!0,wrap:!0,forced:ee},{Promise:de}),f(de,H,!1,!0),d(H)},8674:function(h,O,e){e(3401),e(821),e(4164),e(6027),e(683),e(6294)},6027:function(h,O,e){var r=e(2109),n=e(6916),a=e(9662),s=e(8523),i=e(2534),o=e(408);r({target:"Promise",stat:!0,forced:e(612)},{race:function(t){var l=this,u=s.f(l),g=u.reject,f=i(function(){var d=a(l.resolve);o(t,function(p){n(d,l,p).then(u.resolve,g)})});return f.error&&g(f.value),u.promise}})},683:function(h,O,e){var r=e(2109),n=e(6916),a=e(8523);r({target:"Promise",stat:!0,forced:e(3702).CONSTRUCTOR},{reject:function(s){var i=a.f(this);return n(i.reject,void 0,s),i.promise}})},6294:function(h,O,e){var r=e(2109),n=e(5005),a=e(1913),s=e(2492),i=e(3702).CONSTRUCTOR,o=e(9478),t=n("Promise"),l=a&&!i;r({target:"Promise",stat:!0,forced:a||i},{resolve:function(u){return o(l&&this===t?s:this,u)}})},4916:function(h,O,e){var r=e(2109),n=e(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},9714:function(h,O,e){var r=e(6530).PROPER,n=e(8052),a=e(9670),s=e(1340),i=e(7293),o=e(4706),t="toString",l=RegExp.prototype.toString,u=i(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),g=r&&l.name!=t;(u||g)&&n(RegExp.prototype,t,function(){var f=a(this);return"/"+s(f.source)+"/"+s(o(f))},{unsafe:!0})},2023:function(h,O,e){var r=e(2109),n=e(1702),a=e(3929),s=e(4488),i=e(1340),o=e(4964),t=n("".indexOf);r({target:"String",proto:!0,forced:!o("includes")},{includes:function(l){return!!~t(i(s(this)),i(a(l)),arguments.length>1?arguments[1]:void 0)}})},8783:function(h,O,e){var r=e(8710).charAt,n=e(1340),a=e(9909),s=e(1656),i=e(6178),o="String Iterator",t=a.set,l=a.getterFor(o);s(String,"String",function(u){t(this,{type:o,string:n(u),index:0})},function(){var u,g=l(this),f=g.string,d=g.index;return d>=f.length?i(void 0,!0):(u=r(f,d),g.index+=u.length,i(u,!1))})},4032:function(h,O,e){var r=e(2109),n=e(7854),a=e(6916),s=e(1702),i=e(1913),o=e(9781),t=e(6293),l=e(7293),u=e(2597),g=e(7976),f=e(9670),d=e(5656),p=e(4948),m=e(1340),T=e(9114),c=e(30),I=e(1956),v=e(8006),N=e(1156),k=e(5181),A=e(1236),R=e(3070),y=e(6048),U=e(5296),L=e(8052),j=e(7045),H=e(2309),ee=e(6200),F=e(3501),K=e(9711),Z=e(5112),oe=e(6061),le=e(6800),de=e(6532),Ee=e(8003),re=e(9909),z=e(2092).forEach,ue=ee("hidden"),Q="Symbol",ne=re.set,fe=re.getterFor(Q),Y=Object.prototype,Oe=n.Symbol,Ae=Oe&&Oe.prototype,Be=n.TypeError,Ce=n.QObject,Ue=A.f,ke=R.f,je=N.f,Ge=U.f,xe=s([].push),De=H("symbols"),ge=H("op-symbols"),be=H("wks"),Ie=!Ce||!Ce.prototype||!Ce.prototype.findChild,Se=o&&l(function(){return c(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!=7})?function(C,P,_){var S=Ue(Y,P);S&&delete Y[P],ke(C,P,_),S&&C!==Y&&ke(Y,P,S)}:ke,D=function(C,P){var _=De[C]=c(Ae);return ne(_,{type:Q,tag:C,description:P}),o||(_.description=P),_},q=function(C,P,_){C===Y&&q(ge,P,_),f(C);var S=p(P);return f(_),u(De,S)?(_.enumerable?(u(C,ue)&&C[ue][S]&&(C[ue][S]=!1),_=c(_,{enumerable:T(0,!1)})):(u(C,ue)||ke(C,ue,T(1,{})),C[ue][S]=!0),Se(C,S,_)):ke(C,S,_)},w=function(C,P){f(C);var _=d(P),S=I(_).concat(x(_));return z(S,function(W){o&&!a(X,_,W)||q(C,W,_[W])}),C},X=function(C){var P=p(C),_=a(Ge,this,P);return!(this===Y&&u(De,P)&&!u(ge,P))&&(!(_||!u(this,P)||!u(De,P)||u(this,ue)&&this[ue][P])||_)},E=function(C,P){var _=d(C),S=p(P);if(_!==Y||!u(De,S)||u(ge,S)){var W=Ue(_,S);return!W||!u(De,S)||u(_,ue)&&_[ue][S]||(W.enumerable=!0),W}},b=function(C){var P=je(d(C)),_=[];return z(P,function(S){u(De,S)||u(F,S)||xe(_,S)}),_},x=function(C){var P=C===Y,_=je(P?ge:d(C)),S=[];return z(_,function(W){!u(De,W)||P&&!u(Y,W)||xe(S,De[W])}),S};t||(Oe=function(){if(g(Ae,this))throw Be("Symbol is not a constructor");var C=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,P=K(C),_=function(S){this===Y&&a(_,ge,S),u(this,ue)&&u(this[ue],P)&&(this[ue][P]=!1),Se(this,P,T(1,S))};return o&&Ie&&Se(Y,P,{configurable:!0,set:_}),D(P,C)},L(Ae=Oe.prototype,"toString",function(){return fe(this).tag}),L(Oe,"withoutSetter",function(C){return D(K(C),C)}),U.f=X,R.f=q,y.f=w,A.f=E,v.f=N.f=b,k.f=x,oe.f=function(C){return D(Z(C),C)},o&&(j(Ae,"description",{configurable:!0,get:function(){return fe(this).description}}),i||L(Y,"propertyIsEnumerable",X,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!t,sham:!t},{Symbol:Oe}),z(I(be),function(C){le(C)}),r({target:Q,stat:!0,forced:!t},{useSetter:function(){Ie=!0},useSimple:function(){Ie=!1}}),r({target:"Object",stat:!0,forced:!t,sham:!o},{create:function(C,P){return P===void 0?c(C):w(c(C),P)},defineProperty:q,defineProperties:w,getOwnPropertyDescriptor:E}),r({target:"Object",stat:!0,forced:!t},{getOwnPropertyNames:b}),de(),Ee(Oe,Q),F[ue]=!0},1817:function(h,O,e){var r=e(2109),n=e(9781),a=e(7854),s=e(1702),i=e(2597),o=e(614),t=e(7976),l=e(1340),u=e(7045),g=e(9920),f=a.Symbol,d=f&&f.prototype;if(n&&o(f)&&(!("description"in d)||f().description!==void 0)){var p={},m=function(){var A=arguments.length<1||arguments[0]===void 0?void 0:l(arguments[0]),R=t(d,this)?new f(A):A===void 0?f():f(A);return A===""&&(p[R]=!0),R};g(m,f),m.prototype=d,d.constructor=m;var T=String(f("test"))=="Symbol(test)",c=s(d.valueOf),I=s(d.toString),v=/^Symbol\((.*)\)[^)]+$/,N=s("".replace),k=s("".slice);u(d,"description",{configurable:!0,get:function(){var A=c(this);if(i(p,A))return"";var R=I(A),y=T?k(R,7,-1):N(R,v,"$1");return y===""?void 0:y}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},763:function(h,O,e){var r=e(2109),n=e(5005),a=e(2597),s=e(1340),i=e(2309),o=e(2015),t=i("string-to-symbol-registry"),l=i("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!o},{for:function(u){var g=s(u);if(a(t,g))return t[g];var f=n("Symbol")(g);return t[g]=f,l[f]=g,f}})},2165:function(h,O,e){e(6800)("iterator")},2526:function(h,O,e){e(4032),e(763),e(6620),e(8862),e(9660)},6620:function(h,O,e){var r=e(2109),n=e(2597),a=e(2190),s=e(6330),i=e(2309),o=e(2015),t=i("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!o},{keyFor:function(l){if(!a(l))throw TypeError(s(l)+" is not a symbol");if(n(t,l))return t[l]}})},2990:function(h,O,e){var r=e(1702),n=e(260),a=r(e(1048)),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(i,o){return a(s(this),i,o,arguments.length>2?arguments[2]:void 0)})},8927:function(h,O,e){var r=e(260),n=e(2092).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},3105:function(h,O,e){var r=e(260),n=e(1285),a=e(4599),s=e(648),i=e(6916),o=e(1702),t=e(7293),l=r.aTypedArray,u=r.exportTypedArrayMethod,g=o("".slice);u("fill",function(f){var d=arguments.length;l(this);var p=g(s(this),0,3)==="Big"?a(f):+f;return i(n,this,p,d>1?arguments[1]:void 0,d>2?arguments[2]:void 0)},t(function(){var f=0;return new Int8Array(2).fill({valueOf:function(){return f++}}),f!==1}))},5035:function(h,O,e){var r=e(260),n=e(2092).filter,a=e(3074),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(i){var o=n(s(this),i,arguments.length>1?arguments[1]:void 0);return a(this,o)})},7174:function(h,O,e){var r=e(260),n=e(2092).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},4345:function(h,O,e){var r=e(260),n=e(2092).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},2846:function(h,O,e){var r=e(260),n=e(2092).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(s){n(a(this),s,arguments.length>1?arguments[1]:void 0)})},8145:function(h,O,e){var r=e(3832);(0,e(260).exportTypedArrayStaticMethod)("from",e(7321),r)},4731:function(h,O,e){var r=e(260),n=e(1318).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},7209:function(h,O,e){var r=e(260),n=e(1318).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},6319:function(h,O,e){var r=e(7854),n=e(7293),a=e(1702),s=e(260),i=e(6992),o=e(5112)("iterator"),t=r.Uint8Array,l=a(i.values),u=a(i.keys),g=a(i.entries),f=s.aTypedArray,d=s.exportTypedArrayMethod,p=t&&t.prototype,m=!n(function(){p[o].call([1])}),T=!!p&&p.values&&p[o]===p.values&&p.values.name==="values",c=function(){return l(f(this))};d("entries",function(){return g(f(this))},m),d("keys",function(){return u(f(this))},m),d("values",c,m||!T,{name:"values"}),d(o,c,m||!T,{name:"values"})},8867:function(h,O,e){var r=e(260),n=e(1702),a=r.aTypedArray,s=r.exportTypedArrayMethod,i=n([].join);s("join",function(o){return i(a(this),o)})},7789:function(h,O,e){var r=e(260),n=e(2104),a=e(6583),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(i){var o=arguments.length;return n(a,s(this),o>1?[i,arguments[1]]:[i])})},3739:function(h,O,e){var r=e(260),n=e(2092).map,a=e(6304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",function(i){return n(s(this),i,arguments.length>1?arguments[1]:void 0,function(o,t){return new(a(o))(t)})})},4483:function(h,O,e){var r=e(260),n=e(3671).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(s){var i=arguments.length;return n(a(this),s,i,i>1?arguments[1]:void 0)})},9368:function(h,O,e){var r=e(260),n=e(3671).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(s){var i=arguments.length;return n(a(this),s,i,i>1?arguments[1]:void 0)})},2056:function(h,O,e){var r=e(260),n=r.aTypedArray,a=r.exportTypedArrayMethod,s=Math.floor;a("reverse",function(){for(var i,o=this,t=n(o).length,l=s(t/2),u=0;u<l;)i=o[u],o[u++]=o[--t],o[t]=i;return o})},3462:function(h,O,e){var r=e(7854),n=e(6916),a=e(260),s=e(6244),i=e(4590),o=e(7908),t=e(7293),l=r.RangeError,u=r.Int8Array,g=u&&u.prototype,f=g&&g.set,d=a.aTypedArray,p=a.exportTypedArrayMethod,m=!t(function(){var c=new Uint8ClampedArray(2);return n(f,c,{length:1,0:3},1),c[1]!==3}),T=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&t(function(){var c=new u(2);return c.set(1),c.set("2",1),c[0]!==0||c[1]!==2});p("set",function(c){d(this);var I=i(arguments.length>1?arguments[1]:void 0,1),v=o(c);if(m)return n(f,this,v,I);var N=this.length,k=s(v),A=0;if(k+I>N)throw l("Wrong length");for(;A<k;)this[I+A]=v[A++]},!m||T)},678:function(h,O,e){var r=e(260),n=e(6304),a=e(7293),s=e(206),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",function(o,t){for(var l=s(i(this),o,t),u=n(this),g=0,f=l.length,d=new u(f);f>g;)d[g]=l[g++];return d},a(function(){new Int8Array(1).slice()}))},7462:function(h,O,e){var r=e(260),n=e(2092).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},3824:function(h,O,e){var r=e(7854),n=e(1470),a=e(7293),s=e(9662),i=e(4362),o=e(260),t=e(8886),l=e(256),u=e(7392),g=e(8008),f=o.aTypedArray,d=o.exportTypedArrayMethod,p=r.Uint16Array,m=p&&n(p.prototype.sort),T=!(!m||a(function(){m(new p(2),null)})&&a(function(){m(new p(2),{})})),c=!!m&&!a(function(){if(u)return u<74;if(t)return t<67;if(l)return!0;if(g)return g<602;var I,v,N=new p(516),k=Array(516);for(I=0;I<516;I++)v=I%4,N[I]=515-I,k[I]=I-2*v+3;for(m(N,function(A,R){return(A/4|0)-(R/4|0)}),I=0;I<516;I++)if(N[I]!==k[I])return!0});d("sort",function(I){return I!==void 0&&s(I),c?m(this,I):i(f(this),function(v){return function(N,k){return v!==void 0?+v(N,k)||0:k!=k?-1:N!=N?1:N===0&&k===0?1/N>0&&1/k<0?1:-1:N>k}}(I))},!c||T)},5021:function(h,O,e){var r=e(260),n=e(7466),a=e(1400),s=e(6304),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",function(o,t){var l=i(this),u=l.length,g=a(o,u);return new(s(l))(l.buffer,l.byteOffset+g*l.BYTES_PER_ELEMENT,n((t===void 0?u:a(t,u))-g))})},2974:function(h,O,e){var r=e(7854),n=e(2104),a=e(260),s=e(7293),i=e(206),o=r.Int8Array,t=a.aTypedArray,l=a.exportTypedArrayMethod,u=[].toLocaleString,g=!!o&&s(function(){u.call(new o(1))});l("toLocaleString",function(){return n(u,g?i(t(this)):t(this),i(arguments))},s(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!s(function(){o.prototype.toLocaleString.call([1,2])}))},5016:function(h,O,e){var r=e(260).exportTypedArrayMethod,n=e(7293),a=e(7854),s=e(1702),i=a.Uint8Array,o=i&&i.prototype||{},t=[].toString,l=s([].join);n(function(){t.call({})})&&(t=function(){return l(this)});var u=o.toString!=t;r("toString",t,u)},2472:function(h,O,e){e(9843)("Uint8",function(r){return function(n,a,s){return r(this,n,a,s)}})},4747:function(h,O,e){var r=e(7854),n=e(8324),a=e(8509),s=e(8533),i=e(8880),o=function(l){if(l&&l.forEach!==s)try{i(l,"forEach",s)}catch{l.forEach=s}};for(var t in n)n[t]&&o(r[t]&&r[t].prototype);o(a)},3948:function(h,O,e){var r=e(7854),n=e(8324),a=e(8509),s=e(6992),i=e(8880),o=e(5112),t=o("iterator"),l=o("toStringTag"),u=s.values,g=function(d,p){if(d){if(d[t]!==u)try{i(d,t,u)}catch{d[t]=u}if(d[l]||i(d,l,p),n[p]){for(var m in s)if(d[m]!==s[m])try{i(d,m,s[m])}catch{d[m]=s[m]}}}};for(var f in n)g(r[f]&&r[f].prototype,f);g(a,"DOMTokenList")},6815:function(h,O,e){var r=e(2109),n=e(7854),a=e(7152)(n.setInterval,!0);r({global:!0,bind:!0,forced:n.setInterval!==a},{setInterval:a})},8417:function(h,O,e){var r=e(2109),n=e(7854),a=e(7152)(n.setTimeout,!0);r({global:!0,bind:!0,forced:n.setTimeout!==a},{setTimeout:a})},2564:function(h,O,e){e(6815),e(8417)},5556:function(h,O,e){e(6992);var r=e(2109),n=e(7854),a=e(6916),s=e(1702),i=e(9781),o=e(5143),t=e(8052),l=e(7045),u=e(9190),g=e(8003),f=e(3061),d=e(9909),p=e(5787),m=e(614),T=e(2597),c=e(9974),I=e(648),v=e(9670),N=e(111),k=e(1340),A=e(30),R=e(9114),y=e(4121),U=e(1246),L=e(8053),j=e(5112),H=e(4362),ee=j("iterator"),F="URLSearchParams",K="URLSearchParamsIterator",Z=d.set,oe=d.getterFor(F),le=d.getterFor(K),de=Object.getOwnPropertyDescriptor,Ee=function(G){if(!i)return n[G];var te=de(n,G);return te&&te.value},re=Ee("fetch"),z=Ee("Request"),ue=Ee("Headers"),Q=z&&z.prototype,ne=ue&&ue.prototype,fe=n.RegExp,Y=n.TypeError,Oe=n.decodeURIComponent,Ae=n.encodeURIComponent,Be=s("".charAt),Ce=s([].join),Ue=s([].push),ke=s("".replace),je=s([].shift),Ge=s([].splice),xe=s("".split),De=s("".slice),ge=/\+/g,be=Array(4),Ie=function(G){return be[G-1]||(be[G-1]=fe("((?:%[\\da-f]{2}){"+G+"})","gi"))},Se=function(G){try{return Oe(G)}catch{return G}},D=function(G){var te=ke(G,ge," "),ce=4;try{return Oe(te)}catch{for(;ce;)te=ke(te,Ie(ce--),Se);return te}},q=/[!'()~]|%20/g,w={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},X=function(G){return w[G]},E=function(G){return ke(Ae(G),q,X)},b=f(function(G,te){Z(this,{type:K,iterator:y(oe(G).entries),kind:te})},"Iterator",function(){var G=le(this),te=G.kind,ce=G.iterator.next(),ye=ce.value;return ce.done||(ce.value=te==="keys"?ye.key:te==="values"?ye.value:[ye.key,ye.value]),ce},!0),x=function(G){this.entries=[],this.url=null,G!==void 0&&(N(G)?this.parseObject(G):this.parseQuery(typeof G=="string"?Be(G,0)==="?"?De(G,1):G:k(G)))};x.prototype={type:F,bindURL:function(G){this.url=G,this.update()},parseObject:function(G){var te,ce,ye,B,J,ae,ie,Me=U(G);if(Me)for(ce=(te=y(G,Me)).next;!(ye=a(ce,te)).done;){if(J=(B=y(v(ye.value))).next,(ae=a(J,B)).done||(ie=a(J,B)).done||!a(J,B).done)throw Y("Expected sequence with length 2");Ue(this.entries,{key:k(ae.value),value:k(ie.value)})}else for(var Ze in G)T(G,Ze)&&Ue(this.entries,{key:Ze,value:k(G[Ze])})},parseQuery:function(G){if(G)for(var te,ce,ye=xe(G,"&"),B=0;B<ye.length;)(te=ye[B++]).length&&(ce=xe(te,"="),Ue(this.entries,{key:D(je(ce)),value:D(Ce(ce,"="))}))},serialize:function(){for(var G,te=this.entries,ce=[],ye=0;ye<te.length;)G=te[ye++],Ue(ce,E(G.key)+"="+E(G.value));return Ce(ce,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var C=function(){p(this,P);var G=arguments.length>0?arguments[0]:void 0,te=Z(this,new x(G));i||(this.length=te.entries.length)},P=C.prototype;if(u(P,{append:function(G,te){L(arguments.length,2);var ce=oe(this);Ue(ce.entries,{key:k(G),value:k(te)}),i||this.length++,ce.updateURL()},delete:function(G){L(arguments.length,1);for(var te=oe(this),ce=te.entries,ye=k(G),B=0;B<ce.length;)ce[B].key===ye?Ge(ce,B,1):B++;i||(this.length=ce.length),te.updateURL()},get:function(G){L(arguments.length,1);for(var te=oe(this).entries,ce=k(G),ye=0;ye<te.length;ye++)if(te[ye].key===ce)return te[ye].value;return null},getAll:function(G){L(arguments.length,1);for(var te=oe(this).entries,ce=k(G),ye=[],B=0;B<te.length;B++)te[B].key===ce&&Ue(ye,te[B].value);return ye},has:function(G){L(arguments.length,1);for(var te=oe(this).entries,ce=k(G),ye=0;ye<te.length;)if(te[ye++].key===ce)return!0;return!1},set:function(G,te){L(arguments.length,1);for(var ce,ye=oe(this),B=ye.entries,J=!1,ae=k(G),ie=k(te),Me=0;Me<B.length;Me++)(ce=B[Me]).key===ae&&(J?Ge(B,Me--,1):(J=!0,ce.value=ie));J||Ue(B,{key:ae,value:ie}),i||(this.length=B.length),ye.updateURL()},sort:function(){var G=oe(this);H(G.entries,function(te,ce){return te.key>ce.key?1:-1}),G.updateURL()},forEach:function(G){for(var te,ce=oe(this).entries,ye=c(G,arguments.length>1?arguments[1]:void 0),B=0;B<ce.length;)ye((te=ce[B++]).value,te.key,this)},keys:function(){return new b(this,"keys")},values:function(){return new b(this,"values")},entries:function(){return new b(this,"entries")}},{enumerable:!0}),t(P,ee,P.entries,{name:"entries"}),t(P,"toString",function(){return oe(this).serialize()},{enumerable:!0}),i&&l(P,"size",{get:function(){return oe(this).entries.length},configurable:!0,enumerable:!0}),g(C,F),r({global:!0,constructor:!0,forced:!o},{URLSearchParams:C}),!o&&m(ue)){var _=s(ne.has),S=s(ne.set),W=function(G){if(N(G)){var te,ce=G.body;if(I(ce)===F)return te=G.headers?new ue(G.headers):new ue,_(te,"content-type")||S(te,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(G,{body:R(0,k(ce)),headers:R(0,te)})}return G};if(m(re)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(G){return re(G,arguments.length>1?W(arguments[1]):{})}}),m(z)){var M=function(G){return p(this,Q),new z(G,arguments.length>1?W(arguments[1]):{})};Q.constructor=M,M.prototype=Q,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:M})}}h.exports={URLSearchParams:C,getState:oe}},1637:function(h,O,e){e(5556)},8789:function(h,O,e){e(8783);var r,n=e(2109),a=e(9781),s=e(5143),i=e(7854),o=e(9974),t=e(1702),l=e(8052),u=e(7045),g=e(5787),f=e(2597),d=e(1574),p=e(8457),m=e(1589),T=e(8710).codeAt,c=e(3197),I=e(1340),v=e(8003),N=e(8053),k=e(5556),A=e(9909),R=A.set,y=A.getterFor("URL"),U=k.URLSearchParams,L=k.getState,j=i.URL,H=i.TypeError,ee=i.parseInt,F=Math.floor,K=Math.pow,Z=t("".charAt),oe=t(/./.exec),le=t([].join),de=t(1 .toString),Ee=t([].pop),re=t([].push),z=t("".replace),ue=t([].shift),Q=t("".split),ne=t("".slice),fe=t("".toLowerCase),Y=t([].unshift),Oe="Invalid scheme",Ae="Invalid host",Be="Invalid port",Ce=/[a-z]/i,Ue=/[\d+-.a-z]/i,ke=/\d/,je=/^0x/i,Ge=/^[0-7]+$/,xe=/^\d+$/,De=/^[\da-f]+$/i,ge=/[\0\t\n\r #%/:<>?@[\\\]^|]/,be=/[\0\t\n\r #/:<>?@[\\\]^|]/,Ie=/^[\u0000-\u0020]+/,Se=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,D=/[\t\n\r]/g,q=function(se){var _e,ve,Je,me;if(typeof se=="number"){for(_e=[],ve=0;ve<4;ve++)Y(_e,se%256),se=F(se/256);return le(_e,".")}if(typeof se=="object"){for(_e="",Je=function(et){for(var Qe=null,$e=1,he=null,Ne=0,nt=0;nt<8;nt++)et[nt]!==0?(Ne>$e&&(Qe=he,$e=Ne),he=null,Ne=0):(he===null&&(he=nt),++Ne);return Ne>$e&&(Qe=he,$e=Ne),Qe}(se),ve=0;ve<8;ve++)me&&se[ve]===0||(me&&(me=!1),Je===ve?(_e+=ve?":":"::",me=!0):(_e+=de(se[ve],16),ve<7&&(_e+=":")));return"["+_e+"]"}return se},w={},X=d({},w,{" ":1,'"':1,"<":1,">":1,"`":1}),E=d({},X,{"#":1,"?":1,"{":1,"}":1}),b=d({},E,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),x=function(se,_e){var ve=T(se,0);return ve>32&&ve<127&&!f(_e,se)?se:encodeURIComponent(se)},C={ftp:21,file:null,http:80,https:443,ws:80,wss:443},P=function(se,_e){var ve;return se.length==2&&oe(Ce,Z(se,0))&&((ve=Z(se,1))==":"||!_e&&ve=="|")},_=function(se){var _e;return se.length>1&&P(ne(se,0,2))&&(se.length==2||(_e=Z(se,2))==="/"||_e==="\\"||_e==="?"||_e==="#")},S=function(se){return se==="."||fe(se)==="%2e"},W={},M={},G={},te={},ce={},ye={},B={},J={},ae={},ie={},Me={},Ze={},Re={},Ke={},pe={},Xe={},qe={},ze={},it={},at={},V={},Pe=function(se,_e,ve){var Je,me,et,Qe=I(se);if(_e){if(me=this.parse(Qe))throw H(me);this.searchParams=null}else{if(ve!==void 0&&(Je=new Pe(ve,!0)),me=this.parse(Qe,null,Je))throw H(me);(et=L(new U)).bindURL(this),this.searchParams=et}};Pe.prototype={type:"URL",parse:function(se,_e,ve){var Je,me,et,Qe,$e,he=this,Ne=_e||W,nt=0,We="",Ve=!1,Ye=!1,rt=!1;for(se=I(se),_e||(he.scheme="",he.username="",he.password="",he.host=null,he.port=null,he.path=[],he.query=null,he.fragment=null,he.cannotBeABaseURL=!1,se=z(se,Ie,""),se=z(se,Se,"$1")),se=z(se,D,""),Je=p(se);nt<=Je.length;){switch(me=Je[nt],Ne){case W:if(!me||!oe(Ce,me)){if(_e)return Oe;Ne=G;continue}We+=fe(me),Ne=M;break;case M:if(me&&(oe(Ue,me)||me=="+"||me=="-"||me=="."))We+=fe(me);else{if(me!=":"){if(_e)return Oe;We="",Ne=G,nt=0;continue}if(_e&&(he.isSpecial()!=f(C,We)||We=="file"&&(he.includesCredentials()||he.port!==null)||he.scheme=="file"&&!he.host))return;if(he.scheme=We,_e)return void(he.isSpecial()&&C[he.scheme]==he.port&&(he.port=null));We="",he.scheme=="file"?Ne=Ke:he.isSpecial()&&ve&&ve.scheme==he.scheme?Ne=te:he.isSpecial()?Ne=J:Je[nt+1]=="/"?(Ne=ce,nt++):(he.cannotBeABaseURL=!0,re(he.path,""),Ne=it)}break;case G:if(!ve||ve.cannotBeABaseURL&&me!="#")return Oe;if(ve.cannotBeABaseURL&&me=="#"){he.scheme=ve.scheme,he.path=m(ve.path),he.query=ve.query,he.fragment="",he.cannotBeABaseURL=!0,Ne=V;break}Ne=ve.scheme=="file"?Ke:ye;continue;case te:if(me!="/"||Je[nt+1]!="/"){Ne=ye;continue}Ne=ae,nt++;break;case ce:if(me=="/"){Ne=ie;break}Ne=ze;continue;case ye:if(he.scheme=ve.scheme,me==r)he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.query=ve.query;else if(me=="/"||me=="\\"&&he.isSpecial())Ne=B;else if(me=="?")he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.query="",Ne=at;else{if(me!="#"){he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.path.length--,Ne=ze;continue}he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.query=ve.query,he.fragment="",Ne=V}break;case B:if(!he.isSpecial()||me!="/"&&me!="\\"){if(me!="/"){he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,Ne=ze;continue}Ne=ie}else Ne=ae;break;case J:if(Ne=ae,me!="/"||Z(We,nt+1)!="/")continue;nt++;break;case ae:if(me!="/"&&me!="\\"){Ne=ie;continue}break;case ie:if(me=="@"){Ve&&(We="%40"+We),Ve=!0,et=p(We);for(var ot=0;ot<et.length;ot++){var st=et[ot];if(st!=":"||rt){var lt=x(st,b);rt?he.password+=lt:he.username+=lt}else rt=!0}We=""}else if(me==r||me=="/"||me=="?"||me=="#"||me=="\\"&&he.isSpecial()){if(Ve&&We=="")return"Invalid authority";nt-=p(We).length+1,We="",Ne=Me}else We+=me;break;case Me:case Ze:if(_e&&he.scheme=="file"){Ne=Xe;continue}if(me!=":"||Ye){if(me==r||me=="/"||me=="?"||me=="#"||me=="\\"&&he.isSpecial()){if(he.isSpecial()&&We=="")return Ae;if(_e&&We==""&&(he.includesCredentials()||he.port!==null))return;if(Qe=he.parseHost(We))return Qe;if(We="",Ne=qe,_e)return;continue}me=="["?Ye=!0:me=="]"&&(Ye=!1),We+=me}else{if(We=="")return Ae;if(Qe=he.parseHost(We))return Qe;if(We="",Ne=Re,_e==Ze)return}break;case Re:if(!oe(ke,me)){if(me==r||me=="/"||me=="?"||me=="#"||me=="\\"&&he.isSpecial()||_e){if(We!=""){var ut=ee(We,10);if(ut>65535)return Be;he.port=he.isSpecial()&&ut===C[he.scheme]?null:ut,We=""}if(_e)return;Ne=qe;continue}return Be}We+=me;break;case Ke:if(he.scheme="file",me=="/"||me=="\\")Ne=pe;else{if(!ve||ve.scheme!="file"){Ne=ze;continue}if(me==r)he.host=ve.host,he.path=m(ve.path),he.query=ve.query;else if(me=="?")he.host=ve.host,he.path=m(ve.path),he.query="",Ne=at;else{if(me!="#"){_(le(m(Je,nt),""))||(he.host=ve.host,he.path=m(ve.path),he.shortenPath()),Ne=ze;continue}he.host=ve.host,he.path=m(ve.path),he.query=ve.query,he.fragment="",Ne=V}}break;case pe:if(me=="/"||me=="\\"){Ne=Xe;break}ve&&ve.scheme=="file"&&!_(le(m(Je,nt),""))&&(P(ve.path[0],!0)?re(he.path,ve.path[0]):he.host=ve.host),Ne=ze;continue;case Xe:if(me==r||me=="/"||me=="\\"||me=="?"||me=="#"){if(!_e&&P(We))Ne=ze;else if(We==""){if(he.host="",_e)return;Ne=qe}else{if(Qe=he.parseHost(We))return Qe;if(he.host=="localhost"&&(he.host=""),_e)return;We="",Ne=qe}continue}We+=me;break;case qe:if(he.isSpecial()){if(Ne=ze,me!="/"&&me!="\\")continue}else if(_e||me!="?")if(_e||me!="#"){if(me!=r&&(Ne=ze,me!="/"))continue}else he.fragment="",Ne=V;else he.query="",Ne=at;break;case ze:if(me==r||me=="/"||me=="\\"&&he.isSpecial()||!_e&&(me=="?"||me=="#")){if(($e=fe($e=We))===".."||$e==="%2e."||$e===".%2e"||$e==="%2e%2e"?(he.shortenPath(),me=="/"||me=="\\"&&he.isSpecial()||re(he.path,"")):S(We)?me=="/"||me=="\\"&&he.isSpecial()||re(he.path,""):(he.scheme=="file"&&!he.path.length&&P(We)&&(he.host&&(he.host=""),We=Z(We,0)+":"),re(he.path,We)),We="",he.scheme=="file"&&(me==r||me=="?"||me=="#"))for(;he.path.length>1&&he.path[0]==="";)ue(he.path);me=="?"?(he.query="",Ne=at):me=="#"&&(he.fragment="",Ne=V)}else We+=x(me,E);break;case it:me=="?"?(he.query="",Ne=at):me=="#"?(he.fragment="",Ne=V):me!=r&&(he.path[0]+=x(me,w));break;case at:_e||me!="#"?me!=r&&(me=="'"&&he.isSpecial()?he.query+="%27":he.query+=me=="#"?"%23":x(me,w)):(he.fragment="",Ne=V);break;case V:me!=r&&(he.fragment+=x(me,X))}nt++}},parseHost:function(se){var _e,ve,Je;if(Z(se,0)=="["){if(Z(se,se.length-1)!="]"||(_e=function(me){var et,Qe,$e,he,Ne,nt,We,Ve=[0,0,0,0,0,0,0,0],Ye=0,rt=null,ot=0,st=function(){return Z(me,ot)};if(st()==":"){if(Z(me,1)!=":")return;ot+=2,rt=++Ye}for(;st();){if(Ye==8)return;if(st()!=":"){for(et=Qe=0;Qe<4&&oe(De,st());)et=16*et+ee(st(),16),ot++,Qe++;if(st()=="."){if(Qe==0||(ot-=Qe,Ye>6))return;for($e=0;st();){if(he=null,$e>0){if(!(st()=="."&&$e<4))return;ot++}if(!oe(ke,st()))return;for(;oe(ke,st());){if(Ne=ee(st(),10),he===null)he=Ne;else{if(he==0)return;he=10*he+Ne}if(he>255)return;ot++}Ve[Ye]=256*Ve[Ye]+he,++$e!=2&&$e!=4||Ye++}if($e!=4)return;break}if(st()==":"){if(ot++,!st())return}else if(st())return;Ve[Ye++]=et}else{if(rt!==null)return;ot++,rt=++Ye}}if(rt!==null)for(nt=Ye-rt,Ye=7;Ye!=0&&nt>0;)We=Ve[Ye],Ve[Ye--]=Ve[rt+nt-1],Ve[rt+--nt]=We;else if(Ye!=8)return;return Ve}(ne(se,1,-1)),!_e))return Ae;this.host=_e}else if(this.isSpecial()){if(se=c(se),oe(ge,se)||(_e=function(me){var et,Qe,$e,he,Ne,nt,We,Ve=Q(me,".");if(Ve.length&&Ve[Ve.length-1]==""&&Ve.length--,(et=Ve.length)>4)return me;for(Qe=[],$e=0;$e<et;$e++){if((he=Ve[$e])=="")return me;if(Ne=10,he.length>1&&Z(he,0)=="0"&&(Ne=oe(je,he)?16:8,he=ne(he,Ne==8?1:2)),he==="")nt=0;else{if(!oe(Ne==10?xe:Ne==8?Ge:De,he))return me;nt=ee(he,Ne)}re(Qe,nt)}for($e=0;$e<et;$e++)if(nt=Qe[$e],$e==et-1){if(nt>=K(256,5-et))return null}else if(nt>255)return null;for(We=Ee(Qe),$e=0;$e<Qe.length;$e++)We+=Qe[$e]*K(256,3-$e);return We}(se),_e===null))return Ae;this.host=_e}else{if(oe(be,se))return Ae;for(_e="",ve=p(se),Je=0;Je<ve.length;Je++)_e+=x(ve[Je],w);this.host=_e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return f(C,this.scheme)},shortenPath:function(){var se=this.path,_e=se.length;!_e||this.scheme=="file"&&_e==1&&P(se[0],!0)||se.length--},serialize:function(){var se=this,_e=se.scheme,ve=se.username,Je=se.password,me=se.host,et=se.port,Qe=se.path,$e=se.query,he=se.fragment,Ne=_e+":";return me!==null?(Ne+="//",se.includesCredentials()&&(Ne+=ve+(Je?":"+Je:"")+"@"),Ne+=q(me),et!==null&&(Ne+=":"+et)):_e=="file"&&(Ne+="//"),Ne+=se.cannotBeABaseURL?Qe[0]:Qe.length?"/"+le(Qe,"/"):"",$e!==null&&(Ne+="?"+$e),he!==null&&(Ne+="#"+he),Ne},setHref:function(se){var _e=this.parse(se);if(_e)throw H(_e);this.searchParams.update()},getOrigin:function(){var se=this.scheme,_e=this.port;if(se=="blob")try{return new Te(se.path[0]).origin}catch{return"null"}return se!="file"&&this.isSpecial()?se+"://"+q(this.host)+(_e!==null?":"+_e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(se){this.parse(I(se)+":",W)},getUsername:function(){return this.username},setUsername:function(se){var _e=p(I(se));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var ve=0;ve<_e.length;ve++)this.username+=x(_e[ve],b)}},getPassword:function(){return this.password},setPassword:function(se){var _e=p(I(se));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var ve=0;ve<_e.length;ve++)this.password+=x(_e[ve],b)}},getHost:function(){var se=this.host,_e=this.port;return se===null?"":_e===null?q(se):q(se)+":"+_e},setHost:function(se){this.cannotBeABaseURL||this.parse(se,Me)},getHostname:function(){var se=this.host;return se===null?"":q(se)},setHostname:function(se){this.cannotBeABaseURL||this.parse(se,Ze)},getPort:function(){var se=this.port;return se===null?"":I(se)},setPort:function(se){this.cannotHaveUsernamePasswordPort()||((se=I(se))==""?this.port=null:this.parse(se,Re))},getPathname:function(){var se=this.path;return this.cannotBeABaseURL?se[0]:se.length?"/"+le(se,"/"):""},setPathname:function(se){this.cannotBeABaseURL||(this.path=[],this.parse(se,qe))},getSearch:function(){var se=this.query;return se?"?"+se:""},setSearch:function(se){(se=I(se))==""?this.query=null:(Z(se,0)=="?"&&(se=ne(se,1)),this.query="",this.parse(se,at)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var se=this.fragment;return se?"#"+se:""},setHash:function(se){(se=I(se))!=""?(Z(se,0)=="#"&&(se=ne(se,1)),this.fragment="",this.parse(se,V)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Te=function(se){var _e=g(this,we),ve=N(arguments.length,1)>1?arguments[1]:void 0,Je=R(_e,new Pe(se,!1,ve));a||(_e.href=Je.serialize(),_e.origin=Je.getOrigin(),_e.protocol=Je.getProtocol(),_e.username=Je.getUsername(),_e.password=Je.getPassword(),_e.host=Je.getHost(),_e.hostname=Je.getHostname(),_e.port=Je.getPort(),_e.pathname=Je.getPathname(),_e.search=Je.getSearch(),_e.searchParams=Je.getSearchParams(),_e.hash=Je.getHash())},we=Te.prototype,Le=function(se,_e){return{get:function(){return y(this)[se]()},set:_e&&function(ve){return y(this)[_e](ve)},configurable:!0,enumerable:!0}};if(a&&(u(we,"href",Le("serialize","setHref")),u(we,"origin",Le("getOrigin")),u(we,"protocol",Le("getProtocol","setProtocol")),u(we,"username",Le("getUsername","setUsername")),u(we,"password",Le("getPassword","setPassword")),u(we,"host",Le("getHost","setHost")),u(we,"hostname",Le("getHostname","setHostname")),u(we,"port",Le("getPort","setPort")),u(we,"pathname",Le("getPathname","setPathname")),u(we,"search",Le("getSearch","setSearch")),u(we,"searchParams",Le("getSearchParams")),u(we,"hash",Le("getHash","setHash"))),l(we,"toJSON",function(){return y(this).serialize()},{enumerable:!0}),l(we,"toString",function(){return y(this).serialize()},{enumerable:!0}),j){var Fe=j.createObjectURL,He=j.revokeObjectURL;Fe&&l(Te,"createObjectURL",o(Fe,j)),He&&l(Te,"revokeObjectURL",o(He,j))}v(Te,"URL"),n({global:!0,constructor:!0,forced:!s,sham:!a},{URL:Te})},285:function(h,O,e){e(8789)},5717:function(h){typeof Object.create=="function"?h.exports=function(O,e){e&&(O.super_=e,O.prototype=Object.create(e.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}))}:h.exports=function(O,e){if(e){O.super_=e;var r=function(){};r.prototype=e.prototype,O.prototype=new r,O.prototype.constructor=O}}},3720:function(h){h.exports=e;var O=null;try{O=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(y,U,L){this.low=0|y,this.high=0|U,this.unsigned=!!L}function r(y){return(y&&y.__isLong__)===!0}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=r;var n={},a={};function s(y,U){var L,j,H;return U?(H=0<=(y>>>=0)&&y<256)&&(j=a[y])?j:(L=o(y,(0|y)<0?-1:0,!0),H&&(a[y]=L),L):(H=-128<=(y|=0)&&y<128)&&(j=n[y])?j:(L=o(y,y<0?-1:0,!1),H&&(n[y]=L),L)}function i(y,U){if(isNaN(y))return U?T:m;if(U){if(y<0)return T;if(y>=f)return k}else{if(y<=-d)return A;if(y+1>=d)return N}return y<0?i(-y,U).neg():o(y%g|0,y/g|0,U)}function o(y,U,L){return new e(y,U,L)}e.fromInt=s,e.fromNumber=i,e.fromBits=o;var t=Math.pow;function l(y,U,L){if(y.length===0)throw Error("empty string");if(y==="NaN"||y==="Infinity"||y==="+Infinity"||y==="-Infinity")return m;if(typeof U=="number"?(L=U,U=!1):U=!!U,(L=L||10)<2||36<L)throw RangeError("radix");var j;if((j=y.indexOf("-"))>0)throw Error("interior hyphen");if(j===0)return l(y.substring(1),U,L).neg();for(var H=i(t(L,8)),ee=m,F=0;F<y.length;F+=8){var K=Math.min(8,y.length-F),Z=parseInt(y.substring(F,F+K),L);if(K<8){var oe=i(t(L,K));ee=ee.mul(oe).add(i(Z))}else ee=(ee=ee.mul(H)).add(i(Z))}return ee.unsigned=U,ee}function u(y,U){return typeof y=="number"?i(y,U):typeof y=="string"?l(y,U):o(y.low,y.high,typeof U=="boolean"?U:y.unsigned)}e.fromString=l,e.fromValue=u;var g=4294967296,f=g*g,d=f/2,p=s(1<<24),m=s(0);e.ZERO=m;var T=s(0,!0);e.UZERO=T;var c=s(1);e.ONE=c;var I=s(1,!0);e.UONE=I;var v=s(-1);e.NEG_ONE=v;var N=o(-1,2147483647,!1);e.MAX_VALUE=N;var k=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=k;var A=o(0,-2147483648,!1);e.MIN_VALUE=A;var R=e.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},R.toString=function(y){if((y=y||10)<2||36<y)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(A)){var U=i(y),L=this.div(U),j=L.mul(U).sub(this);return L.toString(y)+j.toInt().toString(y)}return"-"+this.neg().toString(y)}for(var H=i(t(y,6),this.unsigned),ee=this,F="";;){var K=ee.div(H),Z=(ee.sub(K.mul(H)).toInt()>>>0).toString(y);if((ee=K).isZero())return Z+F;for(;Z.length<6;)Z="0"+Z;F=""+Z+F}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var y=this.high!=0?this.high:this.low,U=31;U>0&&!(y&1<<U);U--);return this.high!=0?U+33:U+1},R.isZero=function(){return this.high===0&&this.low===0},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return(1&this.low)==1},R.isEven=function(){return(1&this.low)==0},R.equals=function(y){return r(y)||(y=u(y)),(this.unsigned===y.unsigned||this.high>>>31!=1||y.high>>>31!=1)&&this.high===y.high&&this.low===y.low},R.eq=R.equals,R.notEquals=function(y){return!this.eq(y)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(y){return this.comp(y)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(y){return this.comp(y)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(y){return this.comp(y)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(y){return this.comp(y)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(y){if(r(y)||(y=u(y)),this.eq(y))return 0;var U=this.isNegative(),L=y.isNegative();return U&&!L?-1:!U&&L?1:this.unsigned?y.high>>>0>this.high>>>0||y.high===this.high&&y.low>>>0>this.low>>>0?-1:1:this.sub(y).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(c)},R.neg=R.negate,R.add=function(y){r(y)||(y=u(y));var U=this.high>>>16,L=65535&this.high,j=this.low>>>16,H=65535&this.low,ee=y.high>>>16,F=65535&y.high,K=y.low>>>16,Z=0,oe=0,le=0,de=0;return le+=(de+=H+(65535&y.low))>>>16,oe+=(le+=j+K)>>>16,Z+=(oe+=L+F)>>>16,Z+=U+ee,o((le&=65535)<<16|(de&=65535),(Z&=65535)<<16|(oe&=65535),this.unsigned)},R.subtract=function(y){return r(y)||(y=u(y)),this.add(y.neg())},R.sub=R.subtract,R.multiply=function(y){if(this.isZero())return m;if(r(y)||(y=u(y)),O)return o(O.mul(this.low,this.high,y.low,y.high),O.get_high(),this.unsigned);if(y.isZero())return m;if(this.eq(A))return y.isOdd()?A:m;if(y.eq(A))return this.isOdd()?A:m;if(this.isNegative())return y.isNegative()?this.neg().mul(y.neg()):this.neg().mul(y).neg();if(y.isNegative())return this.mul(y.neg()).neg();if(this.lt(p)&&y.lt(p))return i(this.toNumber()*y.toNumber(),this.unsigned);var U=this.high>>>16,L=65535&this.high,j=this.low>>>16,H=65535&this.low,ee=y.high>>>16,F=65535&y.high,K=y.low>>>16,Z=65535&y.low,oe=0,le=0,de=0,Ee=0;return de+=(Ee+=H*Z)>>>16,le+=(de+=j*Z)>>>16,de&=65535,le+=(de+=H*K)>>>16,oe+=(le+=L*Z)>>>16,le&=65535,oe+=(le+=j*K)>>>16,le&=65535,oe+=(le+=H*F)>>>16,oe+=U*Z+L*K+j*F+H*ee,o((de&=65535)<<16|(Ee&=65535),(oe&=65535)<<16|(le&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(y){if(r(y)||(y=u(y)),y.isZero())throw Error("division by zero");var U,L,j;if(O)return this.unsigned||this.high!==-2147483648||y.low!==-1||y.high!==-1?o((this.unsigned?O.div_u:O.div_s)(this.low,this.high,y.low,y.high),O.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?T:m;if(this.unsigned){if(y.unsigned||(y=y.toUnsigned()),y.gt(this))return T;if(y.gt(this.shru(1)))return I;j=T}else{if(this.eq(A))return y.eq(c)||y.eq(v)?A:y.eq(A)?c:(U=this.shr(1).div(y).shl(1)).eq(m)?y.isNegative()?c:v:(L=this.sub(y.mul(U)),j=U.add(L.div(y)));if(y.eq(A))return this.unsigned?T:m;if(this.isNegative())return y.isNegative()?this.neg().div(y.neg()):this.neg().div(y).neg();if(y.isNegative())return this.div(y.neg()).neg();j=m}for(L=this;L.gte(y);){U=Math.max(1,Math.floor(L.toNumber()/y.toNumber()));for(var H=Math.ceil(Math.log(U)/Math.LN2),ee=H<=48?1:t(2,H-48),F=i(U),K=F.mul(y);K.isNegative()||K.gt(L);)K=(F=i(U-=ee,this.unsigned)).mul(y);F.isZero()&&(F=c),j=j.add(F),L=L.sub(K)}return j},R.div=R.divide,R.modulo=function(y){return r(y)||(y=u(y)),O?o((this.unsigned?O.rem_u:O.rem_s)(this.low,this.high,y.low,y.high),O.get_high(),this.unsigned):this.sub(this.div(y).mul(y))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return o(~this.low,~this.high,this.unsigned)},R.and=function(y){return r(y)||(y=u(y)),o(this.low&y.low,this.high&y.high,this.unsigned)},R.or=function(y){return r(y)||(y=u(y)),o(this.low|y.low,this.high|y.high,this.unsigned)},R.xor=function(y){return r(y)||(y=u(y)),o(this.low^y.low,this.high^y.high,this.unsigned)},R.shiftLeft=function(y){return r(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?o(this.low<<y,this.high<<y|this.low>>>32-y,this.unsigned):o(0,this.low<<y-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(y){return r(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?o(this.low>>>y|this.high<<32-y,this.high>>y,this.unsigned):o(this.high>>y-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(y){if(r(y)&&(y=y.toInt()),(y&=63)==0)return this;var U=this.high;return y<32?o(this.low>>>y|U<<32-y,U>>>y,this.unsigned):o(y===32?U:U>>>y-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},R.toBytes=function(y){return y?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var y=this.high,U=this.low;return[255&U,U>>>8&255,U>>>16&255,U>>>24,255&y,y>>>8&255,y>>>16&255,y>>>24]},R.toBytesBE=function(){var y=this.high,U=this.low;return[y>>>24,y>>>16&255,y>>>8&255,255&y,U>>>24,U>>>16&255,U>>>8&255,255&U]},e.fromBytes=function(y,U,L){return L?e.fromBytesLE(y,U):e.fromBytesBE(y,U)},e.fromBytesLE=function(y,U){return new e(y[0]|y[1]<<8|y[2]<<16|y[3]<<24,y[4]|y[5]<<8|y[6]<<16|y[7]<<24,U)},e.fromBytesBE=function(y,U){return new e(y[4]<<24|y[5]<<16|y[6]<<8|y[7],y[0]<<24|y[1]<<16|y[2]<<8|y[3],U)}},3281:function(h,O,e){h.exports=e(9050)},2967:function(h){h.exports=r;var O,e=/\/|\./;function r(n,a){e.test(n)||(n="google/protobuf/"+n+".proto",a={nested:{google:{nested:{protobuf:{nested:a}}}}}),r[n]=a}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:O={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:O}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(n){return r[n]||null}},3996:function(h,O,e){var r=O,n=e(7025),a=e(9935);function s(o,t,l,u){if(t.resolvedType)if(t.resolvedType instanceof n){o("switch(d%s){",u);for(var g=t.resolvedType.values,f=Object.keys(g),d=0;d<f.length;++d)t.repeated&&g[f[d]]===t.typeDefault&&o("default:"),o("case%j:",f[d])("case %i:",g[f[d]])("m%s=%j",u,g[f[d]])("break");o("}")}else o('if(typeof d%s!=="object")',u)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",u,l,u);else{var p=!1;switch(t.type){case"double":case"float":o("m%s=Number(d%s)",u,u);break;case"uint32":case"fixed32":o("m%s=d%s>>>0",u,u);break;case"int32":case"sint32":case"sfixed32":o("m%s=d%s|0",u,u);break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",u,u,p)('else if(typeof d%s==="string")',u)("m%s=parseInt(d%s,10)",u,u)('else if(typeof d%s==="number")',u)("m%s=d%s",u,u)('else if(typeof d%s==="object")',u)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",u,u,u,p?"true":"");break;case"bytes":o('if(typeof d%s==="string")',u)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",u,u,u)("else if(d%s.length)",u)("m%s=d%s",u,u);break;case"string":o("m%s=String(d%s)",u,u);break;case"bool":o("m%s=Boolean(d%s)",u,u)}}return o}function i(o,t,l,u){if(t.resolvedType)t.resolvedType instanceof n?o("d%s=o.enums===String?types[%i].values[m%s]:m%s",u,l,u,u):o("d%s=types[%i].toObject(m%s,o)",u,l,u);else{var g=!1;switch(t.type){case"double":case"float":o("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",u,u,u,u);break;case"uint64":g=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o('if(typeof m%s==="number")',u)("d%s=o.longs===String?String(m%s):m%s",u,u,u)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",u,u,u,u,g?"true":"",u);break;case"bytes":o("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",u,u,u,u,u);break;default:o("d%s=m%s",u,u)}}return o}r.fromObject=function(o){var t=o.fieldsArray,l=a.codegen(["d"],o.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return l("return new this.ctor");l("var m=new this.ctor");for(var u=0;u<t.length;++u){var g=t[u].resolve(),f=a.safeProp(g.name);g.map?(l("if(d%s){",f)('if(typeof d%s!=="object")',f)("throw TypeError(%j)",g.fullName+": object expected")("m%s={}",f)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",f),s(l,g,u,f+"[ks[i]]")("}")("}")):g.repeated?(l("if(d%s){",f)("if(!Array.isArray(d%s))",f)("throw TypeError(%j)",g.fullName+": array expected")("m%s=[]",f)("for(var i=0;i<d%s.length;++i){",f),s(l,g,u,f+"[i]")("}")("}")):(g.resolvedType instanceof n||l("if(d%s!=null){",f),s(l,g,u,f),g.resolvedType instanceof n||l("}"))}return l("return m")},r.toObject=function(o){var t=o.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var l=a.codegen(["m","o"],o.name+"$toObject")("if(!o)")("o={}")("var d={}"),u=[],g=[],f=[],d=0;d<t.length;++d)t[d].partOf||(t[d].resolve().repeated?u:t[d].map?g:f).push(t[d]);if(u.length){for(l("if(o.arrays||o.defaults){"),d=0;d<u.length;++d)l("d%s=[]",a.safeProp(u[d].name));l("}")}if(g.length){for(l("if(o.objects||o.defaults){"),d=0;d<g.length;++d)l("d%s={}",a.safeProp(g[d].name));l("}")}if(f.length){for(l("if(o.defaults){"),d=0;d<f.length;++d){var p=f[d],m=a.safeProp(p.name);if(p.resolvedType instanceof n)l("d%s=o.enums===String?%j:%j",m,p.resolvedType.valuesById[p.typeDefault],p.typeDefault);else if(p.long)l("if(util.Long){")("var n=new util.Long(%i,%i,%j)",p.typeDefault.low,p.typeDefault.high,p.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",m)("}else")("d%s=o.longs===String?%j:%i",m,p.typeDefault.toString(),p.typeDefault.toNumber());else if(p.bytes){var T="["+Array.prototype.slice.call(p.typeDefault).join(",")+"]";l("if(o.bytes===String)d%s=%j",m,String.fromCharCode.apply(String,p.typeDefault))("else{")("d%s=%s",m,T)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",m,m)("}")}else l("d%s=%j",m,p.typeDefault)}l("}")}var c=!1;for(d=0;d<t.length;++d){p=t[d];var I=o._fieldsArray.indexOf(p);m=a.safeProp(p.name),p.map?(c||(c=!0,l("var ks2")),l("if(m%s&&(ks2=Object.keys(m%s)).length){",m,m)("d%s={}",m)("for(var j=0;j<ks2.length;++j){"),i(l,p,I,m+"[ks2[j]]")("}")):p.repeated?(l("if(m%s&&m%s.length){",m,m)("d%s=[]",m)("for(var j=0;j<m%s.length;++j){",m),i(l,p,I,m+"[j]")("}")):(l("if(m%s!=null&&m.hasOwnProperty(%j)){",m,p.name),i(l,p,I,m),p.partOf&&l("if(o.oneofs)")("d%s=%j",a.safeProp(p.partOf.name),p.name)),l("}")}return l("return d")}},5305:function(h,O,e){h.exports=function(i){var o=a.codegen(["r","l"],i.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(i.fieldsArray.filter(function(d){return d.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");i.group&&o("if((t&7)===4)")("break"),o("switch(t>>>3){");for(var t=0;t<i.fieldsArray.length;++t){var l=i._fieldsArray[t].resolve(),u=l.resolvedType instanceof r?"int32":l.type,g="m"+a.safeProp(l.name);o("case %i:",l.id),l.map?(o("if(%s===util.emptyObject)",g)("%s={}",g)("var c2 = r.uint32()+r.pos"),n.defaults[l.keyType]!==void 0?o("k=%j",n.defaults[l.keyType]):o("k=null"),n.defaults[u]!==void 0?o("value=%j",n.defaults[u]):o("value=null"),o("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",l.keyType)("case 2:"),n.basic[u]===void 0?o("value=types[%i].decode(r,r.uint32())",t):o("value=r.%s()",u),o("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),n.long[l.keyType]!==void 0?o('%s[typeof k==="object"?util.longToHash(k):k]=value',g):o("%s[k]=value",g)):l.repeated?(o("if(!(%s&&%s.length))",g,g)("%s=[]",g),n.packed[u]!==void 0&&o("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",g,u)("}else"),n.basic[u]===void 0?o(l.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",g,t):o("%s.push(r.%s())",g,u)):n.basic[u]===void 0?o(l.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",g,t):o("%s=r.%s()",g,u),o("break")}for(o("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<i._fieldsArray.length;++t){var f=i._fieldsArray[t];f.required&&o("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",s(f))}return o("return m")};var r=e(7025),n=e(7063),a=e(9935);function s(i){return"missing required '"+i.name+"'"}},4928:function(h,O,e){h.exports=function(i){for(var o,t=a.codegen(["m","w"],i.name+"$encode")("if(!w)")("w=Writer.create()"),l=i.fieldsArray.slice().sort(a.compareFieldsById),u=0;u<l.length;++u){var g=l[u].resolve(),f=i._fieldsArray.indexOf(g),d=g.resolvedType instanceof r?"int32":g.type,p=n.basic[d];o="m"+a.safeProp(g.name),g.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,g.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(g.id<<3|2)>>>0,8|n.mapKey[g.keyType],g.keyType),p===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,o):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,d,o),t("}")("}")):g.repeated?(t("if(%s!=null&&%s.length){",o,o),g.packed&&n.packed[d]!==void 0?t("w.uint32(%i).fork()",(g.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",d,o)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",o),p===void 0?s(t,g,f,o+"[i]"):t("w.uint32(%i).%s(%s[i])",(g.id<<3|p)>>>0,d,o)),t("}")):(g.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,g.name),p===void 0?s(t,g,f,o):t("w.uint32(%i).%s(%s)",(g.id<<3|p)>>>0,d,o))}return t("return w")};var r=e(7025),n=e(7063),a=e(9935);function s(i,o,t,l){return o.resolvedType.group?i("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,l,(o.id<<3|3)>>>0,(o.id<<3|4)>>>0):i("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,l,(o.id<<3|2)>>>0)}},7025:function(h,O,e){h.exports=s;var r=e(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="Enum";var n=e(9313),a=e(9935);function s(i,o,t,l,u){if(r.call(this,i,t),o&&typeof o!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=l,this.comments=u||{},this.reserved=void 0,o)for(var g=Object.keys(o),f=0;f<g.length;++f)typeof o[g[f]]=="number"&&(this.valuesById[this.values[g[f]]=o[g[f]]]=g[f])}s.fromJSON=function(i,o){var t=new s(i,o.values,o.options,o.comment,o.comments);return t.reserved=o.reserved,t},s.prototype.toJSON=function(i){var o=!!i&&!!i.keepComments;return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",o?this.comment:void 0,"comments",o?this.comments:void 0])},s.prototype.add=function(i,o,t){if(!a.isString(i))throw TypeError("name must be a string");if(!a.isInteger(o))throw TypeError("id must be an integer");if(this.values[i]!==void 0)throw Error("duplicate name '"+i+"' in "+this);if(this.isReservedId(o))throw Error("id "+o+" is reserved in "+this);if(this.isReservedName(i))throw Error("name '"+i+"' is reserved in "+this);if(this.valuesById[o]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+o+" in "+this);this.values[i]=o}else this.valuesById[this.values[i]=o]=i;return this.comments[i]=t||null,this},s.prototype.remove=function(i){if(!a.isString(i))throw TypeError("name must be a string");var o=this.values[i];if(o==null)throw Error("name '"+i+"' does not exist in "+this);return delete this.valuesById[o],delete this.values[i],delete this.comments[i],this},s.prototype.isReservedId=function(i){return n.isReservedId(this.reserved,i)},s.prototype.isReservedName=function(i){return n.isReservedName(this.reserved,i)}},3548:function(h,O,e){h.exports=t;var r=e(3243);((t.prototype=Object.create(r.prototype)).constructor=t).className="Field";var n,a=e(7025),s=e(7063),i=e(9935),o=/^required|optional|repeated$/;function t(l,u,g,f,d,p,m){if(i.isObject(f)?(m=d,p=f,f=d=void 0):i.isObject(d)&&(m=p,p=d,d=void 0),r.call(this,l,p),!i.isInteger(u)||u<0)throw TypeError("id must be a non-negative integer");if(!i.isString(g))throw TypeError("type must be a string");if(f!==void 0&&!o.test(f=f.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(d!==void 0&&!i.isString(d))throw TypeError("extend must be a string");f==="proto3_optional"&&(f="optional"),this.rule=f&&f!=="optional"?f:void 0,this.type=g,this.id=u,this.extend=d||void 0,this.required=f==="required",this.optional=!this.required,this.repeated=f==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!i.Long&&s.long[g]!==void 0,this.bytes=g==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=m}t.fromJSON=function(l,u){return new t(l,u.id,u.type,u.rule,u.extend,u.options,u.comment)},Object.defineProperty(t.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),t.prototype.setOption=function(l,u,g){return l==="packed"&&(this._packed=null),r.prototype.setOption.call(this,l,u,g)},t.prototype.toJSON=function(l){var u=!!l&&!!l.keepComments;return i.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",u?this.comment:void 0])},t.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=i.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var l;i.base64.test(this.typeDefault)?i.base64.decode(this.typeDefault,l=i.newBuffer(i.base64.length(this.typeDefault)),0):i.utf8.write(this.typeDefault,l=i.newBuffer(i.utf8.length(this.typeDefault)),0),this.typeDefault=l}return this.map?this.defaultValue=i.emptyObject:this.repeated?this.defaultValue=i.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},t.d=function(l,u,g,f){return typeof u=="function"?u=i.decorateType(u).name:u&&typeof u=="object"&&(u=i.decorateEnum(u).name),function(d,p){i.decorateType(d.constructor).add(new t(p,l,u,g,{default:f}))}},t._configure=function(l){n=l}},8836:function(h,O,e){var r=h.exports=e(9482);r.build="light",r.load=function(n,a,s){return typeof a=="function"?(s=a,a=new r.Root):a||(a=new r.Root),a.load(n,s)},r.loadSync=function(n,a){return a||(a=new r.Root),a.loadSync(n)},r.encoder=e(4928),r.decoder=e(5305),r.verifier=e(4497),r.converter=e(3996),r.ReflectionObject=e(3243),r.Namespace=e(9313),r.Root=e(9424),r.Enum=e(7025),r.Type=e(7645),r.Field=e(3548),r.OneOf=e(7598),r.MapField=e(6039),r.Service=e(7513),r.Method=e(4429),r.Message=e(8368),r.wrappers=e(1667),r.types=e(7063),r.util=e(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:function(h,O,e){var r=O;function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=e(1173),r.BufferWriter=e(3155),r.Reader=e(1408),r.BufferReader=e(593),r.util=e(9693),r.rpc=e(5994),r.roots=e(5054),r.configure=n,n()},9050:function(h,O,e){var r=h.exports=e(8836);r.build="full",r.tokenize=e(626),r.parse=e(2228),r.common=e(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:function(h,O,e){h.exports=s;var r=e(3548);((s.prototype=Object.create(r.prototype)).constructor=s).className="MapField";var n=e(7063),a=e(9935);function s(i,o,t,l,u,g){if(r.call(this,i,o,l,void 0,void 0,u,g),!a.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(i,o){return new s(i,o.id,o.keyType,o.type,o.options,o.comment)},s.prototype.toJSON=function(i){var o=!!i&&!!i.keepComments;return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(n.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},s.d=function(i,o,t){return typeof t=="function"?t=a.decorateType(t).name:t&&typeof t=="object"&&(t=a.decorateEnum(t).name),function(l,u){a.decorateType(l.constructor).add(new s(u,i,o,t))}}},8368:function(h,O,e){h.exports=n;var r=e(9693);function n(a){if(a)for(var s=Object.keys(a),i=0;i<s.length;++i)this[s[i]]=a[s[i]]}n.create=function(a){return this.$type.create(a)},n.encode=function(a,s){return this.$type.encode(a,s)},n.encodeDelimited=function(a,s){return this.$type.encodeDelimited(a,s)},n.decode=function(a){return this.$type.decode(a)},n.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},n.verify=function(a){return this.$type.verify(a)},n.fromObject=function(a){return this.$type.fromObject(a)},n.toObject=function(a,s){return this.$type.toObject(a,s)},n.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:function(h,O,e){h.exports=a;var r=e(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Method";var n=e(9935);function a(s,i,o,t,l,u,g,f,d){if(n.isObject(l)?(g=l,l=u=void 0):n.isObject(u)&&(g=u,u=void 0),i!==void 0&&!n.isString(i))throw TypeError("type must be a string");if(!n.isString(o))throw TypeError("requestType must be a string");if(!n.isString(t))throw TypeError("responseType must be a string");r.call(this,s,g),this.type=i||"rpc",this.requestType=o,this.requestStream=!!l||void 0,this.responseType=t,this.responseStream=!!u||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f,this.parsedOptions=d}a.fromJSON=function(s,i){return new a(s,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},a.prototype.toJSON=function(s){var i=!!s&&!!s.keepComments;return n.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",i?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:function(h,O,e){h.exports=u;var r=e(3243);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var n,a,s,i=e(3548),o=e(7598),t=e(9935);function l(f,d){if(f&&f.length){for(var p={},m=0;m<f.length;++m)p[f[m].name]=f[m].toJSON(d);return p}}function u(f,d){r.call(this,f,d),this.nested=void 0,this._nestedArray=null}function g(f){return f._nestedArray=null,f}u.fromJSON=function(f,d){return new u(f,d.options).addJSON(d.nested)},u.arrayToJSON=l,u.isReservedId=function(f,d){if(f){for(var p=0;p<f.length;++p)if(typeof f[p]!="string"&&f[p][0]<=d&&f[p][1]>d)return!0}return!1},u.isReservedName=function(f,d){if(f){for(var p=0;p<f.length;++p)if(f[p]===d)return!0}return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=t.toArray(this.nested))}}),u.prototype.toJSON=function(f){return t.toObject(["options",this.options,"nested",l(this.nestedArray,f)])},u.prototype.addJSON=function(f){if(f)for(var d,p=Object.keys(f),m=0;m<p.length;++m)d=f[p[m]],this.add((d.fields!==void 0?n.fromJSON:d.values!==void 0?s.fromJSON:d.methods!==void 0?a.fromJSON:d.id!==void 0?i.fromJSON:u.fromJSON)(p[m],d));return this},u.prototype.get=function(f){return this.nested&&this.nested[f]||null},u.prototype.getEnum=function(f){if(this.nested&&this.nested[f]instanceof s)return this.nested[f].values;throw Error("no such enum: "+f)},u.prototype.add=function(f){if(!(f instanceof i&&f.extend!==void 0||f instanceof n||f instanceof s||f instanceof a||f instanceof u||f instanceof o))throw TypeError("object must be a valid nested object");if(this.nested){var d=this.get(f.name);if(d){if(!(d instanceof u&&f instanceof u)||d instanceof n||d instanceof a)throw Error("duplicate name '"+f.name+"' in "+this);for(var p=d.nestedArray,m=0;m<p.length;++m)f.add(p[m]);this.remove(d),this.nested||(this.nested={}),f.setOptions(d.options,!0)}}else this.nested={};return this.nested[f.name]=f,f.onAdd(this),g(this)},u.prototype.remove=function(f){if(!(f instanceof r))throw TypeError("object must be a ReflectionObject");if(f.parent!==this)throw Error(f+" is not a member of "+this);return delete this.nested[f.name],Object.keys(this.nested).length||(this.nested=void 0),f.onRemove(this),g(this)},u.prototype.define=function(f,d){if(t.isString(f))f=f.split(".");else if(!Array.isArray(f))throw TypeError("illegal path");if(f&&f.length&&f[0]==="")throw Error("path must be relative");for(var p=this;f.length>0;){var m=f.shift();if(p.nested&&p.nested[m]){if(!((p=p.nested[m])instanceof u))throw Error("path conflicts with non-namespace objects")}else p.add(p=new u(m))}return d&&p.addJSON(d),p},u.prototype.resolveAll=function(){for(var f=this.nestedArray,d=0;d<f.length;)f[d]instanceof u?f[d++].resolveAll():f[d++].resolve();return this.resolve()},u.prototype.lookup=function(f,d,p){if(typeof d=="boolean"?(p=d,d=void 0):d&&!Array.isArray(d)&&(d=[d]),t.isString(f)&&f.length){if(f===".")return this.root;f=f.split(".")}else if(!f.length)return this;if(f[0]==="")return this.root.lookup(f.slice(1),d);var m=this.get(f[0]);if(m){if(f.length===1){if(!d||d.indexOf(m.constructor)>-1)return m}else if(m instanceof u&&(m=m.lookup(f.slice(1),d,!0)))return m}else for(var T=0;T<this.nestedArray.length;++T)if(this._nestedArray[T]instanceof u&&(m=this._nestedArray[T].lookup(f,d,!0)))return m;return this.parent===null||p?null:this.parent.lookup(f,d)},u.prototype.lookupType=function(f){var d=this.lookup(f,[n]);if(!d)throw Error("no such type: "+f);return d},u.prototype.lookupEnum=function(f){var d=this.lookup(f,[s]);if(!d)throw Error("no such Enum '"+f+"' in "+this);return d},u.prototype.lookupTypeOrEnum=function(f){var d=this.lookup(f,[n,s]);if(!d)throw Error("no such Type or Enum '"+f+"' in "+this);return d},u.prototype.lookupService=function(f){var d=this.lookup(f,[a]);if(!d)throw Error("no such Service '"+f+"' in "+this);return d},u._configure=function(f,d,p){n=f,a=d,s=p}},3243:function(h,O,e){h.exports=a,a.className="ReflectionObject";var r,n=e(9935);function a(s,i){if(!n.isString(s))throw TypeError("name must be a string");if(i&&!n.isObject(i))throw TypeError("options must be an object");this.options=i,this.parsedOptions=null,this.name=s,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var s=this;s.parent!==null;)s=s.parent;return s}},fullName:{get:function(){for(var s=[this.name],i=this.parent;i;)s.unshift(i.name),i=i.parent;return s.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(s){this.parent&&this.parent!==s&&this.parent.remove(this),this.parent=s,this.resolved=!1;var i=s.root;i instanceof r&&i._handleAdd(this)},a.prototype.onRemove=function(s){var i=s.root;i instanceof r&&i._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},a.prototype.getOption=function(s){if(this.options)return this.options[s]},a.prototype.setOption=function(s,i,o){return o&&this.options&&this.options[s]!==void 0||((this.options||(this.options={}))[s]=i),this},a.prototype.setParsedOption=function(s,i,o){this.parsedOptions||(this.parsedOptions=[]);var t=this.parsedOptions;if(o){var l=t.find(function(f){return Object.prototype.hasOwnProperty.call(f,s)});if(l){var u=l[s];n.setProperty(u,o,i)}else(l={})[s]=n.setProperty({},o,i),t.push(l)}else{var g={};g[s]=i,t.push(g)}return this},a.prototype.setOptions=function(s,i){if(s)for(var o=Object.keys(s),t=0;t<o.length;++t)this.setOption(o[t],s[o[t]],i);return this},a.prototype.toString=function(){var s=this.constructor.className,i=this.fullName;return i.length?s+" "+i:s},a._configure=function(s){r=s}},7598:function(h,O,e){h.exports=s;var r=e(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var n=e(3548),a=e(9935);function s(o,t,l,u){if(Array.isArray(t)||(l=t,t=void 0),r.call(this,o,l),t!==void 0&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=u}function i(o){if(o.parent)for(var t=0;t<o.fieldsArray.length;++t)o.fieldsArray[t].parent||o.parent.add(o.fieldsArray[t])}s.fromJSON=function(o,t){return new s(o,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(o){var t=!!o&&!!o.keepComments;return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(o){if(!(o instanceof n))throw TypeError("field must be a Field");return o.parent&&o.parent!==this.parent&&o.parent.remove(o),this.oneof.push(o.name),this.fieldsArray.push(o),o.partOf=this,i(this),this},s.prototype.remove=function(o){if(!(o instanceof n))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(o);if(t<0)throw Error(o+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(o.name))>-1&&this.oneof.splice(t,1),o.partOf=null,this},s.prototype.onAdd=function(o){r.prototype.onAdd.call(this,o);for(var t=0;t<this.oneof.length;++t){var l=o.get(this.oneof[t]);l&&!l.partOf&&(l.partOf=this,this.fieldsArray.push(l))}i(this)},s.prototype.onRemove=function(o){for(var t,l=0;l<this.fieldsArray.length;++l)(t=this.fieldsArray[l]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,o)},s.d=function(){for(var o=new Array(arguments.length),t=0;t<arguments.length;)o[t]=arguments[t++];return function(l,u){a.decorateType(l.constructor).add(new s(u,o)),Object.defineProperty(l,u,{get:a.oneOfGetter(o),set:a.oneOfSetter(o)})}}},2228:function(h,O,e){h.exports=R,R.filename=null,R.defaults={keepCase:!1};var r=e(626),n=e(9424),a=e(7645),s=e(3548),i=e(6039),o=e(7598),t=e(7025),l=e(7513),u=e(4429),g=e(7063),f=e(9935),d=/^[1-9][0-9]*$/,p=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,T=/^-?0[x][0-9a-fA-F]+$/,c=/^0[0-7]+$/,I=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,N=/^[a-zA-Z_][a-zA-Z_0-9]*$/,k=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,A=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function R(y,U,L){U instanceof n||(L=U,U=new n),L||(L=R.defaults);var j,H,ee,F,K,Z=L.preferTrailingComment||!1,oe=r(y,L.alternateCommentMode||!1),le=oe.next,de=oe.push,Ee=oe.peek,re=oe.skip,z=oe.cmnt,ue=!0,Q=!1,ne=U,fe=L.keepCase?function(D){return D}:f.camelCase;function Y(D,q,w){var X=R.filename;return w||(R.filename=null),Error("illegal "+(q||"token")+" '"+D+"' ("+(X?X+", ":"")+"line "+oe.line+")")}function Oe(){var D,q=[];do{if((D=le())!=='"'&&D!=="'")throw Y(D);q.push(le()),re(D),D=Ee()}while(D==='"'||D==="'");return q.join("")}function Ae(D){var q=le();switch(q){case"'":case'"':return de(q),Oe();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(w,X){var E=1;switch(w.charAt(0)==="-"&&(E=-1,w=w.substring(1)),w){case"inf":case"INF":case"Inf":return E*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(w))return E*parseInt(w,10);if(m.test(w))return E*parseInt(w,16);if(c.test(w))return E*parseInt(w,8);if(v.test(w))return E*parseFloat(w);throw Y(w,"number",!0)}(q)}catch{if(D&&k.test(q))return q;throw Y(q,"value")}}function Be(D,q){var w,X;do!q||(w=Ee())!=='"'&&w!=="'"?D.push([X=Ce(le()),re("to",!0)?Ce(le()):X]):D.push(Oe());while(re(",",!0));re(";")}function Ce(D,q){switch(D){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!q&&D.charAt(0)==="-")throw Y(D,"id");if(p.test(D))return parseInt(D,10);if(T.test(D))return parseInt(D,16);if(I.test(D))return parseInt(D,8);throw Y(D,"id")}function Ue(){if(j!==void 0)throw Y("package");if(j=le(),!k.test(j))throw Y(j,"name");ne=ne.define(j),re(";")}function ke(){var D,q=Ee();switch(q){case"weak":D=ee||(ee=[]),le();break;case"public":le();default:D=H||(H=[])}q=Oe(),re(";"),D.push(q)}function je(){if(re("="),F=Oe(),!(Q=F==="proto3")&&F!=="proto2")throw Y(F,"syntax");re(";")}function Ge(D,q){switch(q){case"option":return ge(D,q),re(";"),!0;case"message":return function(w,X){if(!N.test(X=le()))throw Y(X,"type name");var E=new a(X);xe(E,function(b){if(!Ge(E,b))switch(b){case"map":(function(x){re("<");var C=le();if(g.mapKey[C]===void 0)throw Y(C,"type");re(",");var P=le();if(!k.test(P))throw Y(P,"type");re(">");var _=le();if(!N.test(_))throw Y(_,"name");re("=");var S=new i(fe(_),Ce(le()),C,P);xe(S,function(W){if(W!=="option")throw Y(W);ge(S,W),re(";")},function(){Se(S)}),x.add(S)})(E);break;case"required":case"repeated":De(E,b);break;case"optional":De(E,Q?"proto3_optional":"optional");break;case"oneof":(function(x,C){if(!N.test(C=le()))throw Y(C,"name");var P=new o(fe(C));xe(P,function(_){_==="option"?(ge(P,_),re(";")):(de(_),De(P,"optional"))}),x.add(P)})(E,b);break;case"extensions":Be(E.extensions||(E.extensions=[]));break;case"reserved":Be(E.reserved||(E.reserved=[]),!0);break;default:if(!Q||!k.test(b))throw Y(b);de(b),De(E,"optional")}}),w.add(E)}(D,q),!0;case"enum":return function(w,X){if(!N.test(X=le()))throw Y(X,"name");var E=new t(X);xe(E,function(b){switch(b){case"option":ge(E,b),re(";");break;case"reserved":Be(E.reserved||(E.reserved=[]),!0);break;default:(function(x,C){if(!N.test(C))throw Y(C,"name");re("=");var P=Ce(le(),!0),_={};xe(_,function(S){if(S!=="option")throw Y(S);ge(_,S),re(";")},function(){Se(_)}),x.add(C,P,_.comment)})(E,b)}}),w.add(E)}(D,q),!0;case"service":return function(w,X){if(!N.test(X=le()))throw Y(X,"service name");var E=new l(X);xe(E,function(b){if(!Ge(E,b)){if(b!=="rpc")throw Y(b);(function(x,C){var P=z(),_=C;if(!N.test(C=le()))throw Y(C,"name");var S,W,M,G,te=C;if(re("("),re("stream",!0)&&(W=!0),!k.test(C=le())||(S=C,re(")"),re("returns"),re("("),re("stream",!0)&&(G=!0),!k.test(C=le())))throw Y(C);M=C,re(")");var ce=new u(te,_,S,M,W,G);ce.comment=P,xe(ce,function(ye){if(ye!=="option")throw Y(ye);ge(ce,ye),re(";")}),x.add(ce)})(E,b)}}),w.add(E)}(D,q),!0;case"extend":return function(w,X){if(!k.test(X=le()))throw Y(X,"reference");var E=X;xe(null,function(b){switch(b){case"required":case"repeated":De(w,b,E);break;case"optional":De(w,Q?"proto3_optional":"optional",E);break;default:if(!Q||!k.test(b))throw Y(b);de(b),De(w,"optional",E)}})}(D,q),!0}return!1}function xe(D,q,w){var X=oe.line;if(D&&(typeof D.comment!="string"&&(D.comment=z()),D.filename=R.filename),re("{",!0)){for(var E;(E=le())!=="}";)q(E);re(";",!0)}else w&&w(),re(";"),D&&(typeof D.comment!="string"||Z)&&(D.comment=z(X)||D.comment)}function De(D,q,w){var X=le();if(X!=="group"){if(!k.test(X))throw Y(X,"type");var E=le();if(!N.test(E))throw Y(E,"name");E=fe(E),re("=");var b=new s(E,Ce(le()),X,q,w);if(xe(b,function(C){if(C!=="option")throw Y(C);ge(b,C),re(";")},function(){Se(b)}),q==="proto3_optional"){var x=new o("_"+E);b.setOption("proto3_optional",!0),x.add(b),D.add(x)}else D.add(b);Q||!b.repeated||g.packed[X]===void 0&&g.basic[X]!==void 0||b.setOption("packed",!1,!0)}else(function(C,P){var _=le();if(!N.test(_))throw Y(_,"name");var S=f.lcFirst(_);_===S&&(_=f.ucFirst(_)),re("=");var W=Ce(le()),M=new a(_);M.group=!0;var G=new s(S,W,_,P);G.filename=R.filename,xe(M,function(te){switch(te){case"option":ge(M,te),re(";");break;case"required":case"repeated":De(M,te);break;case"optional":De(M,Q?"proto3_optional":"optional");break;default:throw Y(te)}}),C.add(M).add(G)})(D,q)}function ge(D,q){var w=re("(",!0);if(!k.test(q=le()))throw Y(q,"name");var X,E=q,b=E;w&&(re(")"),b=E="("+E+")",q=Ee(),A.test(q)&&(X=q.substr(1),E+=q,le())),re("="),function(x,C,P,_){x.setParsedOption&&x.setParsedOption(C,P,_)}(D,b,be(D,E),X)}function be(D,q){if(re("{",!0)){for(var w={};!re("}",!0);){if(!N.test(K=le()))throw Y(K,"name");var X,E=K;Ee()==="{"?X=be(D,q+"."+K):(re(":"),Ee()==="{"?X=be(D,q+"."+K):(X=Ae(!0),Ie(D,q+"."+K,X)));var b=w[E];b&&(X=[].concat(b).concat(X)),w[E]=X,re(",",!0)}return w}var x=Ae(!0);return Ie(D,q,x),x}function Ie(D,q,w){D.setOption&&D.setOption(q,w)}function Se(D){if(re("[",!0)){do ge(D,"option");while(re(",",!0));re("]")}return D}for(;(K=le())!==null;)switch(K){case"package":if(!ue)throw Y(K);Ue();break;case"import":if(!ue)throw Y(K);ke();break;case"syntax":if(!ue)throw Y(K);je();break;case"option":ge(ne,K),re(";");break;default:if(Ge(ne,K)){ue=!1;continue}throw Y(K)}return R.filename=null,{package:j,imports:H,weakImports:ee,syntax:F,root:U}}},1408:function(h,O,e){h.exports=o;var r,n=e(9693),a=n.LongBits,s=n.utf8;function i(p,m){return RangeError("index out of range: "+p.pos+" + "+(m||1)+" > "+p.len)}function o(p){this.buf=p,this.pos=0,this.len=p.length}var t,l=typeof Uint8Array<"u"?function(p){if(p instanceof Uint8Array||Array.isArray(p))return new o(p);throw Error("illegal buffer")}:function(p){if(Array.isArray(p))return new o(p);throw Error("illegal buffer")},u=function(){return n.Buffer?function(p){return(o.create=function(m){return n.Buffer.isBuffer(m)?new r(m):l(m)})(p)}:l};function g(){var p=new a(0,0),m=0;if(!(this.len-this.pos>4)){for(;m<3;++m){if(this.pos>=this.len)throw i(this);if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(127&this.buf[this.pos++])<<7*m)>>>0,p}for(;m<4;++m)if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(127&this.buf[this.pos])<<28)>>>0,p.hi=(p.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return p;if(m=0,this.len-this.pos>4){for(;m<5;++m)if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return p}else for(;m<5;++m){if(this.pos>=this.len)throw i(this);if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}function f(p,m){return(p[m-4]|p[m-3]<<8|p[m-2]<<16|p[m-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw i(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}o.create=u(),o.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,o.prototype.uint32=(t=4294967295,function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return t}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var p=this.uint32();return p>>>1^-(1&p)|0},o.prototype.bool=function(){return this.uint32()!==0},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return f(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return 0|f(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var p=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,p},o.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var p=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,p},o.prototype.bytes=function(){var p=this.uint32(),m=this.pos,T=this.pos+p;if(T>this.len)throw i(this,p);return this.pos+=p,Array.isArray(this.buf)?this.buf.slice(m,T):m===T?new this.buf.constructor(0):this._slice.call(this.buf,m,T)},o.prototype.string=function(){var p=this.bytes();return s.read(p,0,p.length)},o.prototype.skip=function(p){if(typeof p=="number"){if(this.pos+p>this.len)throw i(this,p);this.pos+=p}else do if(this.pos>=this.len)throw i(this);while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=7&this.uint32())!=4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},o._configure=function(p){r=p,o.create=u(),r._configure();var m=n.Long?"toLong":"toNumber";n.merge(o.prototype,{int64:function(){return g.call(this)[m](!1)},uint64:function(){return g.call(this)[m](!0)},sint64:function(){return g.call(this).zzDecode()[m](!1)},fixed64:function(){return d.call(this)[m](!0)},sfixed64:function(){return d.call(this)[m](!1)}})}},593:function(h,O,e){h.exports=a;var r=e(1408);(a.prototype=Object.create(r.prototype)).constructor=a;var n=e(9693);function a(s){r.call(this,s)}a._configure=function(){n.Buffer&&(a.prototype._slice=n.Buffer.prototype.slice)},a.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},a._configure()},9424:function(h,O,e){h.exports=u;var r=e(9313);((u.prototype=Object.create(r.prototype)).constructor=u).className="Root";var n,a,s,i=e(3548),o=e(7025),t=e(7598),l=e(9935);function u(p){r.call(this,"",p),this.deferred=[],this.files=[]}function g(){}u.fromJSON=function(p,m){return m||(m=new u),p.options&&m.setOptions(p.options),m.addJSON(p.nested)},u.prototype.resolvePath=l.path.resolve,u.prototype.fetch=l.fetch,u.prototype.load=function p(m,T,c){typeof T=="function"&&(c=T,T=void 0);var I=this;if(!c)return l.asPromise(p,I,m,T);var v=c===g;function N(j,H){if(c){var ee=c;if(c=null,v)throw j;ee(j,H)}}function k(j){var H=j.lastIndexOf("google/protobuf/");if(H>-1){var ee=j.substring(H);if(ee in s)return ee}return null}function A(j,H){try{if(l.isString(H)&&H.charAt(0)==="{"&&(H=JSON.parse(H)),l.isString(H)){a.filename=j;var ee,F=a(H,I,T),K=0;if(F.imports)for(;K<F.imports.length;++K)(ee=k(F.imports[K])||I.resolvePath(j,F.imports[K]))&&R(ee);if(F.weakImports)for(K=0;K<F.weakImports.length;++K)(ee=k(F.weakImports[K])||I.resolvePath(j,F.weakImports[K]))&&R(ee,!0)}else I.setOptions(H.options).addJSON(H.nested)}catch(Z){N(Z)}v||y||N(null,I)}function R(j,H){if(!(I.files.indexOf(j)>-1))if(I.files.push(j),j in s)v?A(j,s[j]):(++y,setTimeout(function(){--y,A(j,s[j])}));else if(v){var ee;try{ee=l.fs.readFileSync(j).toString("utf8")}catch(F){return void(H||N(F))}A(j,ee)}else++y,I.fetch(j,function(F,K){--y,c&&(F?H?y||N(null,I):N(F):A(j,K))})}var y=0;l.isString(m)&&(m=[m]);for(var U,L=0;L<m.length;++L)(U=I.resolvePath("",m[L]))&&R(U);if(v)return I;y||N(null,I)},u.prototype.loadSync=function(p,m){if(!l.isNode)throw Error("not supported");return this.load(p,m,g)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(p){return"'extend "+p.extend+"' in "+p.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function d(p,m){var T=m.parent.lookup(m.extend);if(T){var c=new i(m.fullName,m.id,m.type,m.rule,void 0,m.options);return c.declaringField=m,m.extensionField=c,T.add(c),!0}return!1}u.prototype._handleAdd=function(p){if(p instanceof i)p.extend===void 0||p.extensionField||d(0,p)||this.deferred.push(p);else if(p instanceof o)f.test(p.name)&&(p.parent[p.name]=p.values);else if(!(p instanceof t)){if(p instanceof n)for(var m=0;m<this.deferred.length;)d(0,this.deferred[m])?this.deferred.splice(m,1):++m;for(var T=0;T<p.nestedArray.length;++T)this._handleAdd(p._nestedArray[T]);f.test(p.name)&&(p.parent[p.name]=p)}},u.prototype._handleRemove=function(p){if(p instanceof i){if(p.extend!==void 0)if(p.extensionField)p.extensionField.parent.remove(p.extensionField),p.extensionField=null;else{var m=this.deferred.indexOf(p);m>-1&&this.deferred.splice(m,1)}}else if(p instanceof o)f.test(p.name)&&delete p.parent[p.name];else if(p instanceof r){for(var T=0;T<p.nestedArray.length;++T)this._handleRemove(p._nestedArray[T]);f.test(p.name)&&delete p.parent[p.name]}},u._configure=function(p,m,T){n=p,a=m,s=T}},5054:function(h){h.exports={}},5994:function(h,O,e){O.Service=e(7948)},7948:function(h,O,e){h.exports=n;var r=e(9693);function n(a,s,i){if(typeof a!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!s,this.responseDelimited=!!i}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function a(s,i,o,t,l){if(!t)throw TypeError("request must be specified");var u=this;if(!l)return r.asPromise(a,u,s,i,o,t);if(u.rpcImpl)try{return u.rpcImpl(s,i[u.requestDelimited?"encodeDelimited":"encode"](t).finish(),function(g,f){if(g)return u.emit("error",g,s),l(g);if(f!==null){if(!(f instanceof o))try{f=o[u.responseDelimited?"decodeDelimited":"decode"](f)}catch(d){return u.emit("error",d,s),l(d)}return u.emit("data",f,s),l(null,f)}u.end(!0)})}catch(g){return u.emit("error",g,s),void setTimeout(function(){l(g)},0)}else setTimeout(function(){l(Error("already ended"))},0)},n.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:function(h,O,e){h.exports=i;var r=e(9313);((i.prototype=Object.create(r.prototype)).constructor=i).className="Service";var n=e(4429),a=e(9935),s=e(5994);function i(t,l){r.call(this,t,l),this.methods={},this._methodsArray=null}function o(t){return t._methodsArray=null,t}i.fromJSON=function(t,l){var u=new i(t,l.options);if(l.methods)for(var g=Object.keys(l.methods),f=0;f<g.length;++f)u.add(n.fromJSON(g[f],l.methods[g[f]]));return l.nested&&u.addJSON(l.nested),u.comment=l.comment,u},i.prototype.toJSON=function(t){var l=r.prototype.toJSON.call(this,t),u=!!t&&!!t.keepComments;return a.toObject(["options",l&&l.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",l&&l.nested||void 0,"comment",u?this.comment:void 0])},Object.defineProperty(i.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),i.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},i.prototype.resolveAll=function(){for(var t=this.methodsArray,l=0;l<t.length;++l)t[l].resolve();return r.prototype.resolve.call(this)},i.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof n?(this.methods[t.name]=t,t.parent=this,o(this)):r.prototype.add.call(this,t)},i.prototype.remove=function(t){if(t instanceof n){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,o(this)}return r.prototype.remove.call(this,t)},i.prototype.create=function(t,l,u){for(var g,f=new s.Service(t,l,u),d=0;d<this.methodsArray.length;++d){var p=a.lcFirst((g=this._methodsArray[d]).resolve().name).replace(/[^$\w_]/g,"");f[p]=a.codegen(["r","c"],a.isReserved(p)?p+"_":p)("return this.rpcCall(m,q,s,r,c)")({m:g,q:g.resolvedRequestType.ctor,s:g.resolvedResponseType.ctor})}return f}},626:function(h){h.exports=u;var O=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,n=/^ *[*/]+ */,a=/^\s*\*?\/*/,s=/\n/g,i=/\s/,o=/\\(.?)/g,t={0:"\0",r:"\r",n:`
`,t:"	"};function l(g){return g.replace(o,function(f,d){switch(d){case"\\":case"":return d;default:return t[d]||""}})}function u(g,f){g=g.toString();var d=0,p=g.length,m=1,T=null,c=null,I=0,v=!1,N=!1,k=[],A=null;function R(K){return Error("illegal "+K+" (line "+m+")")}function y(K){return g.charAt(K)}function U(K,Z,oe){T=g.charAt(K++),I=m,v=!1,N=oe;var le,de=K-(f?2:3);do if(--de<0||(le=g.charAt(de))===`
`){v=!0;break}while(le===" "||le==="	");for(var Ee=g.substring(K,Z).split(s),re=0;re<Ee.length;++re)Ee[re]=Ee[re].replace(f?a:n,"").trim();c=Ee.join(`
`).trim()}function L(K){var Z=j(K),oe=g.substring(K,Z);return/^\s*\/{1,2}/.test(oe)}function j(K){for(var Z=K;Z<p&&y(Z)!==`
`;)Z++;return Z}function H(){if(k.length>0)return k.shift();if(A)return function(){var ue=A==="'"?r:e;ue.lastIndex=d-1;var Q=ue.exec(g);if(!Q)throw R("string");return d=ue.lastIndex,ee(A),A=null,l(Q[1])}();var K,Z,oe,le,de,Ee=d===0;do{if(d===p)return null;for(K=!1;i.test(oe=y(d));)if(oe===`
`&&(Ee=!0,++m),++d===p)return null;if(y(d)==="/"){if(++d===p)throw R("comment");if(y(d)==="/")if(f){if(le=d,de=!1,L(d)){de=!0;do{if((d=j(d))===p)break;d++}while(L(d))}else d=Math.min(p,j(d)+1);de&&U(le,d,Ee),m++,K=!0}else{for(de=y(le=d+1)==="/";y(++d)!==`
`;)if(d===p)return null;++d,de&&U(le,d-1,Ee),++m,K=!0}else{if((oe=y(d))!=="*")return"/";le=d+1,de=f||y(le)==="*";do{if(oe===`
`&&++m,++d===p)throw R("comment");Z=oe,oe=y(d)}while(Z!=="*"||oe!=="/");++d,de&&U(le,d-2,Ee),K=!0}}}while(K);var re=d;if(O.lastIndex=0,!O.test(y(re++)))for(;re<p&&!O.test(y(re));)++re;var z=g.substring(d,d=re);return z!=='"'&&z!=="'"||(A=z),z}function ee(K){k.push(K)}function F(){if(!k.length){var K=H();if(K===null)return null;ee(K)}return k[0]}return Object.defineProperty({next:H,peek:F,push:ee,skip:function(K,Z){var oe=F();if(oe===K)return H(),!0;if(!Z)throw R("token '"+oe+"', '"+K+"' expected");return!1},cmnt:function(K){var Z=null;return K===void 0?I===m-1&&(f||T==="*"||v)&&(Z=N?c:null):(I<K&&F(),I!==K||v||!f&&T!=="/"||(Z=N?null:c)),Z}},"line",{get:function(){return m}})}u.unescape=l},7645:function(h,O,e){h.exports=c;var r=e(9313);((c.prototype=Object.create(r.prototype)).constructor=c).className="Type";var n=e(7025),a=e(7598),s=e(3548),i=e(6039),o=e(7513),t=e(8368),l=e(1408),u=e(1173),g=e(9935),f=e(4928),d=e(5305),p=e(4497),m=e(3996),T=e(1667);function c(v,N){r.call(this,v,N),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function I(v){return v._fieldsById=v._fieldsArray=v._oneofsArray=null,delete v.encode,delete v.decode,delete v.verify,v}Object.defineProperties(c.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var v=Object.keys(this.fields),N=0;N<v.length;++N){var k=this.fields[v[N]],A=k.id;if(this._fieldsById[A])throw Error("duplicate id "+A+" in "+this);this._fieldsById[A]=k}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=g.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=g.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=c.generateConstructor(this)())},set:function(v){var N=v.prototype;N instanceof t||((v.prototype=new t).constructor=v,g.merge(v.prototype,N)),v.$type=v.prototype.$type=this,g.merge(v,t,!0),this._ctor=v;for(var k=0;k<this.fieldsArray.length;++k)this._fieldsArray[k].resolve();var A={};for(k=0;k<this.oneofsArray.length;++k)A[this._oneofsArray[k].resolve().name]={get:g.oneOfGetter(this._oneofsArray[k].oneof),set:g.oneOfSetter(this._oneofsArray[k].oneof)};k&&Object.defineProperties(v.prototype,A)}}}),c.generateConstructor=function(v){for(var N,k=g.codegen(["p"],v.name),A=0;A<v.fieldsArray.length;++A)(N=v._fieldsArray[A]).map?k("this%s={}",g.safeProp(N.name)):N.repeated&&k("this%s=[]",g.safeProp(N.name));return k("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},c.fromJSON=function(v,N){var k=new c(v,N.options);k.extensions=N.extensions,k.reserved=N.reserved;for(var A=Object.keys(N.fields),R=0;R<A.length;++R)k.add((N.fields[A[R]].keyType!==void 0?i.fromJSON:s.fromJSON)(A[R],N.fields[A[R]]));if(N.oneofs)for(A=Object.keys(N.oneofs),R=0;R<A.length;++R)k.add(a.fromJSON(A[R],N.oneofs[A[R]]));if(N.nested)for(A=Object.keys(N.nested),R=0;R<A.length;++R){var y=N.nested[A[R]];k.add((y.id!==void 0?s.fromJSON:y.fields!==void 0?c.fromJSON:y.values!==void 0?n.fromJSON:y.methods!==void 0?o.fromJSON:r.fromJSON)(A[R],y))}return N.extensions&&N.extensions.length&&(k.extensions=N.extensions),N.reserved&&N.reserved.length&&(k.reserved=N.reserved),N.group&&(k.group=!0),N.comment&&(k.comment=N.comment),k},c.prototype.toJSON=function(v){var N=r.prototype.toJSON.call(this,v),k=!!v&&!!v.keepComments;return g.toObject(["options",N&&N.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,v),"fields",r.arrayToJSON(this.fieldsArray.filter(function(A){return!A.declaringField}),v)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",N&&N.nested||void 0,"comment",k?this.comment:void 0])},c.prototype.resolveAll=function(){for(var v=this.fieldsArray,N=0;N<v.length;)v[N++].resolve();var k=this.oneofsArray;for(N=0;N<k.length;)k[N++].resolve();return r.prototype.resolveAll.call(this)},c.prototype.get=function(v){return this.fields[v]||this.oneofs&&this.oneofs[v]||this.nested&&this.nested[v]||null},c.prototype.add=function(v){if(this.get(v.name))throw Error("duplicate name '"+v.name+"' in "+this);if(v instanceof s&&v.extend===void 0){if(this._fieldsById?this._fieldsById[v.id]:this.fieldsById[v.id])throw Error("duplicate id "+v.id+" in "+this);if(this.isReservedId(v.id))throw Error("id "+v.id+" is reserved in "+this);if(this.isReservedName(v.name))throw Error("name '"+v.name+"' is reserved in "+this);return v.parent&&v.parent.remove(v),this.fields[v.name]=v,v.message=this,v.onAdd(this),I(this)}return v instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[v.name]=v,v.onAdd(this),I(this)):r.prototype.add.call(this,v)},c.prototype.remove=function(v){if(v instanceof s&&v.extend===void 0){if(!this.fields||this.fields[v.name]!==v)throw Error(v+" is not a member of "+this);return delete this.fields[v.name],v.parent=null,v.onRemove(this),I(this)}if(v instanceof a){if(!this.oneofs||this.oneofs[v.name]!==v)throw Error(v+" is not a member of "+this);return delete this.oneofs[v.name],v.parent=null,v.onRemove(this),I(this)}return r.prototype.remove.call(this,v)},c.prototype.isReservedId=function(v){return r.isReservedId(this.reserved,v)},c.prototype.isReservedName=function(v){return r.isReservedName(this.reserved,v)},c.prototype.create=function(v){return new this.ctor(v)},c.prototype.setup=function(){for(var v=this.fullName,N=[],k=0;k<this.fieldsArray.length;++k)N.push(this._fieldsArray[k].resolve().resolvedType);this.encode=f(this)({Writer:u,types:N,util:g}),this.decode=d(this)({Reader:l,types:N,util:g}),this.verify=p(this)({types:N,util:g}),this.fromObject=m.fromObject(this)({types:N,util:g}),this.toObject=m.toObject(this)({types:N,util:g});var A=T[v];if(A){var R=Object.create(this);R.fromObject=this.fromObject,this.fromObject=A.fromObject.bind(R),R.toObject=this.toObject,this.toObject=A.toObject.bind(R)}return this},c.prototype.encode=function(v,N){return this.setup().encode(v,N)},c.prototype.encodeDelimited=function(v,N){return this.encode(v,N&&N.len?N.fork():N).ldelim()},c.prototype.decode=function(v,N){return this.setup().decode(v,N)},c.prototype.decodeDelimited=function(v){return v instanceof l||(v=l.create(v)),this.decode(v,v.uint32())},c.prototype.verify=function(v){return this.setup().verify(v)},c.prototype.fromObject=function(v){return this.setup().fromObject(v)},c.prototype.toObject=function(v,N){return this.setup().toObject(v,N)},c.d=function(v){return function(N){g.decorateType(N,v)}}},7063:function(h,O,e){var r=O,n=e(9935),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(i,o){var t=0,l={};for(o|=0;t<i.length;)l[a[t+o]]=i[t++];return l}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:function(h,O,e){var r,n,a=h.exports=e(9693),s=e(5054);a.codegen=e(5124),a.fetch=e(9054),a.path=e(8626),a.fs=a.inquire("fs"),a.toArray=function(u){if(u){for(var g=Object.keys(u),f=new Array(g.length),d=0;d<g.length;)f[d]=u[g[d++]];return f}return[]},a.toObject=function(u){for(var g={},f=0;f<u.length;){var d=u[f++],p=u[f++];p!==void 0&&(g[d]=p)}return g};var i=/\\/g,o=/"/g;a.isReserved=function(u){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(u)},a.safeProp=function(u){return!/^[$\w_]+$/.test(u)||a.isReserved(u)?'["'+u.replace(i,"\\\\").replace(o,'\\"')+'"]':"."+u},a.ucFirst=function(u){return u.charAt(0).toUpperCase()+u.substring(1)};var t=/_([a-z])/g;a.camelCase=function(u){return u.substring(0,1)+u.substring(1).replace(t,function(g,f){return f.toUpperCase()})},a.compareFieldsById=function(u,g){return u.id-g.id},a.decorateType=function(u,g){if(u.$type)return g&&u.$type.name!==g&&(a.decorateRoot.remove(u.$type),u.$type.name=g,a.decorateRoot.add(u.$type)),u.$type;r||(r=e(7645));var f=new r(g||u.name);return a.decorateRoot.add(f),f.ctor=u,Object.defineProperty(u,"$type",{value:f,enumerable:!1}),Object.defineProperty(u.prototype,"$type",{value:f,enumerable:!1}),f};var l=0;a.decorateEnum=function(u){if(u.$type)return u.$type;n||(n=e(7025));var g=new n("Enum"+l++,u);return a.decorateRoot.add(g),Object.defineProperty(u,"$type",{value:g,enumerable:!1}),g},a.setProperty=function(u,g,f){if(typeof u!="object")throw TypeError("dst must be an object");if(!g)throw TypeError("path must be specified");return function d(p,m,T){var c=m.shift();if(c==="__proto__")return p;if(m.length>0)p[c]=d(p[c]||{},m,T);else{var I=p[c];I&&(T=[].concat(I).concat(T)),p[c]=T}return p}(u,g=g.split("."),f)},Object.defineProperty(a,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(e(9424)))}})},1945:function(h,O,e){h.exports=n;var r=e(9693);function n(o,t){this.lo=o>>>0,this.hi=t>>>0}var a=n.zero=new n(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(o){if(o===0)return a;var t=o<0;t&&(o=-o);var l=o>>>0,u=(o-l)/4294967296>>>0;return t&&(u=~u>>>0,l=~l>>>0,++l>4294967295&&(l=0,++u>4294967295&&(u=0))),new n(l,u)},n.from=function(o){if(typeof o=="number")return n.fromNumber(o);if(r.isString(o)){if(!r.Long)return n.fromNumber(parseInt(o,10));o=r.Long.fromString(o)}return o.low||o.high?new n(o.low>>>0,o.high>>>0):a},n.prototype.toNumber=function(o){if(!o&&this.hi>>>31){var t=1+~this.lo>>>0,l=~this.hi>>>0;return t||(l=l+1>>>0),-(t+4294967296*l)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(o){return r.Long?new r.Long(0|this.lo,0|this.hi,!!o):{low:0|this.lo,high:0|this.hi,unsigned:!!o}};var i=String.prototype.charCodeAt;n.fromHash=function(o){return o===s?a:new n((i.call(o,0)|i.call(o,1)<<8|i.call(o,2)<<16|i.call(o,3)<<24)>>>0,(i.call(o,4)|i.call(o,5)<<8|i.call(o,6)<<16|i.call(o,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var o=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o)>>>0,this.lo=(this.lo<<1^o)>>>0,this},n.prototype.zzDecode=function(){var o=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^o)>>>0,this.hi=(this.hi>>>1^o)>>>0,this},n.prototype.length=function(){var o=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,l=this.hi>>>24;return l===0?t===0?o<16384?o<128?1:2:o<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:l<128?9:10}},9693:function(h,O,e){var r=O;function n(s,i,o){for(var t=Object.keys(i),l=0;l<t.length;++l)s[t[l]]!==void 0&&o||(s[t[l]]=i[t[l]]);return s}function a(s){function i(o,t){if(!(this instanceof i))return new i(o,t);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&n(this,t)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return s}}),i.prototype.toString=function(){return this.name+": "+this.message},i}r.asPromise=e(4537),r.base64=e(7419),r.EventEmitter=e(9211),r.float=e(945),r.inquire=e(7199),r.utf8=e(4997),r.pool=e(6662),r.LongBits=e(1945),r.isNode=!!(e.g!==void 0&&e.g&&e.g.process&&e.g.process.versions&&e.g.process.versions.node),r.global=r.isNode&&e.g||typeof window<"u"&&window||typeof self<"u"&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},r.isString=function(s){return typeof s=="string"||s instanceof String},r.isObject=function(s){return s&&typeof s=="object"},r.isset=r.isSet=function(s,i){var o=s[i];return!(o==null||!s.hasOwnProperty(i))&&(typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},r.Buffer=function(){try{var s=r.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(s){return typeof s=="number"?r.Buffer?r._Buffer_allocUnsafe(s):new r.Array(s):r.Buffer?r._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},r.Array=typeof Uint8Array<"u"?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(s){return s?r.LongBits.from(s).toHash():r.LongBits.zeroHash},r.longFromHash=function(s,i){var o=r.LongBits.fromHash(s);return r.Long?r.Long.fromBits(o.lo,o.hi,i):o.toNumber(!!i)},r.merge=n,r.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(s){for(var i={},o=0;o<s.length;++o)i[s[o]]=1;return function(){for(var t=Object.keys(this),l=t.length-1;l>-1;--l)if(i[t[l]]===1&&this[t[l]]!==void 0&&this[t[l]]!==null)return t[l]}},r.oneOfSetter=function(s){return function(i){for(var o=0;o<s.length;++o)s[o]!==i&&delete this[s[o]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var s=r.Buffer;s?(r._Buffer_from=s.from!==Uint8Array.from&&s.from||function(i,o){return new s(i,o)},r._Buffer_allocUnsafe=s.allocUnsafe||function(i){return new s(i)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:function(h,O,e){h.exports=function(o){var t=n.codegen(["m"],o.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),l={};o.oneofsArray.length&&t("var p={}");for(var u=0;u<o.fieldsArray.length;++u){var g=o._fieldsArray[u].resolve(),f="m"+n.safeProp(g.name);if(g.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",f,g.name),g.map)t("if(!util.isObject(%s))",f)("return%j",a(g,"object"))("var k=Object.keys(%s)",f)("for(var i=0;i<k.length;++i){"),i(t,g,"k[i]"),s(t,g,u,f+"[k[i]]")("}");else if(g.repeated)t("if(!Array.isArray(%s))",f)("return%j",a(g,"array"))("for(var i=0;i<%s.length;++i){",f),s(t,g,u,f+"[i]")("}");else{if(g.partOf){var d=n.safeProp(g.partOf.name);l[g.partOf.name]===1&&t("if(p%s===1)",d)("return%j",g.partOf.name+": multiple values"),l[g.partOf.name]=1,t("p%s=1",d)}s(t,g,u,f)}g.optional&&t("}")}return t("return null")};var r=e(7025),n=e(9935);function a(o,t){return o.name+": "+t+(o.repeated&&t!=="array"?"[]":o.map&&t!=="object"?"{k:"+o.keyType+"}":"")+" expected"}function s(o,t,l,u){if(t.resolvedType)if(t.resolvedType instanceof r){o("switch(%s){",u)("default:")("return%j",a(t,"enum value"));for(var g=Object.keys(t.resolvedType.values),f=0;f<g.length;++f)o("case %i:",t.resolvedType.values[g[f]]);o("break")("}")}else o("{")("var e=types[%i].verify(%s);",l,u)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.isInteger(%s))",u)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",u,u,u,u)("return%j",a(t,"integer|Long"));break;case"float":case"double":o('if(typeof %s!=="number")',u)("return%j",a(t,"number"));break;case"bool":o('if(typeof %s!=="boolean")',u)("return%j",a(t,"boolean"));break;case"string":o("if(!util.isString(%s))",u)("return%j",a(t,"string"));break;case"bytes":o('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',u,u,u)("return%j",a(t,"buffer"))}return o}function i(o,t,l){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.key32Re.test(%s))",l)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.key64Re.test(%s))",l)("return%j",a(t,"integer|Long key"));break;case"bool":o("if(!util.key2Re.test(%s))",l)("return%j",a(t,"boolean key"))}return o}},1667:function(h,O,e){var r=O,n=e(8368);r[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var s=a["@type"].substring(a["@type"].lastIndexOf("/")+1),i=this.lookup(s);if(i){var o=a["@type"].charAt(0)==="."?a["@type"].substr(1):a["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:i.encode(i.fromObject(a)).finish()})}}return this.fromObject(a)},toObject:function(a,s){var i="",o="";if(s&&s.json&&a.type_url&&a.value){o=a.type_url.substring(a.type_url.lastIndexOf("/")+1),i=a.type_url.substring(0,a.type_url.lastIndexOf("/")+1);var t=this.lookup(o);t&&(a=t.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof n){var l=a.$type.toObject(a,s);return i===""&&(i="type.googleapis.com/"),o=i+(a.$type.fullName[0]==="."?a.$type.fullName.substr(1):a.$type.fullName),l["@type"]=o,l}return this.toObject(a,s)}}},1173:function(h,O,e){h.exports=u;var r,n=e(9693),a=n.LongBits,s=n.base64,i=n.utf8;function o(c,I,v){this.fn=c,this.len=I,this.next=void 0,this.val=v}function t(){}function l(c){this.head=c.head,this.tail=c.tail,this.len=c.len,this.next=c.states}function u(){this.len=0,this.head=new o(t,0,0),this.tail=this.head,this.states=null}var g=function(){return n.Buffer?function(){return(u.create=function(){return new r})()}:function(){return new u}};function f(c,I,v){I[v]=255&c}function d(c,I){this.len=c,this.next=void 0,this.val=I}function p(c,I,v){for(;c.hi;)I[v++]=127&c.lo|128,c.lo=(c.lo>>>7|c.hi<<25)>>>0,c.hi>>>=7;for(;c.lo>127;)I[v++]=127&c.lo|128,c.lo=c.lo>>>7;I[v++]=c.lo}function m(c,I,v){I[v]=255&c,I[v+1]=c>>>8&255,I[v+2]=c>>>16&255,I[v+3]=c>>>24}u.create=g(),u.alloc=function(c){return new n.Array(c)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(c,I,v){return this.tail=this.tail.next=new o(c,I,v),this.len+=I,this},d.prototype=Object.create(o.prototype),d.prototype.fn=function(c,I,v){for(;c>127;)I[v++]=127&c|128,c>>>=7;I[v]=c},u.prototype.uint32=function(c){return this.len+=(this.tail=this.tail.next=new d((c>>>=0)<128?1:c<16384?2:c<2097152?3:c<268435456?4:5,c)).len,this},u.prototype.int32=function(c){return c<0?this._push(p,10,a.fromNumber(c)):this.uint32(c)},u.prototype.sint32=function(c){return this.uint32((c<<1^c>>31)>>>0)},u.prototype.uint64=function(c){var I=a.from(c);return this._push(p,I.length(),I)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(c){var I=a.from(c).zzEncode();return this._push(p,I.length(),I)},u.prototype.bool=function(c){return this._push(f,1,c?1:0)},u.prototype.fixed32=function(c){return this._push(m,4,c>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(c){var I=a.from(c);return this._push(m,4,I.lo)._push(m,4,I.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(c){return this._push(n.float.writeFloatLE,4,c)},u.prototype.double=function(c){return this._push(n.float.writeDoubleLE,8,c)};var T=n.Array.prototype.set?function(c,I,v){I.set(c,v)}:function(c,I,v){for(var N=0;N<c.length;++N)I[v+N]=c[N]};u.prototype.bytes=function(c){var I=c.length>>>0;if(!I)return this._push(f,1,0);if(n.isString(c)){var v=u.alloc(I=s.length(c));s.decode(c,v,0),c=v}return this.uint32(I)._push(T,I,c)},u.prototype.string=function(c){var I=i.length(c);return I?this.uint32(I)._push(i.write,I,c):this._push(f,1,0)},u.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new o(t,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(t,0,0),this.len=0),this},u.prototype.ldelim=function(){var c=this.head,I=this.tail,v=this.len;return this.reset().uint32(v),v&&(this.tail.next=c.next,this.tail=I,this.len+=v),this},u.prototype.finish=function(){for(var c=this.head.next,I=this.constructor.alloc(this.len),v=0;c;)c.fn(c.val,I,v),v+=c.len,c=c.next;return I},u._configure=function(c){r=c,u.create=g(),r._configure()}},3155:function(h,O,e){h.exports=a;var r=e(1173);(a.prototype=Object.create(r.prototype)).constructor=a;var n=e(9693);function a(){r.call(this)}function s(i,o,t){i.length<40?n.utf8.write(i,o,t):o.utf8Write?o.utf8Write(i,t):o.write(i,t)}a._configure=function(){a.alloc=n._Buffer_allocUnsafe,a.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(i,o,t){o.set(i,t)}:function(i,o,t){if(i.copy)i.copy(o,t,0,i.length);else for(var l=0;l<i.length;)o[t++]=i[l++]}},a.prototype.bytes=function(i){n.isString(i)&&(i=n._Buffer_from(i,"base64"));var o=i.length>>>0;return this.uint32(o),o&&this._push(a.writeBytesBuffer,o,i),this},a.prototype.string=function(i){var o=n.Buffer.byteLength(i);return this.uint32(o),o&&this._push(s,o,i),this},a._configure()},7129:function(h,O){var e=Object.prototype.hasOwnProperty;function r(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch{return null}}function n(a){try{return encodeURIComponent(a)}catch{return null}}O.stringify=function(a,s){s=s||"";var i,o,t=[];for(o in typeof s!="string"&&(s="?"),a)if(e.call(a,o)){if((i=a[o])||i!=null&&!isNaN(i)||(i=""),o=n(o),i=n(i),o===null||i===null)continue;t.push(o+"="+i)}return t.length?s+t.join("&"):""},O.parse=function(a){for(var s,i=/([^=?#&]+)=?([^&]*)/g,o={};s=i.exec(a);){var t=r(s[1]),l=r(s[2]);t===null||l===null||t in o||(o[t]=l)}return o}},7418:function(h){h.exports=function(O,e){if(e=e.split(":")[0],!(O=+O))return!1;switch(e){case"http":case"ws":return O!==80;case"https":case"wss":return O!==443;case"ftp":return O!==21;case"gopher":return O!==70;case"file":return!1}return O!==0}},8e3:function(h,O,e){var r=e(7581);h.exports=e(3626)(r),"_sockjs_onload"in e.g&&setTimeout(e.g._sockjs_onload,1)},2530:function(h,O,e){var r=e(5717),n=e(685);function a(){n.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(a,n),h.exports=a},3212:function(h,O,e){var r=e(5717),n=e(3184);function a(){n.call(this)}r(a,n),a.prototype.removeAllListeners=function(s){s?delete this._listeners[s]:this._listeners={}},a.prototype.once=function(s,i){var o=this,t=!1;this.on(s,function l(){o.removeListener(s,l),t||(t=!0,i.apply(this,arguments))})},a.prototype.emit=function(){var s=arguments[0],i=this._listeners[s];if(i){for(var o=arguments.length,t=new Array(o-1),l=1;l<o;l++)t[l-1]=arguments[l];for(var u=0;u<i.length;u++)i[u].apply(this,t)}},a.prototype.on=a.prototype.addListener=n.prototype.addEventListener,a.prototype.removeListener=n.prototype.removeEventListener,h.exports.v=a},685:function(h){function O(e){this.type=e}O.prototype.initEvent=function(e,r,n){return this.type=e,this.bubbles=r,this.cancelable=n,this.timeStamp=+new Date,this},O.prototype.stopPropagation=function(){},O.prototype.preventDefault=function(){},O.CAPTURING_PHASE=1,O.AT_TARGET=2,O.BUBBLING_PHASE=3,h.exports=O},3184:function(h){function O(){this._listeners={}}O.prototype.addEventListener=function(e,r){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(r)===-1&&(n=n.concat([r])),this._listeners[e]=n},O.prototype.removeEventListener=function(e,r){var n=this._listeners[e];if(n){var a=n.indexOf(r);a===-1||(n.length>1?this._listeners[e]=n.slice(0,a).concat(n.slice(a+1)):delete this._listeners[e])}},O.prototype.dispatchEvent=function(){var e=arguments[0],r=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+r]&&this["on"+r].apply(this,n),r in this._listeners)for(var a=this._listeners[r],s=0;s<a.length;s++)a[s].apply(this,n)},h.exports=O},3326:function(h,O,e){var r=e(5717),n=e(685);function a(s){n.call(this),this.initEvent("message",!1,!1),this.data=s}r(a,n),h.exports=a},691:function(h,O,e){var r=e(3683);function n(a){this._transport=a,a.on("message",this._transportMessage.bind(this)),a.on("close",this._transportClose.bind(this))}n.prototype._transportClose=function(a,s){r.postMessage("c",JSON.stringify([a,s]))},n.prototype._transportMessage=function(a){r.postMessage("t",a)},n.prototype._send=function(a){this._transport.send(a)},n.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},h.exports=n},551:function(h,O,e){var r=e(273),n=e(7705),a=e(691),s=e(6311),i=e(3683),o=e(7486);h.exports=function(t,l){var u,g={};l.forEach(function(f){f.facadeTransport&&(g[f.facadeTransport.transportName]=f.facadeTransport)}),g[s.transportName]=s,t.bootstrap_iframe=function(){var f;i.currentWindowId=o.hash.slice(1),n.attachEvent("message",function(d){if(d.source===parent&&(u===void 0&&(u=d.origin),d.origin===u)){var p;try{p=JSON.parse(d.data)}catch{return void d.data}if(p.windowId===i.currentWindowId)switch(p.type){case"s":var m;try{m=JSON.parse(p.data)}catch{p.data;break}var T=m[0],c=m[1],I=m[2],v=m[3];if(T!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+T+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(I,o.href)||!r.isOriginEqual(v,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+I+", "+v+")");f=new a(new g[c](I,v));break;case"m":f._send(p.data);break;case"c":f&&f._close(),f=null}}}),i.postMessage("s")}}},2550:function(h,O,e){var r=e(3212).v,n=e(5717),a=e(2217);function s(i,o){r.call(this);var t=this,l=+new Date;this.xo=new o("GET",i),this.xo.once("finish",function(u,g){var f,d;if(u===200){if(d=+new Date-l,g)try{f=JSON.parse(g)}catch{}a.isObject(f)||(f={})}t.emit("finish",f,d),t.removeAllListeners()})}n(s,r),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},h.exports=s},6311:function(h,O,e){var r=e(5717),n=e(3212).v,a=e(3515),s=e(2550);function i(o){var t=this;n.call(this),this.ir=new s(o,a),this.ir.once("finish",function(l,u){t.ir=null,t.emit("message",JSON.stringify([l,u]))})}r(i,n),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},h.exports=i},3616:function(h,O,e){var r=e(3212).v,n=e(5717),a=e(7705),s=e(5088),i=e(6311);function o(t,l){var u=this;r.call(this);var g=function(){var f=u.ifr=new s(i.transportName,l,t);f.once("message",function(d){if(d){var p;try{p=JSON.parse(d)}catch{return u.emit("finish"),void u.close()}var m=p[0],T=p[1];u.emit("finish",m,T)}u.close()}),f.once("close",function(){u.emit("finish"),u.close()})};e.g.document.body?g():a.attachEvent("load",g)}n(o,r),o.enabled=function(){return s.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},h.exports=o},5172:function(h,O,e){var r=e(3212).v,n=e(5717),a=e(273),s=e(6073),i=e(9033),o=e(3515),t=e(7103),l=e(3616),u=e(2550);function g(f,d){var p=this;r.call(this),setTimeout(function(){p.doXhr(f,d)},0)}n(g,r),g._getReceiver=function(f,d,p){return p.sameOrigin?new u(d,o):i.enabled?new u(d,i):s.enabled&&p.sameScheme?new u(d,s):l.enabled()?new l(f,d):new u(d,t)},g.prototype.doXhr=function(f,d){var p=this,m=a.addPath(f,"/info");this.xo=g._getReceiver(f,m,d),this.timeoutRef=setTimeout(function(){p._cleanup(!1),p.emit("finish")},g.timeout),this.xo.once("finish",function(T,c){p._cleanup(!0),p.emit("finish",T,c)})},g.prototype._cleanup=function(f){clearTimeout(this.timeoutRef),this.timeoutRef=null,!f&&this.xo&&this.xo.close(),this.xo=null},g.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},g.timeout=8e3,h.exports=g},7486:function(h,O,e){h.exports=e.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3626:function(h,O,e){e(1247);var r,n=e(4564),a=e(5717),s=e(8915),i=e(8028),o=e(273),t=e(7705),l=e(5581),u=e(2217),g=e(8510),f=e(4886),d=e(685),p=e(3184),m=e(7486),T=e(2530),c=e(3326),I=e(5172);function v(k,A,R){if(!(this instanceof v))return new v(k,A,R);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=v.CONNECTING,this.extensions="",this.protocol="",(R=R||{}).protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=R.transports,this._transportOptions=R.transportOptions||{},this._timeout=R.timeout||0;var y=R.sessionId||8;if(typeof y=="function")this._generateSessionId=y;else{if(typeof y!="number")throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(y)}}this._server=R.server||s.numberString(1e3);var U=new n(k);if(!U.host||!U.protocol)throw new SyntaxError("The URL '"+k+"' is invalid");if(U.hash)throw new SyntaxError("The URL must not contain a fragment");if(U.protocol!=="http:"&&U.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+U.protocol+"' is not allowed.");var L=U.protocol==="https:";if(m.protocol==="https:"&&!L&&!o.isLoopbackAddr(U.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");A?Array.isArray(A)||(A=[A]):A=[];var j=A.sort();j.forEach(function(ee,F){if(!ee)throw new SyntaxError("The protocols entry '"+ee+"' is invalid.");if(F<j.length-1&&ee===j[F+1])throw new SyntaxError("The protocols entry '"+ee+"' is duplicated.")});var H=o.getOrigin(m.href);this._origin=H?H.toLowerCase():null,U.set("pathname",U.pathname.replace(/\/+$/,"")),this.url=U.href,this.url,this._urlInfo={nullOrigin:!g.hasDomain(),sameOrigin:o.isOriginEqual(this.url,m.href),sameScheme:o.isSchemeEqual(this.url,m.href)},this._ir=new I(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function N(k){return k===1e3||k>=3e3&&k<=4999}a(v,p),v.prototype.close=function(k,A){if(k&&!N(k))throw new Error("InvalidAccessError: Invalid code");if(A&&A.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==v.CLOSING&&this.readyState!==v.CLOSED&&this._close(k||1e3,A||"Normal closure",!0)},v.prototype.send=function(k){if(typeof k!="string"&&(k=""+k),this.readyState===v.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===v.OPEN&&this._transport.send(i.quote(k))},v.version=e(2828),v.CONNECTING=0,v.OPEN=1,v.CLOSING=2,v.CLOSED=3,v.prototype._receiveInfo=function(k,A){if(this._ir=null,k){this._rto=this.countRTO(A),this._transUrl=k.base_url?k.base_url:this.url,k=u.extend(k,this._urlInfo);var R=r.filterToEnabled(this._transportsWhitelist,k);this._transports=R.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},v.prototype._connect=function(){for(var k=this._transports.shift();k;k=this._transports.shift()){if(k.transportName,k.needBody&&(!e.g.document.body||e.g.document.readyState!==void 0&&e.g.document.readyState!=="complete"&&e.g.document.readyState!=="interactive"))return this._transports.unshift(k),void t.attachEvent("load",this._connect.bind(this));var A=Math.max(this._timeout,this._rto*k.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),A);var R=o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),y=this._transportOptions[k.transportName],U=new k(R,this._transUrl,y);return U.on("message",this._transportMessage.bind(this)),U.once("close",this._transportClose.bind(this)),U.transportName=k.transportName,void(this._transport=U)}this._close(2e3,"All transports failed",!1)},v.prototype._transportTimeout=function(){this.readyState===v.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},v.prototype._transportMessage=function(k){var A,R=this,y=k.slice(0,1),U=k.slice(1);switch(y){case"o":return void this._open();case"h":return this.dispatchEvent(new d("heartbeat")),void this.transport}if(U)try{A=JSON.parse(U)}catch{}if(A!==void 0)switch(y){case"a":Array.isArray(A)&&A.forEach(function(L){R.transport,R.dispatchEvent(new c(L))});break;case"m":this.transport,this.dispatchEvent(new c(A));break;case"c":Array.isArray(A)&&A.length===2&&this._close(A[0],A[1],!0)}},v.prototype._transportClose=function(k,A){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),N(k)||k===2e3||this.readyState!==v.CONNECTING?this._close(k,A):this._connect()},v.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===v.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=v.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new d("open")),this.transport):this._close(1006,"Server lost session")},v.prototype._close=function(k,A,R){this.transport,this.readyState;var y=!1;if(this._ir&&(y=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===v.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=v.CLOSING,setTimeout((function(){this.readyState=v.CLOSED,y&&this.dispatchEvent(new d("error"));var U=new T("close");U.wasClean=R||!1,U.code=k||1e3,U.reason=A,this.dispatchEvent(U),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},v.prototype.countRTO=function(k){return k>100?4*k:300+k},h.exports=function(k){return r=l(k),e(551)(v,k),v}},1247:function(){var h,O=Array.prototype,e=Object.prototype,r=Function.prototype,n=String.prototype,a=O.slice,s=e.toString,i=function(A){return e.toString.call(A)==="[object Function]"},o=function(A){return s.call(A)==="[object String]"},t=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}();h=t?function(A,R,y,U){!U&&R in A||Object.defineProperty(A,R,{configurable:!0,enumerable:!1,writable:!0,value:y})}:function(A,R,y,U){!U&&R in A||(A[R]=y)};var l=function(A,R,y){for(var U in R)e.hasOwnProperty.call(R,U)&&h(A,U,R[U],y)},u=function(A){if(A==null)throw new TypeError("can't convert "+A+" to object");return Object(A)};function g(A){var R=+A;return R!=R?R=0:R!==0&&R!==1/0&&R!==-1/0&&(R=(R>0||-1)*Math.floor(Math.abs(R))),R}function f(){}l(r,{bind:function(A){var R=this;if(!i(R))throw new TypeError("Function.prototype.bind called on incompatible "+R);for(var y=a.call(arguments,1),U=function(){if(this instanceof ee){var F=R.apply(this,y.concat(a.call(arguments)));return Object(F)===F?F:this}return R.apply(A,y.concat(a.call(arguments)))},L=Math.max(0,R.length-y.length),j=[],H=0;H<L;H++)j.push("$"+H);var ee=Function("binder","return function ("+j.join(",")+"){ return binder.apply(this, arguments); }")(U);return R.prototype&&(f.prototype=R.prototype,ee.prototype=new f,f.prototype=null),ee}}),l(Array,{isArray:function(A){return s.call(A)==="[object Array]"}});var d,p,m,T=Object("a"),c=T[0]!=="a"||!(0 in T);l(O,{forEach:function(A){var R=u(this),y=c&&o(this)?this.split(""):R,U=arguments[1],L=-1,j=y.length>>>0;if(!i(A))throw new TypeError;for(;++L<j;)L in y&&A.call(U,y[L],L,R)}},(d=O.forEach,p=!0,m=!0,d&&(d.call("foo",function(A,R,y){typeof y!="object"&&(p=!1)}),d.call([1],function(){m=typeof this=="string"},"x")),!(d&&p&&m)));var I=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;l(O,{indexOf:function(A){var R=c&&o(this)?this.split(""):u(this),y=R.length>>>0;if(!y)return-1;var U=0;for(arguments.length>1&&(U=g(arguments[1])),U=U>=0?U:Math.max(0,y+U);U<y;U++)if(U in R&&R[U]===A)return U;return-1}},I);var v,N=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(v=/()??/.exec("")[1]===void 0,n.split=function(A,R){var y=this;if(A===void 0&&R===0)return[];if(s.call(A)!=="[object RegExp]")return N.call(this,A,R);var U,L,j,H,ee=[],F=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.extended?"x":"")+(A.sticky?"y":""),K=0;for(A=new RegExp(A.source,F+"g"),y+="",v||(U=new RegExp("^"+A.source+"$(?!\\s)",F)),R=R===void 0?4294967295:R>>>0;(L=A.exec(y))&&!((j=L.index+L[0].length)>K&&(ee.push(y.slice(K,L.index)),!v&&L.length>1&&L[0].replace(U,function(){for(var Z=1;Z<arguments.length-2;Z++)arguments[Z]===void 0&&(L[Z]=void 0)}),L.length>1&&L.index<y.length&&O.push.apply(ee,L.slice(1)),H=L[0].length,K=j,ee.length>=R));)A.lastIndex===L.index&&A.lastIndex++;return K===y.length?!H&&A.test("")||ee.push(""):ee.push(y.slice(K)),ee.length>R?ee.slice(0,R):ee}):"0".split(void 0,0).length&&(n.split=function(A,R){return A===void 0&&R===0?[]:N.call(this,A,R)});var k=n.substr;l(n,{substr:function(A,R){return k.call(this,A<0&&(A=this.length+A)<0?0:A,R)}},"".substr&&"0b".substr(-1)!=="b")},7581:function(h,O,e){h.exports=[e(2412),e(9842),e(4620),e(3004),e(882)(e(3004)),e(5616),e(882)(e(5616)),e(2387),e(9998),e(882)(e(2387)),e(5375)]},2940:function(h,O,e){var r=e(3212).v,n=e(5717),a=e(7705),s=e(273),i=e.g.XMLHttpRequest;function o(u,g,f,d){var p=this;r.call(this),setTimeout(function(){p._start(u,g,f,d)},0)}n(o,r),o.prototype._start=function(u,g,f,d){var p=this;try{this.xhr=new i}catch{}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();g=s.addQuery(g,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){p._cleanup(!0)});try{this.xhr.open(u,g,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){p.emit("finish",0,""),p._cleanup(!1)})}catch{return this.emit("finish",0,""),void this._cleanup(!1)}if(d&&d.noCredentials||!o.supportsCORS||(this.xhr.withCredentials=!0),d&&d.headers)for(var m in d.headers)this.xhr.setRequestHeader(m,d.headers[m]);this.xhr.onreadystatechange=function(){if(p.xhr){var T,c,I=p.xhr;switch(I.readyState,I.readyState){case 3:try{c=I.status,T=I.responseText}catch{}c===1223&&(c=204),c===200&&T&&T.length>0&&p.emit("chunk",c,T);break;case 4:(c=I.status)===1223&&(c=204),c!==12005&&c!==12029||(c=0),I.responseText,p.emit("finish",c,I.responseText),p._cleanup(!1)}}};try{p.xhr.send(f)}catch{p.emit("finish",0,""),p._cleanup(!1)}},o.prototype._cleanup=function(u){if(this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),u)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},o.prototype.close=function(){this._cleanup(!0)},o.enabled=!!i;var t=["Active"].concat("Object").join("X");!o.enabled&&t in e.g&&(i=function(){try{return new e.g[t]("Microsoft.XMLHTTP")}catch{return null}},o.enabled=!!new i);var l=!1;try{l="withCredentials"in new i}catch{}o.supportsCORS=l,h.exports=o},3759:function(h,O,e){h.exports=e.g.EventSource},9334:function(h,O,e){var r=e.g.WebSocket||e.g.MozWebSocket;h.exports=r?function(n){return new r(n)}:void 0},3004:function(h,O,e){var r=e(5717),n=e(9395),a=e(6709),s=e(9033),i=e(3759);function o(t){if(!o.enabled())throw new Error("Transport created when disabled");n.call(this,t,"/eventsource",a,s)}r(o,n),o.enabled=function(){return!!i},o.transportName="eventsource",o.roundTrips=2,h.exports=o},5616:function(h,O,e){var r=e(5717),n=e(3608),a=e(3515),s=e(9395);function i(o){if(!n.enabled)throw new Error("Transport created when disabled");s.call(this,o,"/htmlfile",n,a)}r(i,s),i.enabled=function(o){return n.enabled&&o.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,h.exports=i},5088:function(h,O,e){var r=e(5717),n=e(3212).v,a=e(2828),s=e(273),i=e(3683),o=e(7705),t=e(8915);function l(u,g,f){if(!l.enabled())throw new Error("Transport created when disabled");n.call(this);var d=this;this.origin=s.getOrigin(f),this.baseUrl=f,this.transUrl=g,this.transport=u,this.windowId=t.string(8);var p=s.addPath(f,"/iframe.html")+"#"+this.windowId;this.iframeObj=i.createIframe(p,function(m){d.emit("close",1006,"Unable to load an iframe ("+m+")"),d.close()}),this.onmessageCallback=this._message.bind(this),o.attachEvent("message",this.onmessageCallback)}r(l,n),l.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){o.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(u){if(u.data,!s.isOriginEqual(u.origin,this.origin))return u.origin,void this.origin;var g;try{g=JSON.parse(u.data)}catch{return void u.data}if(g.windowId!==this.windowId)return g.windowId,void this.windowId;switch(g.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",g.data);break;case"c":var f;try{f=JSON.parse(g.data)}catch{return void g.data}this.emit("close",f[0],f[1]),this.close()}},l.prototype.postMessage=function(u,g){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:u,data:g||""}),this.origin)},l.prototype.send=function(u){this.postMessage("m",u)},l.enabled=function(){return i.iframeEnabled},l.transportName="iframe",l.roundTrips=2,h.exports=l},5375:function(h,O,e){var r=e(5717),n=e(8347),a=e(514),s=e(771);function i(o){if(!i.enabled())throw new Error("Transport created when disabled");n.call(this,o,"/jsonp",s,a)}r(i,n),i.enabled=function(){return!!e.g.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,h.exports=i},9395:function(h,O,e){var r=e(5717),n=e(273),a=e(8347);function s(i,o,t,l){a.call(this,i,o,function(u){return function(g,f,d){var p={};typeof f=="string"&&(p.headers={"Content-type":"text/plain"});var m=n.addPath(g,"/xhr_send"),T=new u("POST",m,f,p);return T.once("finish",function(c){if(T=null,c!==200&&c!==204)return d(new Error("http status "+c));d()}),function(){T.close(),T=null;var c=new Error("Aborted");c.code=1e3,d(c)}}}(l),t,l)}r(s,a),h.exports=s},1851:function(h,O,e){var r=e(5717),n=e(3212).v;function a(s,i){n.call(this),this.sendBuffer=[],this.sender=i,this.url=s}r(a,n),a.prototype.send=function(s){this.sendBuffer.push(s),this.sendStop||this.sendSchedule()},a.prototype.sendScheduleWait=function(){var s,i=this;this.sendStop=function(){i.sendStop=null,clearTimeout(s)},s=setTimeout(function(){i.sendStop=null,i.sendSchedule()},25)},a.prototype.sendSchedule=function(){this.sendBuffer.length;var s=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(o){s.sendStop=null,o?(s.emit("close",o.code||1006,"Sending error: "+o),s.close()):s.sendScheduleWait()}),this.sendBuffer=[]}},a.prototype._cleanup=function(){this.removeAllListeners()},a.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},h.exports=a},882:function(h,O,e){var r=e(5717),n=e(5088),a=e(2217);h.exports=function(s){function i(o,t){n.call(this,s.transportName,o,t)}return r(i,n),i.enabled=function(o,t){if(!e.g.document)return!1;var l=a.extend({},t);return l.sameOrigin=!0,s.enabled(l)&&n.enabled()},i.transportName="iframe-"+s.transportName,i.needBody=!0,i.roundTrips=n.roundTrips+s.roundTrips-1,i.facadeTransport=s,i}},1265:function(h,O,e){var r=e(5717),n=e(3212).v;function a(s,i,o){n.call(this),this.Receiver=s,this.receiveUrl=i,this.AjaxObject=o,this._scheduleReceiver()}r(a,n),a.prototype._scheduleReceiver=function(){var s=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(o){s.emit("message",o)}),i.once("close",function(o,t){s.pollIsClosing,s.poll=i=null,s.pollIsClosing||(t==="network"?s._scheduleReceiver():(s.emit("close",o||1006,t),s.removeAllListeners()))})},a.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},h.exports=a},8347:function(h,O,e){var r=e(5717),n=e(273),a=e(1851),s=e(1265);function i(o,t,l,u,g){var f=n.addPath(o,t),d=this;a.call(this,o,l),this.poll=new s(u,f,g),this.poll.on("message",function(p){d.emit("message",p)}),this.poll.once("close",function(p,m){d.poll=null,d.emit("close",p,m),d.close()})}r(i,a),i.prototype.close=function(){a.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},h.exports=i},6709:function(h,O,e){var r=e(5717),n=e(3212).v,a=e(3759);function s(i){n.call(this);var o=this,t=this.es=new a(i);t.onmessage=function(l){l.data,o.emit("message",decodeURI(l.data))},t.onerror=function(l){t.readyState;var u=t.readyState!==2?"network":"permanent";o._cleanup(),o._close(u)}}r(s,n),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)},s.prototype._close=function(i){var o=this;setTimeout(function(){o.emit("close",null,i),o.removeAllListeners()},200)},h.exports=s},3608:function(h,O,e){var r=e(5717),n=e(3683),a=e(273),s=e(3212).v,i=e(8915);function o(l){s.call(this);var u=this;n.polluteGlobalNamespace(),this.id="a"+i.string(6),l=a.addQuery(l,"c="+decodeURIComponent(n.WPrefix+"."+this.id)),o.htmlfileEnabled;var g=o.htmlfileEnabled?n.createHtmlfile:n.createIframe;e.g[n.WPrefix][this.id]={start:function(){u.iframeObj.loaded()},message:function(f){u.emit("message",f)},stop:function(){u._cleanup(),u._close("network")}},this.iframeObj=g(l,function(){u._cleanup(),u._close("permanent")})}r(o,s),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e.g[n.WPrefix][this.id]},o.prototype._close=function(l){this.emit("close",null,l),this.removeAllListeners()},o.htmlfileEnabled=!1;var t=["Active"].concat("Object").join("X");if(t in e.g)try{o.htmlfileEnabled=!!new e.g[t]("htmlfile")}catch{}o.enabled=o.htmlfileEnabled||n.iframeEnabled,h.exports=o},514:function(h,O,e){var r=e(3683),n=e(8915),a=e(8510),s=e(273),i=e(5717),o=e(3212).v;function t(l){var u=this;o.call(this),r.polluteGlobalNamespace(),this.id="a"+n.string(6);var g=s.addQuery(l,"c="+encodeURIComponent(r.WPrefix+"."+this.id));e.g[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(g),this.timeoutId=setTimeout(function(){u._abort(new Error("JSONP script loaded abnormally (timeout)"))},t.timeout)}i(t,o),t.prototype.abort=function(){if(e.g[r.WPrefix][this.id]){var l=new Error("JSONP user aborted read");l.code=1e3,this._abort(l)}},t.timeout=35e3,t.scriptErrorTimeout=1e3,t.prototype._callback=function(l){this._cleanup(),this.aborting||(l&&this.emit("message",l),this.emit("close",null,"network"),this.removeAllListeners())},t.prototype._abort=function(l){this._cleanup(),this.aborting=!0,this.emit("close",l.code,l.message),this.removeAllListeners()},t.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var l=this.script;l.parentNode.removeChild(l),l.onreadystatechange=l.onerror=l.onload=l.onclick=null,this.script=null}delete e.g[r.WPrefix][this.id]},t.prototype._scriptError=function(){var l=this;this.errorTimer||(this.errorTimer=setTimeout(function(){l.loadedOkay||l._abort(new Error("JSONP script loaded abnormally (onerror)"))},t.scriptErrorTimeout))},t.prototype._createScript=function(l){var u,g=this,f=this.script=e.g.document.createElement("script");if(f.id="a"+n.string(8),f.src=l,f.type="text/javascript",f.charset="UTF-8",f.onerror=this._scriptError.bind(this),f.onload=function(){g._abort(new Error("JSONP script loaded abnormally (onload)"))},f.onreadystatechange=function(){if(f.readyState,/loaded|closed/.test(f.readyState)){if(f&&f.htmlFor&&f.onclick){g.loadedOkay=!0;try{f.onclick()}catch{}}f&&g._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},f.async===void 0&&e.g.document.attachEvent)if(a.isOpera())(u=this.script2=e.g.document.createElement("script")).text="try{var a = document.getElementById('"+f.id+"'); if(a)a.onerror();}catch(x){};",f.async=u.async=!1;else{try{f.htmlFor=f.id,f.event="onclick"}catch{}f.async=!0}f.async!==void 0&&(f.async=!0);var d=e.g.document.getElementsByTagName("head")[0];d.insertBefore(f,d.firstChild),u&&d.insertBefore(u,d.firstChild)},h.exports=t},1044:function(h,O,e){var r=e(5717),n=e(3212).v;function a(s,i){n.call(this);var o=this;this.bufferPosition=0,this.xo=new i("POST",s,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,l){o._chunkHandler(t,l),o.xo=null;var u=t===200?"network":"permanent";o.emit("close",null,u),o._cleanup()})}r(a,n),a.prototype._chunkHandler=function(s,i){if(s===200&&i)for(var o=-1;;this.bufferPosition+=o+1){var t=i.slice(this.bufferPosition);if((o=t.indexOf(`
`))===-1)break;var l=t.slice(0,o);l&&this.emit("message",l)}},a.prototype._cleanup=function(){this.removeAllListeners()},a.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},h.exports=a},771:function(h,O,e){var r,n,a=e(8915),s=e(273);h.exports=function(i,o,t){r||((r=e.g.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(n=e.g.document.createElement("textarea")).name="d",r.appendChild(n),e.g.document.body.appendChild(r));var l="a"+a.string(8);r.target=l,r.action=s.addQuery(s.addPath(i,"/jsonp_send"),"i="+l);var u=function(f){try{return e.g.document.createElement('<iframe name="'+f+'">')}catch{var d=e.g.document.createElement("iframe");return d.name=f,d}}(l);u.id=l,u.style.display="none",r.appendChild(u);try{n.value=o}catch{}r.submit();var g=function(f){u.onerror&&(u.onreadystatechange=u.onerror=u.onload=null,setTimeout(function(){u.parentNode.removeChild(u),u=null},500),n.value="",t(f))};return u.onerror=function(){g()},u.onload=function(){g()},u.onreadystatechange=function(f){u.readyState,u.readyState==="complete"&&g()},function(){g(new Error("Aborted"))}}},6073:function(h,O,e){var r=e(3212).v,n=e(5717),a=e(7705),s=e(8510),i=e(273);function o(t,l,u){var g=this;r.call(this),setTimeout(function(){g._start(t,l,u)},0)}n(o,r),o.prototype._start=function(t,l,u){var g=this,f=new e.g.XDomainRequest;l=i.addQuery(l,"t="+ +new Date),f.onerror=function(){g._error()},f.ontimeout=function(){g._error()},f.onprogress=function(){f.responseText,g.emit("chunk",200,f.responseText)},f.onload=function(){g.emit("finish",200,f.responseText),g._cleanup(!1)},this.xdr=f,this.unloadRef=a.unloadAdd(function(){g._cleanup(!0)});try{this.xdr.open(t,l),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(u)}catch{this._error()}},o.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},o.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},o.prototype.close=function(){this._cleanup(!0)},o.enabled=!(!e.g.XDomainRequest||!s.hasDomain()),h.exports=o},9033:function(h,O,e){var r=e(5717),n=e(2940);function a(s,i,o,t){n.call(this,s,i,o,t)}r(a,n),a.enabled=n.enabled&&n.supportsCORS,h.exports=a},7103:function(h,O,e){var r=e(3212).v;function n(){var a=this;r.call(this),this.to=setTimeout(function(){a.emit("finish",200,"{}")},n.timeout)}e(5717)(n,r),n.prototype.close=function(){clearTimeout(this.to)},n.timeout=2e3,h.exports=n},3515:function(h,O,e){var r=e(5717),n=e(2940);function a(s,i,o){n.call(this,s,i,o,{noCredentials:!0})}r(a,n),a.enabled=n.enabled,h.exports=a},2412:function(h,O,e){var r=e(7705),n=e(273),a=e(5717),s=e(3212).v,i=e(9334);function o(t,l,u){if(!o.enabled())throw new Error("Transport created when disabled");s.call(this);var g=this,f=n.addPath(t,"/websocket");f=f.slice(0,5)==="https"?"wss"+f.slice(5):"ws"+f.slice(4),this.url=f,this.ws=new i(this.url,[],u),this.ws.onmessage=function(d){d.data,g.emit("message",d.data)},this.unloadRef=r.unloadAdd(function(){g.ws.close()}),this.ws.onclose=function(d){d.code,d.reason,g.emit("close",d.code,d.reason),g._cleanup()},this.ws.onerror=function(d){g.emit("close",1006,"WebSocket connection broken"),g._cleanup()}}a(o,s),o.prototype.send=function(t){var l="["+t+"]";this.ws.send(l)},o.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},o.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},o.enabled=function(){return!!i},o.transportName="websocket",o.roundTrips=2,h.exports=o},9998:function(h,O,e){var r=e(5717),n=e(9395),a=e(4620),s=e(1044),i=e(6073);function o(t){if(!i.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr",s,i)}r(o,n),o.enabled=a.enabled,o.transportName="xdr-polling",o.roundTrips=2,h.exports=o},4620:function(h,O,e){var r=e(5717),n=e(9395),a=e(1044),s=e(6073);function i(o){if(!s.enabled)throw new Error("Transport created when disabled");n.call(this,o,"/xhr_streaming",a,s)}r(i,n),i.enabled=function(o){return!o.cookie_needed&&!o.nullOrigin&&s.enabled&&o.sameScheme},i.transportName="xdr-streaming",i.roundTrips=2,h.exports=i},2387:function(h,O,e){var r=e(5717),n=e(9395),a=e(1044),s=e(9033),i=e(3515);function o(t){if(!i.enabled&&!s.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr",a,s)}r(o,n),o.enabled=function(t){return!t.nullOrigin&&(!(!i.enabled||!t.sameOrigin)||s.enabled)},o.transportName="xhr-polling",o.roundTrips=2,h.exports=o},9842:function(h,O,e){var r=e(5717),n=e(9395),a=e(1044),s=e(9033),i=e(3515),o=e(8510);function t(l){if(!i.enabled&&!s.enabled)throw new Error("Transport created when disabled");n.call(this,l,"/xhr_streaming",a,s)}r(t,n),t.enabled=function(l){return!l.nullOrigin&&!o.isOpera()&&s.enabled},t.transportName="xhr-streaming",t.roundTrips=2,t.needBody=!!e.g.document,h.exports=t},2017:function(h,O,e){e.g.crypto&&e.g.crypto.getRandomValues?h.exports.randomBytes=function(r){var n=new Uint8Array(r);return e.g.crypto.getRandomValues(n),n}:h.exports.randomBytes=function(r){for(var n=new Array(r),a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}},8510:function(h,O,e){h.exports={isOpera:function(){return e.g.navigator&&/opera/i.test(e.g.navigator.userAgent)},isKonqueror:function(){return e.g.navigator&&/konqueror/i.test(e.g.navigator.userAgent)},hasDomain:function(){if(!e.g.document)return!0;try{return!!e.g.document.domain}catch{return!1}}}},8028:function(h){var O,e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;h.exports={quote:function(r){var n=JSON.stringify(r);return e.lastIndex=0,e.test(n)?(O||(O=function(a){var s,i={},o=[];for(s=0;s<65536;s++)o.push(String.fromCharCode(s));return a.lastIndex=0,o.join("").replace(a,function(t){return i[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,i}(e)),n.replace(e,function(a){return O[a]})):n}}},7705:function(h,O,e){var r=e(8915),n={},a=!1,s=e.g.chrome&&e.g.chrome.app&&e.g.chrome.app.runtime;h.exports={attachEvent:function(i,o){e.g.addEventListener!==void 0?e.g.addEventListener(i,o,!1):e.g.document&&e.g.attachEvent&&(e.g.document.attachEvent("on"+i,o),e.g.attachEvent("on"+i,o))},detachEvent:function(i,o){e.g.addEventListener!==void 0?e.g.removeEventListener(i,o,!1):e.g.document&&e.g.detachEvent&&(e.g.document.detachEvent("on"+i,o),e.g.detachEvent("on"+i,o))},unloadAdd:function(i){if(s)return null;var o=r.string(8);return n[o]=i,a&&setTimeout(this.triggerUnloadCallbacks,0),o},unloadDel:function(i){i in n&&delete n[i]},triggerUnloadCallbacks:function(){for(var i in n)n[i](),delete n[i]}},s||h.exports.attachEvent("unload",function(){a||(a=!0,h.exports.triggerUnloadCallbacks())})},3683:function(h,O,e){var r=e(7705),n=e(8510);h.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){h.exports.WPrefix in e.g||(e.g[h.exports.WPrefix]={})},postMessage:function(a,s){e.g.parent!==e.g&&e.g.parent.postMessage(JSON.stringify({windowId:h.exports.currentWindowId,type:a,data:s||""}),"*")},createIframe:function(a,s){var i,o,t=e.g.document.createElement("iframe"),l=function(){clearTimeout(i);try{t.onload=null}catch{}t.onerror=null},u=function(){t&&(l(),setTimeout(function(){t&&t.parentNode.removeChild(t),t=null},0),r.unloadDel(o))},g=function(f){t&&(u(),s(f))};return t.src=a,t.style.display="none",t.style.position="absolute",t.onerror=function(){g("onerror")},t.onload=function(){clearTimeout(i),i=setTimeout(function(){g("onload timeout")},2e3)},e.g.document.body.appendChild(t),i=setTimeout(function(){g("timeout")},15e3),o=r.unloadAdd(u),{post:function(f,d){setTimeout(function(){try{t&&t.contentWindow&&t.contentWindow.postMessage(f,d)}catch{}},0)},cleanup:u,loaded:l}},createHtmlfile:function(a,s){var i,o,t,l=["Active"].concat("Object").join("X"),u=new e.g[l]("htmlfile"),g=function(){clearTimeout(i),t.onerror=null},f=function(){u&&(g(),r.unloadDel(o),t.parentNode.removeChild(t),t=u=null,CollectGarbage())},d=function(m){u&&(f(),s(m))};u.open(),u.write('<html><script>document.domain="'+e.g.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[h.exports.WPrefix]=e.g[h.exports.WPrefix];var p=u.createElement("div");return u.body.appendChild(p),t=u.createElement("iframe"),p.appendChild(t),t.src=a,t.onerror=function(){d("onerror")},i=setTimeout(function(){d("timeout")},15e3),o=r.unloadAdd(f),{post:function(m,T){try{setTimeout(function(){t&&t.contentWindow&&t.contentWindow.postMessage(m,T)},0)}catch{}},cleanup:f,loaded:g}}},h.exports.iframeEnabled=!1,e.g.document&&(h.exports.iframeEnabled=(typeof e.g.postMessage=="function"||typeof e.g.postMessage=="object")&&!n.isKonqueror())},4886:function(h,O,e){var r={};["log","debug","warn"].forEach(function(n){var a;try{a=e.g.console&&e.g.console[n]&&e.g.console[n].apply}catch{}r[n]=a?function(){return e.g.console[n].apply(e.g.console,arguments)}:n==="log"?function(){}:r.log}),h.exports=r},2217:function(h){h.exports={isObject:function(O){var e=typeof O;return e==="function"||e==="object"&&!!O},extend:function(O){if(!this.isObject(O))return O;for(var e,r,n=1,a=arguments.length;n<a;n++)for(r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(O[r]=e[r]);return O}}},8915:function(h,O,e){var r=e(2017),n="abcdefghijklmnopqrstuvwxyz012345";h.exports={string:function(a){for(var s=n.length,i=r.randomBytes(a),o=[],t=0;t<a;t++)o.push(n.substr(i[t]%s,1));return o.join("")},number:function(a){return Math.floor(Math.random()*a)},numberString:function(a){var s=(""+(a-1)).length;return(new Array(s+1).join("0")+this.number(a)).slice(-s)}}},5581:function(h){h.exports=function(O){return{filterToEnabled:function(e,r){var n={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],O.forEach(function(a){a&&(a.transportName==="websocket"&&r.websocket===!1||(e.length&&e.indexOf(a.transportName)===-1?a.transportName:a.enabled(r)?(a.transportName,n.main.push(a),a.facadeTransport&&n.facade.push(a.facadeTransport)):a.transportName))}),n}}}},273:function(h,O,e){var r=e(4564);h.exports={getOrigin:function(n){if(!n)return null;var a=new r(n);if(a.protocol==="file:")return null;var s=a.port;return s||(s=a.protocol==="https:"?"443":"80"),a.protocol+"//"+a.hostname+":"+s},isOriginEqual:function(n,a){return this.getOrigin(n)===this.getOrigin(a)},isSchemeEqual:function(n,a){return n.split(":")[0]===a.split(":")[0]},addPath:function(n,a){var s=n.split("?");return s[0]+a+(s[1]?"?"+s[1]:"")},addQuery:function(n,a){return n+(n.indexOf("?")===-1?"?"+a:"&"+a)},isLoopbackAddr:function(n){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(n)||/^\[::1\]$/.test(n)}}},2828:function(h){h.exports="1.6.1"},4564:function(h,O,e){var r=e(7418),n=e(7129),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,t=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function u(c){return(c||"").toString().replace(a,"")}var g=[["#","hash"],["?","query"],function(c,I){return p(I.protocol)?c.replace(/\\/g,"/"):c},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function d(c){var I,v=(typeof window<"u"?window:e.g!==void 0?e.g:typeof self<"u"?self:{}).location||{},N={},k=typeof(c=c||v);if(c.protocol==="blob:")N=new T(unescape(c.pathname),{});else if(k==="string")for(I in N=new T(c,{}),f)delete N[I];else if(k==="object"){for(I in c)I in f||(N[I]=c[I]);N.slashes===void 0&&(N.slashes=i.test(c.href))}return N}function p(c){return c==="file:"||c==="ftp:"||c==="http:"||c==="https:"||c==="ws:"||c==="wss:"}function m(c,I){c=(c=u(c)).replace(s,""),I=I||{};var v,N=t.exec(c),k=N[1]?N[1].toLowerCase():"",A=!!N[2],R=!!N[3],y=0;return A?R?(v=N[2]+N[3]+N[4],y=N[2].length+N[3].length):(v=N[2]+N[4],y=N[2].length):R?(v=N[3]+N[4],y=N[3].length):v=N[4],k==="file:"?y>=2&&(v=v.slice(2)):p(k)?v=N[4]:k?A&&(v=v.slice(2)):y>=2&&p(I.protocol)&&(v=N[4]),{protocol:k,slashes:A||p(k),slashesCount:y,rest:v}}function T(c,I,v){if(c=(c=u(c)).replace(s,""),!(this instanceof T))return new T(c,I,v);var N,k,A,R,y,U,L=g.slice(),j=typeof I,H=this,ee=0;for(j!=="object"&&j!=="string"&&(v=I,I=null),v&&typeof v!="function"&&(v=n.parse),N=!(k=m(c||"",I=d(I))).protocol&&!k.slashes,H.slashes=k.slashes||N&&I.slashes,H.protocol=k.protocol||I.protocol||"",c=k.rest,(k.protocol==="file:"&&(k.slashesCount!==2||l.test(c))||!k.slashes&&(k.protocol||k.slashesCount<2||!p(H.protocol)))&&(L[3]=[/(.*)/,"pathname"]);ee<L.length;ee++)typeof(R=L[ee])!="function"?(A=R[0],U=R[1],A!=A?H[U]=c:typeof A=="string"?~(y=A==="@"?c.lastIndexOf(A):c.indexOf(A))&&(typeof R[2]=="number"?(H[U]=c.slice(0,y),c=c.slice(y+R[2])):(H[U]=c.slice(y),c=c.slice(0,y))):(y=A.exec(c))&&(H[U]=y[1],c=c.slice(0,y.index)),H[U]=H[U]||N&&R[3]&&I[U]||"",R[4]&&(H[U]=H[U].toLowerCase())):c=R(c,H);v&&(H.query=v(H.query)),N&&I.slashes&&H.pathname.charAt(0)!=="/"&&(H.pathname!==""||I.pathname!=="")&&(H.pathname=function(F,K){if(F==="")return K;for(var Z=(K||"/").split("/").slice(0,-1).concat(F.split("/")),oe=Z.length,le=Z[oe-1],de=!1,Ee=0;oe--;)Z[oe]==="."?Z.splice(oe,1):Z[oe]===".."?(Z.splice(oe,1),Ee++):Ee&&(oe===0&&(de=!0),Z.splice(oe,1),Ee--);return de&&Z.unshift(""),le!=="."&&le!==".."||Z.push(""),Z.join("/")}(H.pathname,I.pathname)),H.pathname.charAt(0)!=="/"&&p(H.protocol)&&(H.pathname="/"+H.pathname),r(H.port,H.protocol)||(H.host=H.hostname,H.port=""),H.username=H.password="",H.auth&&(~(y=H.auth.indexOf(":"))?(H.username=H.auth.slice(0,y),H.username=encodeURIComponent(decodeURIComponent(H.username)),H.password=H.auth.slice(y+1),H.password=encodeURIComponent(decodeURIComponent(H.password))):H.username=encodeURIComponent(decodeURIComponent(H.auth)),H.auth=H.password?H.username+":"+H.password:H.username),H.origin=H.protocol!=="file:"&&p(H.protocol)&&H.host?H.protocol+"//"+H.host:"null",H.href=H.toString()}T.prototype={set:function(c,I,v){var N=this;switch(c){case"query":typeof I=="string"&&I.length&&(I=(v||n.parse)(I)),N[c]=I;break;case"port":N[c]=I,r(I,N.protocol)?I&&(N.host=N.hostname+":"+I):(N.host=N.hostname,N[c]="");break;case"hostname":N[c]=I,N.port&&(I+=":"+N.port),N.host=I;break;case"host":N[c]=I,o.test(I)?(I=I.split(":"),N.port=I.pop(),N.hostname=I.join(":")):(N.hostname=I,N.port="");break;case"protocol":N.protocol=I.toLowerCase(),N.slashes=!v;break;case"pathname":case"hash":if(I){var k=c==="pathname"?"/":"#";N[c]=I.charAt(0)!==k?k+I:I}else N[c]=I;break;case"username":case"password":N[c]=encodeURIComponent(I);break;case"auth":var A=I.indexOf(":");~A?(N.username=I.slice(0,A),N.username=encodeURIComponent(decodeURIComponent(N.username)),N.password=I.slice(A+1),N.password=encodeURIComponent(decodeURIComponent(N.password))):N.username=encodeURIComponent(decodeURIComponent(I))}for(var R=0;R<g.length;R++){var y=g[R];y[4]&&(N[y[1]]=N[y[1]].toLowerCase())}return N.auth=N.password?N.username+":"+N.password:N.username,N.origin=N.protocol!=="file:"&&p(N.protocol)&&N.host?N.protocol+"//"+N.host:"null",N.href=N.toString(),N},toString:function(c){c&&typeof c=="function"||(c=n.stringify);var I,v=this,N=v.host,k=v.protocol;k&&k.charAt(k.length-1)!==":"&&(k+=":");var A=k+(v.protocol&&v.slashes||p(v.protocol)?"//":"");return v.username?(A+=v.username,v.password&&(A+=":"+v.password),A+="@"):v.password?(A+=":"+v.password,A+="@"):v.protocol!=="file:"&&p(v.protocol)&&!N&&v.pathname!=="/"&&(A+="@"),(N[N.length-1]===":"||o.test(v.hostname)&&!v.port)&&(N+=":"),A+=N+v.pathname,(I=typeof v.query=="object"?c(v.query):v.query)&&(A+=I.charAt(0)!=="?"?"?"+I:I),v.hash&&(A+=v.hash),A}},T.extractProtocol=m,T.location=d,T.trimLeft=u,T.qs=n,h.exports=T}},__webpack_module_cache__={};function __webpack_require__(h){var O=__webpack_module_cache__[h];if(O!==void 0)return O.exports;var e=__webpack_module_cache__[h]={exports:{}};return __webpack_modules__[h].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.amdO={},__webpack_require__.n=function(h){var O=h&&h.__esModule?function(){return h.default}:function(){return h};return __webpack_require__.d(O,{a:O}),O},__webpack_require__.d=function(h,O){for(var e in O)__webpack_require__.o(O,e)&&!__webpack_require__.o(h,e)&&Object.defineProperty(h,e,{enumerable:!0,get:O[e]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=function(h,O){return Object.prototype.hasOwnProperty.call(h,O)},__webpack_require__.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var __webpack_exports__={};return function(){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Se}});var h=__webpack_require__(8e3),O=__webpack_require__.n(h),e=__webpack_require__(3281),r=__webpack_require__.n(e),n=__webpack_require__(3720),a=__webpack_require__.n(n),s=(__webpack_require__(9601),__webpack_require__(8309),__webpack_require__(6992),__webpack_require__(1532),__webpack_require__(1539),__webpack_require__(8783),__webpack_require__(3948),__webpack_require__(4812),__webpack_require__(9070),__webpack_require__(8674),__webpack_require__(9575),__webpack_require__(2472),__webpack_require__(2990),__webpack_require__(8927),__webpack_require__(3105),__webpack_require__(5035),__webpack_require__(4345),__webpack_require__(7174),__webpack_require__(2846),__webpack_require__(4731),__webpack_require__(7209),__webpack_require__(6319),__webpack_require__(8867),__webpack_require__(7789),__webpack_require__(3739),__webpack_require__(9368),__webpack_require__(4483),__webpack_require__(2056),__webpack_require__(3462),__webpack_require__(678),__webpack_require__(7462),__webpack_require__(3824),__webpack_require__(5021),__webpack_require__(2974),__webpack_require__(5016),__webpack_require__(5827),__webpack_require__(3843),__webpack_require__(3710),__webpack_require__(2564),__webpack_require__(9653),__webpack_require__(7941),__webpack_require__(9554),__webpack_require__(4747),__webpack_require__(1038),__webpack_require__(7327),__webpack_require__(561),__webpack_require__(7252)),i=__webpack_require__(4370),o=__webpack_require__(5531),t=__webpack_require__(1070),l=__webpack_require__(7360),u=function(){function D(q,w,X){this.handlerData={},this.handlerData={},q.addEventHandler=this.addEventHandler.bind(this),q.removeEventHandler=this.removeEventHandler.bind(this)}return D.prototype.addEventHandler=function(q,w){this.handlerData[q]=w},D.prototype.removeEventHandler=function(q){delete this.handlerData[q]},D.prototype.dispatch=function(q,w){for(var X in l.kg.debug("dispatch event: "+q,w||""),this.handlerData){var E=this.handlerData[X][q];E&&E(w)}},D}(),g=function(){};function f(D){this.onOpened=D.onOpened||g,this.onPresence=D.onPresence||g,this.onTextMessage=D.onTextMessage||g,this.onPictureMessage=D.onPictureMessage||g,this.onAudioMessage=D.onAudioMessage||g,this.onVideoMessage=D.onVideoMessage||g,this.onFileMessage=D.onFileMessage||g,this.onLocationMessage=D.onLocationMessage||g,this.onCmdMessage=D.onCmdMessage||g,this.onCustomMessage=D.onCustomMessage||g,this.onReceivedMessage=D.onReceivedMessage||g,this.onDeliveredMessage=D.onDeliveredMessage||g,this.onReadMessage=D.onReadMessage||g,this.onRecallMessage=D.onRecallMessage||g,this.onChannelMessage=D.onChannelMessage||g,this.onError=D.onError||g,this.onOffline=D.onOffline||g,this.onOnline=D.onOnline||g,this.onStatisticMessage=D.onStatisticMessage||g,this.onContactInvited=D.onContactInvited||g,this.onContactAgreed=D.onContactAgreed||g,this.onContactRefuse=D.onContactRefuse||g,this.onContactDeleted=D.onContactDeleted||g,this.onContactAdded=D.onContactAdded||g,this.onTokenWillExpire=D.onTokenWillExpire||g,this.onTokenExpired=D.onTokenExpired||g,this.onClosed=D.onClosed||g,this.onPresenceStatusChange=D.onPresenceStatusChange||g}__webpack_require__(2526),__webpack_require__(1817),__webpack_require__(2165),__webpack_require__(2222),__webpack_require__(2772);var d={biz:"",debug:!1,token:""},p="https://data-reporting.agora.io/report",m="https://data-reporting.sh.agoralab.co/report",T=(__webpack_require__(6699),__webpack_require__(2023),__webpack_require__(2071)),c=__webpack_require__(1595),I=function(D){var q=Number(c.C8[D]);return q===c.C8.USER_LOGIN?"MANUALLOGIN":q===c.C8.MSYNC_SENDMESSAGE?"SENDMESSAGE":q>c.C8.UNKNOWOPERATION&&q<c.C8.REST_OPERATE?"REST":q>c.C8.REST_OPERATE&&q<c.C8.MSYNC_OPERATE?"MESSAGE":q>c.C8.MSYNC_OPERATE&&q<c.C8.ROSTER_OPERATE?"ROSTER":q>c.C8.ROSTER_OPERATE&&q<c.C8.USER_OPERATE?"USER":q>c.C8.USER_OPERATE&&q<c.C8.GROUP_OPERATE?"GROUP":q>c.C8.GROUP_OPERATE&&q<c.C8.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},v=function(){return new Date().getTime()},N=function(D){return[i.iw.BAIDU,i.iw.WX,i.iw.DD,i.iw.ZFB,i.iw.TT,i.iw.QUICK_APP,i.iw.UNI].includes(D.platform)},k=function(){return D=1,q=99999,D=Math.ceil(D),q=Math.floor(q),Math.floor(Math.random()*(q-D))+D;var D,q},A={},R=(__webpack_require__(1249),function(D,q){var w={};for(var X in D)Object.prototype.hasOwnProperty.call(D,X)&&q.indexOf(X)<0&&(w[X]=D[X]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var E=0;for(X=Object.getOwnPropertySymbols(D);E<X.length;E++)q.indexOf(X[E])<0&&Object.prototype.propertyIsEnumerable.call(D,X[E])&&(w[X[E]]=D[X[E]])}return w}),y=1e3,U=function(){function D(q){this.eventQueue=[],this.stock=y,this.config=q,this.governor()}return D.prototype.add=function(q){this.stock<=0?console.warn("Event Report limit ".concat(y," per minute")):(this.eventQueue.push(q),this.consume(),this.stock-=1)},D.prototype.consume=function(){var q=this;this.eventQueue.length!==0&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout(function(){var w,X=q.eventQueue.splice(0,10),E=X.filter(function(x){return x.appId===X[0].appId}),b=X.filter(function(x){return x.appId!==X[0].appId});(w=q.eventQueue).unshift.apply(w,b),q.batchSend(E)},1e3))},D.prototype.governor=function(){var q=this,w=setInterval(function(){q.stock=y},6e4);typeof addEventListener<"u"&&addEventListener("beforeunload",function(){clearInterval(w)})},D.prototype.batchSend=function(q){var w,X;if(q===void 0&&(q=[]),q.length!==0)try{var E=q.map(function(b){b.biz,b.appId;var x=b.eventId,C=R(b,["biz","appId","eventId"]);return{eventId:Number(x),body:C}});(function(b,x){try{var C=x.biz,P=x.appId,_=x.data,S=x.debug,W=x.onSuccess;if(!C)throw new Error("biz is not defined");A.global||(A=i.P6.getEnvInfo());var M=A;if(N(M)){var G={url:S?m:p,data:_,method:"POST",success:function(){W==null||W()},fail:function(){},complete:function(){}},te={token:b,appid:P??"",sendts:"".concat(Math.floor(new Date().getTime()/1e3)),biz:C,debug:"".concat(S)};if(M.platform==="zfb"||M.platform==="dd"?G.headers=te:G.header=te,M.platform==="dd")return M.global.httpRequest(G);M.global.request(G)}else{var ce=new XMLHttpRequest;ce.onreadystatechange=function(){ce.readyState===2&&(W==null||W())},ce.open("POST",S?m:p),ce.setRequestHeader("Content-Type","application/json"),ce.setRequestHeader("token",b),ce.setRequestHeader("appid",P??""),ce.setRequestHeader("sendts","".concat(Math.floor(new Date().getTime()/1e3))),ce.setRequestHeader("biz",C),ce.setRequestHeader("debug","".concat(S)),ce.send(JSON.stringify(_))}}catch(ye){console.error(ye)}})(this.config.token,{biz:(w=q[0])===null||w===void 0?void 0:w.biz,appId:(X=q[0])===null||X===void 0?void 0:X.appId,data:E,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(b){console.error(b)}},D}(),L=function(){return L=Object.assign||function(D){for(var q,w=1,X=arguments.length;w<X;w++)for(var E in q=arguments[w])Object.prototype.hasOwnProperty.call(q,E)&&(D[E]=q[E]);return D},L.apply(this,arguments)},j=new(function(){function D(q){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=d,q&&this.init(q)}return D.prototype.init=function(q){var w;if(q===void 0&&(q={}),!q.biz||!q.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=(w=q.appId)!==null&&w!==void 0?w:"",this.biz=q.biz,this.config=L(L({},d),q),this.eventQueue=new U(this.config),this.log(q),this.inited=!0}catch(X){console.error(X)}},D.prototype.send=function(q,w,X){var E;if(w===void 0&&(w={}),this.inited){var b=L(L({},w),{eventId:Number(q),biz:this.biz,appId:(E=X==null?void 0:X.appId)!==null&&E!==void 0?E:this.appId});this.eventQueue.add(b),this.log(b)}else console.error("Event Report: init is not called")},D.prototype.log=function(q){try{if(this.config.debug){var w=q.payload,X=function(E,b){var x={};for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&b.indexOf(C)<0&&(x[C]=E[C]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(C=Object.getOwnPropertySymbols(E);P<C.length;P++)b.indexOf(C[P])<0&&Object.prototype.propertyIsEnumerable.call(E,C[P])&&(x[C[P]]=E[C[P]])}return x}(q,["payload"]);console.log("%c Event Report: ".concat(this.config.biz," "),"background: #8A97FC; color: #fff"),console.table(X),w&&(console.info("payload:"),console.table(w))}}catch(E){console.error(E)}},D}()),H=function(){return H=Object.assign||function(D){for(var q,w=1,X=arguments.length;w<X;w++)for(var E in q=arguments[w])Object.prototype.hasOwnProperty.call(q,E)&&(D[E]=q[E]);return D},H.apply(this,arguments)},ee={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},F=function(){function D(q){this.platform=i.P6.getEnvInfo(),this.isReportDt=q.isReport||!1,this.isCollectDt=!0,N(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel=T.yK,this.options=function(w,X){X.platform||(X=i.P6.getEnvInfo());var E=w.org,b=w.appkey,x=w.deviceId,C=w.sdkVersion,P=(navigator==null?void 0:navigator.userAgent)||"".concat(X.platform,"_mini_program");return{org:E,appkey:b,deviceId:x,sdkServiceId:"sid_".concat(i.P6.getUniqueId(),"_").concat(k()),did:P,sdkVersion:C,os:T.Wc,sdkProduct:c.aC.web}}(q,this.platform),this.sid=this.options.sdkServiceId,this.init(q)}return D.getInstance=function(){return D.instance},D.prototype.getServiceId=function(){return this.sid||"sid_0"},D.prototype.setIsReportDt=function(q){this.isReportDt=q,q&&this.rptEventQueue()},D.prototype.setIsCollectDt=function(q){this.isCollectDt=q,q||(this.eventQueue=[])},D.prototype.rptEventQueue=function(){var q=this;this.eventQueue.length&&this.eventQueue.forEach(function(w,X){j.send(w.eventId,w.dt),X>=q.eventQueue.length-1&&(q.eventQueue=[])})},D.prototype.init=function(q){D.instance||(D.instance=this,j.init({biz:T.el,token:T.$x,appId:q.appkey,debug:!1}),this.reportInit())},D.prototype.reportInit=function(){if(this.isCollectDt){var q=this.options,w=q.did,X=q.os,E=q.sdkVersion,b=q.deviceId;this.reportData(T.iB.INIT,{did:w,os:X,sdkVersion:E,deviceId:b})}},D.prototype.geOperateFun=function(q){var w=this;if(!this.isCollectDt)return function(){};var X=1,E=0,b="",x=v(),C=q.uid,P=q.operationName;C&&(this.uid=C);var _={uid:this.uid,operationId:"opr_".concat(i.P6.getUniqueId(),"_").concat(k()),requestid:"req_".concat(i.P6.getUniqueId(),"_").concat(k()),operationName:P};return function(S){var W,M,G,te;if(S.data.isSuccess?(E=0,b=""):(S.data.code===0&&(S.data.code=T.Tp),E=(W=S.data.code)!==null&&W!==void 0?W:E,b=(M=S.data.codeDesc)!==null&&M!==void 0?M:b),!((G=S.data)===null||G===void 0)&&G.accessChannel&&(w.accessChannel=(te=S.data)===null||te===void 0?void 0:te.accessChannel),S.isRetry?(X++,S.data.subrequestid="".concat(X)):(_.requestid="req_".concat(i.P6.getUniqueId(),"_").concat(k()),X=1),S.data.isLastApi){var ce=v();S.data.requestElapse=ce-x,S.data.requestMethod="",S.data.subrequestid="0",S.data.code=E===200?0:E,S.data.codeDesc=b}else S.data.requestName||(S.data.requestName=P);S.data.requestElapse||(S.data.requestElapse=v()-x),w.reportData.call(w,T.iB.API,H(H(H(H({},ee),_),S.data),{accessChannel:w.accessChannel,operationType:I(P)})),S.isEndApi&&w.reportData.call(w,T.iB.API,H(H(H({},_),ee),{isSuccess:S.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:E===200?0:E,codeDesc:b,requestElapse:S.data.requestElapse,accessChannel:w.accessChannel,operationType:I(P)}))}},D.prototype.reportData=function(q,w){return X=this,E=void 0,x=function(){var C,P,_,S,W,M,G,te;return function(ce,ye){var B,J,ae,ie,Me={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]};return ie={next:Ze(0),throw:Ze(1),return:Ze(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function Ze(Re){return function(Ke){return function(pe){if(B)throw new TypeError("Generator is already executing.");for(;Me;)try{if(B=1,J&&(ae=2&pe[0]?J.return:pe[0]?J.throw||((ae=J.return)&&ae.call(J),0):J.next)&&!(ae=ae.call(J,pe[1])).done)return ae;switch(J=0,ae&&(pe=[2&pe[0],ae.value]),pe[0]){case 0:case 1:ae=pe;break;case 4:return Me.label++,{value:pe[1],done:!1};case 5:Me.label++,J=pe[1],pe=[0];continue;case 7:pe=Me.ops.pop(),Me.trys.pop();continue;default:if(!((ae=(ae=Me.trys).length>0&&ae[ae.length-1])||pe[0]!==6&&pe[0]!==2)){Me=0;continue}if(pe[0]===3&&(!ae||pe[1]>ae[0]&&pe[1]<ae[3])){Me.label=pe[1];break}if(pe[0]===6&&Me.label<ae[1]){Me.label=ae[1],ae=pe;break}if(ae&&Me.label<ae[2]){Me.label=ae[2],Me.ops.push(pe);break}ae[2]&&Me.ops.pop(),Me.trys.pop();continue}pe=ye.call(ce,Me)}catch(Xe){pe=[6,Xe],J=0}finally{B=ae=0}if(5&pe[0])throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}([Re,Ke])}}}(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,3,,4]),C=v(),P=0,q!==T.iB.API?[3,2]:[4,(ye=this.platform,new Promise(function(B){var J;ye.platform||(ye=i.P6.getEnvInfo());var ae="";if(ye.platform===i.iw.WEB){var ie=navigator.connection;ie!=null&&ie.type?(ie==null||ie.type,ae=c.td.WIFI):ie!=null&&ie.effectiveType&&(ae=c.td[ie.effectiveType.toLocaleUpperCase()]),B(ae)}else ye.platform===i.iw.NODE?(ae=c.td.UNKNOWN,B(ae)):(J=ye.global)===null||J===void 0||J.getNetworkType({success:function(Me){ae=c.td[Me.networkType.toLocaleUpperCase()],B(ae)}})}))];case 1:P=ce.sent(),ce.label=2;case 2:return _=this.options,S=_.appkey,W=_.sdkServiceId,M=_.sdkProduct,G=H({lts:C,net:P,appkey:S,sdkServiceId:W,sdkProduct:M},w),this.isReportDt?j.send(q,G):this.isCollectDt&&this.eventQueue.push({eventId:q,dt:G}),[3,4];case 3:return te=ce.sent(),console.warn(te),[3,4];case 4:return[2]}var ye})},new((b=void 0)||(b=Promise))(function(C,P){function _(M){try{W(x.next(M))}catch(G){P(G)}}function S(M){try{W(x.throw(M))}catch(G){P(G)}}function W(M){var G;M.done?C(M.value):(G=M.value,G instanceof b?G:new b(function(te){te(G)})).then(_,S)}W((x=x.apply(X,E||[])).next())});var X,E,b,x},D}(),K=__webpack_require__(7479),Z=__webpack_require__(2856),oe=__webpack_require__(9667),le=__webpack_require__(3770),de=__webpack_require__(1735),Ee=__webpack_require__(7384),re=__webpack_require__(70),z=__webpack_require__(8161),ue=function(){return ue=Object.assign||function(D){for(var q,w=1,X=arguments.length;w<X;w++)for(var E in q=arguments[w])Object.prototype.hasOwnProperty.call(q,E)&&(D[E]=q[E]);return D},ue.apply(this,arguments)},Q=i.P6.getEnvInfo(),ne=Q.platform==="web",fe=function(){},Y=function(){function D(q){var w;if(this.name="connection",this.max_cache_length=100,this.isDebug=q.isDebug||!1,this.isReport=!1,this.isHttpDNS=q.isHttpDNS===void 0?ne:q.isHttpDNS,this.heartBeatWait=q.heartBeatWait||3e4,this.autoReconnectNumMax=q.autoReconnectNumMax||5,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.delivery=q.delivery||!1,this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=[],this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.socketHost=[],this.hostTotal=0,this.times=1,this.autoReconnectNumTotal=0,this.domain="easemob.com",this.appKey=q.appKey,this.appName="",this.orgName="",this.token="",this.grantType="",this.apiUrl=q.apiUrl||"",this.url=q.url||"",this.https=q.https||typeof window<"u"&&((w=window.location)===null||w===void 0?void 0:w.protocol)==="https:",this.version="4.2.0",this.deviceId=q.deviceId||"webim",this.osType=16,this.useOwnUploadFun=q.useOwnUploadFun||!1,this.compressType=[0],this.encryptType=[0],this.clientResource="",this.expiresIn=0,this.expirationTime=0,this.logOut=!0,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this._msgHash={},this._msgPromiseHash={},this._queues=[],this._load_msg_cache=[],this.unMSyncSendMsgMap=new Map,this.mr_cache={},this.closeInfo=null,this.reconnecting=!1,typeof this.appKey!="string"||this.appKey.split("#").length!==2)throw Error("Illegal appKey: ".concat(this.appKey));var X=this.appKey.split("#");this.orgName=X[0],this.appName=X[1],this.listen=f.bind(this),this.mSync=this.usePlugin(t.Z),this.eventHandler=this.usePlugin(u),Object.assign(D.prototype,K),Object.assign(D.prototype,Z),Object.assign(D.prototype,oe),Object.assign(D.prototype,le),Object.assign(D.prototype,de),Object.assign(D.prototype,Ee),Object.assign(D.prototype,re),this.dataReport=new F({appkey:this.appKey,org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport});var E=0,b=this;Object.defineProperty(i.P6,"ajaxUnconventionalErrorTimes",{set:function(x){x!==0&&(l.kg.debug("rest api request fail times: ".concat(x)),(E=x)%5==0&&this.isHttpDNS&&(l.kg.debug("refresh dns config when rest request fail."),Ge.call(b,"refresh",{},{})))},get:function(){return E}})}return D.prototype.usePlugin=function(q,w){if(!w)return new q(this);this[w]=new q(this)},D.prototype.listen=function(q){},D.prototype.addEventHandler=function(q,w){},D.prototype.removeEventHandler=function(q){},D.prototype.registerUser=function(q){var w=this;return new Promise(function(X,E){var b=w.dataReport.geOperateFun({uid:q.username,operationName:c.fI.REGISTER});if(w.isHttpDNS){w.dnsIndex=0;var x=ue(ue({},q),{user:q.username,pwd:q.password,promise:{resolve:X,reject:E}});Ge.call(w,"signup",x,{rpt:b})}else x=ue(ue({},q),{promise:{resolve:X,reject:E}}),Oe.call(w,x,{rpt:b})})},D.prototype.open=function(q){var w=this;return l.kg.debug("open"),new Promise(function(X,E){if(ke.call(w,q)){q.accessToken&&(w.token=q.accessToken);var b=ue(ue({},q),{promise:{resolve:X,reject:E}}),x=w.dataReport.geOperateFun({uid:q.user,operationName:c.fI.LOGIN});w.isHttpDNS?Ge.call(w,"login",b,{rpt:x}):Ae.call(w,b,{rpt:x})}})},D.prototype.isOpened=function(){return this.sock&&this.sock.readyState===1||!1},D.prototype.close=function(){var q;this.logOut=!0,this.reconnecting=!1,this.context.status=o.E.STATUS_CLOSING,this.sock&&this.sock.close(),(q=this.unMSyncSendMsgMap)===null||q===void 0||q.clear(),this.stopHeartBeat(),this.rejectMessage(),this.rejectContactsOperate(),this.context.status=o.E.STATUS_CLOSED,this._load_msg_cache=[],this._queues=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken=""},D.prototype.downloadAndParseCombineMessage=function(q){var w=this,X=q.url,E=q.secret;return new Promise(function(b,x){var C,P,_=i.P6.getEnvInfo(),S=_.platform!=="web"&&_.platform!=="node"&&_.platform!=="quick_app"&&((P=(C=_.global)===null||C===void 0?void 0:C.canIUse)===null||P===void 0?void 0:P.call(C,"getFileSystemManager")),W=function(G){var te=function(ae){x({type:o.E.PARSE_FILE_ERROR,message:"Read file failed",data:ae})},ce=function(ae){var ie=S?new Uint8Array(ae.data):new Uint8Array(ae.target.result),Me=0,Ze=0,Re=2,Ke=ie.subarray(Me,Me+Re),pe=i.P6.Uint8ArrayToString(Ke);l.kg.debug("file header:",pe),Ze+=Re;for(var Xe=0,qe=2;qe<ie.length-1;qe++)qe%2==1&&(Xe^=ie[qe]);var ze=ie.subarray(ie.length-1,ie.length);if(l.kg.debug("checkResult:",Xe,ze[0]===Xe),ze[0]!==Xe)return x({type:o.E.PARSE_FILE_ERROR,message:"File verification failed"});if(pe!=="cm")return x({type:o.E.PARSE_FILE_ERROR,message:"File verification failed"});try{for(var it=[],at=function(){Me+=Re,Ze+=Re=4;var V=ie.subarray(Me,Me+Re);Me+=Re,Re=V.reduce(function(Le,Fe,He){return Le+(Fe<<8*(V.length-He-1))},0),Ze+=Re;var Pe=ie.subarray(Me,Me+Re),Te=w.root.lookup("easemob.pb.Meta");Te=Te.decode(Pe);var we=z.Z.call(w,Te,0,!0,!0);it.push(we)};Ze<ie.length-1;)at();return b(it)}catch(V){x({type:o.E.PARSE_FILE_ERROR,message:"Parse file failed",data:V})}};if(S){var ye=_.global.getFileSystemManager(),B=G.tempFilePath;ye.readFile({filePath:B,success:ce,fail:te})}else if(G instanceof Blob){var J=new FileReader;J.readAsArrayBuffer(G),J.onerror=te,J.onload=ce}},M=function(G){x({type:o.E.WEBIM_DOWNLOADFILE_ERROR,message:"Download failed, please try again",data:G})};S?_.global.downloadFile({url:X,success:W,fail:M}):i.P6.download.call(w,{url:X,headers:{Accept:"application/json"},onFileDownloadComplete:W,onFileDownloadError:M,secret:E,accessToken:w.context.accessToken})})},D.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},D.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},D.prototype.heartBeat=function(){},D.prototype.renewToken=function(q){var w=this;return this.isOpened()?this.getChatToken(q).then(function(X){var E=Date.now();return w.expirationTime=X.expire_timestamp,w.expiresIn=X.expire_timestamp-E,w.token=X.access_token,w.context.accessToken=X.access_token,w.clearTokenTimeout(),w.tokenExpireTimeCountDown(w.expiresIn),{status:!0,token:X.access_token,expire:X.expire_timestamp}}):Promise.reject({status:!1})},D.prototype.clearTokenTimeout=function(){l.kg.debug("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer)},D.prototype.tokenExpireTimeCountDown=function(q){var w=this;q>Math.pow(2,31)-1&&(q=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout(function(){var X;w.onTokenWillExpire&&w.onTokenWillExpire(),(X=w.eventHandler)===null||X===void 0||X.dispatch("onTokenWillExpire"),l.kg.info("onTokenWillExpire",q)},q/2),this.tokenExpiredTimer=setTimeout(function(){var X;l.kg.info("onTokenExpired",q),w.onTokenExpired&&w.onTokenExpired(),(X=w.eventHandler)===null||X===void 0||X.dispatch("onTokenExpired"),w.close()},q)},D.prototype.compareTokenExpireTime=function(q,w){var X,E=Number(w)-Number(q);l.kg.debug("compareTokenExpireTime",E),E<=this.expiresIn/2&&E>0?(this.onTokenWillExpire&&this.onTokenWillExpire(),(X=this.eventHandler)===null||X===void 0||X.dispatch("onTokenWillExpire"),l.kg.info("onTokenWillExpire",E)):E<=0&&(this.closeByTokenExpired(),l.kg.info("closeByTokenExpired",E))},D.prototype.closeByTokenExpired=function(){var q;l.kg.info("closed By TokenExpired"),this.onTokenExpired&&this.onTokenExpired(),(q=this.eventHandler)===null||q===void 0||q.dispatch("onTokenExpired"),this.close()},D.prototype.rejectMessage=function(){var q=this,w=Object.keys(this._msgHash);if(w.length>0){var X=s.Z.create({type:o.E.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});w.forEach(function(E){var b;!((b=q.unMSyncSendMsgMap)===null||b===void 0)&&b.has(E)||(q._msgHash[E].reject instanceof Function&&q._msgHash[E].reject(X),q._msgHash[E].fail instanceof Function&&q._msgHash[E].fail(X),delete q._msgHash[E])})}},D.prototype.rejectContactsOperate=function(){Array.from(T.Nl.values()).forEach(function(q){q==null||q.reject()}),T.Nl.clear()},D.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},D.prototype.reconnect=function(){var q,w=this;this.sock.readyState!==0&&this.sock.readyState!==1&&(l.kg.info("reconnect: time",this.times),l.kg.info("reconnect sock.readyState: ",this.sock.readyState),this.reconnecting===!1&&(this.reconnecting=!0),(q=this.eventHandler)===null||q===void 0||q.dispatch("onReconnecting"),this.rejectMessage(),this.rejectContactsOperate(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1),setTimeout(function(){w.sock.readyState!==1&&(l.kg.info("login sock.readyState: ",w.sock.readyState),w.sock.close(),Ue.call(w,{access_token:w.context.accessToken}),w.times++)},500*this.times),this.autoReconnectNumTotal++)},D.prototype.send=function(q){return Promise.resolve(null)},D._getSock=function(){},D}();function Oe(D,q){var w=this,X=q.rpt,E=q.isRetry,b=D.promise,x=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users",C={requestName:c.c.RESISTER,requestUrl:x},P=D.error||fe;if(!this.orgName&&!this.appName){var _=s.Z.create({type:o.E.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"signup error"});P(_)}var S={headers:{"Content-type":"application/json"},url:x,dataType:"json",data:JSON.stringify({username:D.username,password:D.password,nickname:D.nickname||""}),success:function(W){D.success&&D.success(W);var M=ue(ue({},W),{type:o.E.REQUEST_SUCCESS});b.resolve&&b.resolve(M);var G=W.extraInfo,te=G.httpCode,ce=G.elapse;X({isEndApi:!0,isRetry:E,data:ue(ue({},{requestElapse:ce,isSuccess:1,code:te}),C)})},error:function(W){var M=W.extraInfo,G=M.elapse,te=M.httpCode,ce=M.errDesc;return X({isRetry:E,data:ue(ue({},{requestElapse:G,isSuccess:0,code:te,codeDesc:ce}),C)}),w.isHttpDNS&&w.restIndex+1<w.restTotal?(w.restIndex++,xe.call(w),Oe.call(w,D,{rpt:X,isRetry:E}),Promise.reject(W)):(X({data:{isLastApi:1,isSuccess:0}}),w.clear(),b.reject&&b.reject(W),P(W))}};return i.P6.ajax(S).catch(function(W){b.reject&&b.reject(W)})}function Ae(D,q){var w=this;if(ke.call(this,D)&&!this.isOpened()){var X=q.rpt,E=q.isRetry;je.call(this,D),this.user=D.user;var b=D.promise,x=this.context.appName,C=this.context.orgName,P=this.apiUrl+"/"+C+"/"+x+"/token";if(D.agoraToken)this.grantType="agoraToken",this.getChatToken(D.agoraToken).then(function(M){l.kg.info("getChatToken result:",M),w.expirationTime=M.expire_timestamp,w.token=M.access_token,w.context.accessToken=M.access_token,w.context.restTokenData=M.access_token;var G=M.extraInfo,te=G.httpCode,ce=G.elapse;b.resolve({accessToken:M.access_token,expireTimestamp:M.expire_timestamp});var ye={requestName:c.c.LOGIN_BY_AGORA_TOKEN,requestUrl:P,requestElapse:ce,isSuccess:1,code:te};X({data:ye}),Ue.call(w,ue(ue({},D),{access_token:M.access_token}),X)}).catch(function(M){var G,te=s.Z.create({type:o.E.WEBIM_CONNCTION_GETROSTER_ERROR,message:"get chat token fail",data:M});b.reject(te),w.onError&&w.onError(te),(G=w.eventHandler)===null||G===void 0||G.dispatch("onError",te);var ce=M.extraInfo,ye=ce.elapse,B=ce.httpCode,J=ce.errDesc,ae={requestName:c.c.LOGIN_BY_AGORA_TOKEN,requestUrl:P,requestElapse:ye,isSuccess:0,code:B,codeDesc:J};X({data:ae}),X({data:{isLastApi:1,isSuccess:0}})});else if(D.accessToken)this.grantType="accessToken",this.token=D.accessToken,this.context.accessToken=D.accessToken,this.context.restTokenData=D.accessToken,b.resolve({accessToken:D.accessToken}),Ue.call(this,D,X);else{this.grantType="password";var _={grant_type:"password",username:D.user,password:D.pwd,timestamp:+new Date},S=JSON.stringify(_),W={headers:{"Content-type":"application/json"},url:P,dataType:"json",data:S,success:function(M){typeof D.success=="function"&&D.success(M),w.token=M.access_token,w.context.restTokenData=M.access_token,w.context.accessToken=M.access_token,w.expiresIn=M.expires_in,w.clearTokenTimeout(),w.tokenExpireTimeCountDown(1e3*w.expiresIn),b.resolve({accessToken:M.access_token,duration:M.expires_in});var G=M.extraInfo,te=G.httpCode,ce=G.elapse,ye={requestName:c.c.LOGIN_BY_PWD,requestElapse:ce,requestUrl:P,isSuccess:1,code:te};X({isRetry:E,data:ye}),Ue.call(w,M,X)},error:function(M){var G,te=M.extraInfo,ce=te.elapse,ye=te.httpCode,B=te.errDesc,J={requestName:c.c.LOGIN_BY_PWD,requestElapse:ce,requestUrl:P,isSuccess:0,code:ye,codeDesc:B};if(X({isRetry:E,data:J}),w.isHttpDNS&&w.restIndex+1<w.restTotal)return w.restIndex++,xe.call(w),void Ae.call(w,D,{rpt:X,isRetry:!0});X({data:{isLastApi:1,isSuccess:0}}),w.clear(),M.error&&M.error_description?(G=s.Z.create({type:o.E.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,message:M.error_description,data:M}),w.onError&&w.onError(G)):(G=s.Z.create({type:o.E.WEBIM_CONNCTION_OPEN_ERROR,message:M.error_description,data:M}),w.onError&&w.onError(G)),typeof D.error=="function"&&D.error(G),b.reject(G)},version:"4.2.0"};i.P6.ajax(W).catch(function(M){console.warn(M)})}i.P6.listenNetwork(Be.bind(this),Ce.bind(this))}}function Be(){var D;l.kg.debug("online"),this.onOnline&&this.onOnline(),(D=this.eventHandler)===null||D===void 0||D.dispatch("onOnline"),this.sock&&this.sock.readyState!==1&&(l.kg.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())}function Ce(){var D;l.kg.debug("offline"),this.onOffline&&this.onOffline(),(D=this.eventHandler)===null||D===void 0||D.dispatch("onOffline")}function Ue(D,q){var w=this,X=this._getSock();this.sock=X;var E=function(){var C;l.kg.debug("websockt onOpen"),q&&q({data:{isLastApi:1,isSuccess:1,accessChannel:(C=w.socketHost[w.hostIndex])===null||C===void 0?void 0:C.channel}});var P=i.P6.flow([w.mSync.generateProvision,w.mSync.base64transform])();try{X.send(P)}catch(S){var _=s.Z.create({type:o.E.SDK_RUNTIME_ERROR,message:"send message error",data:S});w.onError&&w.onError(_)}},b=function(C){setTimeout(function(){var P,_,S,W,M,G;l.kg.debug("websocket onClose"),Q.platform!=="zfb"&&Q.platform!=="dd"||(w.sock.readyState=3);var te=(C==null?void 0:C.code)===401||((P=w.closeInfo)===null||P===void 0?void 0:P.code)===401;if(w.logOut)w.clear(),w.resetConnState(),te&&(l.kg.debug("websocket provision error"),w.closeInfo=null),w.onClosed&&w.onClosed(),(_=w.eventHandler)===null||_===void 0||_.dispatch("onDisconnected");else if(te){l.kg.debug("websocket provision error");var ce={type:o.E.WEBIM_CONNECTION_ERROR,message:"provision error",data:C};w.closeInfo=null,w.onError&&w.onError(ce),(S=w.eventHandler)===null||S===void 0||S.dispatch("onError",ce),w.onClosed&&w.onClosed(),(W=w.eventHandler)===null||W===void 0||W.dispatch("onDisconnected"),w.resetConnState()}else if(w.autoReconnectNumTotal<w.autoReconnectNumMax){w.reconnect();var ye={type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};w.onError&&w.onError(ye),w.autoReconnectNumTotal%w.refreshDNSIntervals==0&&Q.platform==="web"&&w.isHttpDNS&&(l.kg.debug("refresh dns config when websocket close"),Ge.call(w,"refresh",{},{}))}else(M=w.unMSyncSendMsgMap)===null||M===void 0||M.clear(),w.rejectMessage(),ye={type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"},w.onError&&w.onError(ye),w.onClosed&&w.onClosed(),(G=w.eventHandler)===null||G===void 0||G.dispatch("onDisconnected"),w.resetConnState(),w.reconnecting=!1,l.kg.debug("reconnect fail")},0)},x=function(C){var P=w.mSync,_=P.decodeMSync,S=P.distributeMSync;i.P6.flow([_,S])(C)};Q.platform==="web"?(X.onopen=E,X.onclose=b,X.onmessage=x):(X.onOpen(E),X.onMessage(x),X.onClose(b),typeof window<"u"&&window.WebSocket||X.onError(function(C){var P,_,S;if(l.kg.debug("mini program sock on error",C),w.onError&&w.onError({type:o.E.WEBIM_CONNECTION_ERROR,message:"on socket error",data:C}),!w.logOut)if(w.autoReconnectNumTotal<w.autoReconnectNumMax)l.kg.debug("sock.onError reconnect",w.autoReconnectNumTotal,w.autoReconnectNumMax),w.reconnect(),w.autoReconnectNumTotal%w.refreshDNSIntervals==0&&Q.platform==="web"&&w.isHttpDNS&&(l.kg.debug("refresh dns config when websocket error"),Ge.call(w,"refresh",{},{}));else{var W={type:o.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};(P=w.unMSyncSendMsgMap)===null||P===void 0||P.clear(),w.rejectMessage(),w.onError&&w.onError(W),w.onClosed&&w.onClosed(),(_=w.eventHandler)===null||_===void 0||_.dispatch("onDisconnected"),w.resetConnState(),w.reconnecting=!1,l.kg.debug("reconnect fail")}q&&q({data:{isLastApi:1,isSuccess:0,accessChannel:(S=w.socketHost[w.hostIndex])===null||S===void 0?void 0:S.channel}})}))}function ke(D){if(D.user===""){var q=s.Z.create({type:o.E.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,message:"the user cannot be empty"});return l.kg.debug("open params error",q),this.onError&&this.onError(q),!1}var w=this.appKey.split("#");return!(w.length!==2||!w[0]||!w[1])||(q=s.Z.create({type:o.E.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"the appKey is illegal"}),l.kg.debug("open params error",q),this.onError&&this.onError(q),!1)}function je(D){this.context.jid={appKey:this.appKey,name:D.user,domain:this.domain,clientResource:this.clientResource};var q=this.appKey.split("#"),w=q[0],X=q[1];this.context.root=this.root,this.context.userId=D.user,this.context.appKey=this.appKey,this.context.appName=X,this.context.orgName=w}function Ge(D,q,w){var X=this,E=w.rpt,b=w.isRetry,x=this.dnsArr[this.dnsIndex]+"/easemob/server.json",C={url:x,dataType:"json",type:"GET",data:{app_key:encodeURIComponent(this.appKey)},success:function(P){var _=P.extraInfo,S=_.elapse,W=_.httpCode,M={requestUrl:x,requestName:c.c.GET_DNS,requestElapse:S,isSuccess:1,code:W};(P==null?void 0:P.enableDataReport)==="true"?(X.dataReport.setIsCollectDt(!0),X.dataReport.setIsReportDt(!0)):(X.dataReport.setIsReportDt(!1),X.dataReport.setIsCollectDt(!1)),E&&E({isRetry:b,data:M});var G=P.rest.hosts,te=X.https?"https":"http";if(l.kg.info("httpType: "+te),!G)return Promise.reject(!1);for(var ce=G.filter(function(ie){if(ie.protocol===te)return ie}),ye=0;ye<ce.length;ye++)if(ce[ye].protocol===te){var B=ce[ye];ce.splice(ye,1),ce.unshift(B)}X.restHosts=ce,X.restTotal=ce.length;var J=P["msync-ws"].hosts;if(!J)return Promise.reject(!1);var ae=J.filter(function(ie){return ie.protocol===te&&ie});X.socketHost=ae,X.hostTotal=ae.length,xe.call(X),D!=="refresh"&&(D==="login"?Ae.call(X,q,{rpt:E}):Oe.call(X,q,{rpt:E}))},error:function(P){var _=P.extraInfo,S=_.elapse,W=_.httpCode,M=_.errDesc,G={requestUrl:x,requestName:c.c.GET_DNS,isSuccess:0,code:W,codeDesc:M,requestElapse:S};E&&E({isRetry:b,data:G}),l.kg.debug("getHttpDNS fail: "+X.dnsIndex),X.dnsIndex++,X.dnsIndex<X.dnsTotal&&Ge.call(X,D,q,{rpt:E,isRetry:!0})}};return i.P6.ajax(C).catch(function(P){console.warn(P)})}function xe(){var D,q;if(this.restIndex>this.restTotal)return l.kg.debug("restIndex > restTotal"),"";var w="",X=this.restHosts[this.restIndex],E=X.domain,b=X.ip,x=X.port,C=this.https?"https:":"http:";return b&&typeof window<"u"&&((D=window==null?void 0:window.location)===null||D===void 0?void 0:D.protocol)==="http:"?w=C+"//"+b+":"+x:(w=C+"//"+E,x&&x!=="80"&&x!=="443"&&(w+=":".concat(x)),typeof window>"u"||window.location||(w="https://"+E),typeof window<"u"&&window.location&&((q=window.location)===null||q===void 0?void 0:q.protocol)==="file:"&&(w="https://"+E)),typeof window>"u"&&(w=C+"//"+E),this.apiUrl=w,w}var De=__webpack_require__(2449);r().util.Long=a(),r().configure();var ge=r().Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9},editMessageId:{type:"uint64",id:11}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21},subType:{type:"SubType",id:22},title:{type:"string",id:23},summary:{type:"string",id:24},combineLevel:{type:"int32",id:25}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7,COMBINE:8}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}},SubType:{values:{COMBINE:0}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7,EDIT:8}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{type:"KeyValue",id:8},meta:{type:"bytes",id:9},directedUsers:{rule:"repeated",type:"string",id:10}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1,ROUTE_DIRECT:2}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44,GROUP_MEMBER_METADATA_UPDATE:45}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}});Y.prototype.root=ge;var be=l.kg.getLogger("defaultLogger");be.setConfig({useCache:!1,maxCache:3145728,color:"",background:""}),be.enableAll(),Y.prototype._getSock=function(){if(this.isHttpDNS){var D=this.socketHost[this.hostIndex];if(!D)throw this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0,this.onClosed&&this.onClosed(),new Error("No connected domain name when get websocket.");var q=D.domain,w=D.ip,X="",E=D.port;X=q||w,E&&E!=="80"&&E!=="443"&&(X+=":"+E),X&&(this.url="//"+X+"/ws");var b=this.https?"https:":"http:";this.url=b+this.url}return new(O())(this.url)},Y.prototype.getUniqueId=i.P6.getUniqueId;var Ie={connection:Y,message:De.Message,utils:i.P6,logger:be,statusCode:o.E};typeof window<"u"&&(window.WebIM=Ie);var Se=Ie}(),__webpack_exports__}()})})(EasemobChat);var EasemobChatExports=EasemobChat.exports;const EaseSDK=getDefaultExportFromCjs(EasemobChatExports),mountEaseIMListener=h=>{console.log(">>>mountEaseIMListener"),h.addEventHandler("connection",{onConnected:()=>{console.log(">>>>>IM 登录成功")}})};var miniCore={exports:{}};(function(module,exports){(function(h,O){module.exports=O()})(commonjsGlobal,function(){return function(){var __webpack_modules__={4537:function(h){h.exports=function(O,e){for(var r=new Array(arguments.length-1),n=0,a=2,s=!0;a<arguments.length;)r[n++]=arguments[a++];return new Promise(function(i,o){r[n]=function(t){if(s)if(s=!1,t)o(t);else{for(var l=new Array(arguments.length-1),u=0;u<l.length;)l[u++]=arguments[u];i.apply(null,l)}};try{O.apply(e||null,r)}catch(t){s&&(s=!1,o(t))}})}},7419:function(h,O){var e=O;e.length=function(i){var o=i.length;if(!o)return 0;for(var t=0;--o%4>1&&i.charAt(o)==="=";)++t;return Math.ceil(3*i.length)/4-t};for(var r=new Array(64),n=new Array(123),a=0;a<64;)n[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;e.encode=function(i,o,t){for(var l,u=null,g=[],f=0,d=0;o<t;){var p=i[o++];switch(d){case 0:g[f++]=r[p>>2],l=(3&p)<<4,d=1;break;case 1:g[f++]=r[l|p>>4],l=(15&p)<<2,d=2;break;case 2:g[f++]=r[l|p>>6],g[f++]=r[63&p],d=0}f>8191&&((u||(u=[])).push(String.fromCharCode.apply(String,g)),f=0)}return d&&(g[f++]=r[l],g[f++]=61,d===1&&(g[f++]=61)),u?(f&&u.push(String.fromCharCode.apply(String,g.slice(0,f))),u.join("")):String.fromCharCode.apply(String,g.slice(0,f))};var s="invalid encoding";e.decode=function(i,o,t){for(var l,u=t,g=0,f=0;f<i.length;){var d=i.charCodeAt(f++);if(d===61&&g>1)break;if((d=n[d])===void 0)throw Error(s);switch(g){case 0:l=d,g=1;break;case 1:o[t++]=l<<2|(48&d)>>4,l=d,g=2;break;case 2:o[t++]=(15&l)<<4|(60&d)>>2,l=d,g=3;break;case 3:o[t++]=(3&l)<<6|d,g=0}}if(g===1)throw Error(s);return t-u},e.test=function(i){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(i)}},5124:function(h){function O(e,r){typeof e=="string"&&(r=e,e=void 0);var n=[];function a(i){if(typeof i!="string"){var o=s();if(O.verbose&&console.log("codegen: "+o),o="return "+o,i){for(var t=Object.keys(i),l=new Array(t.length+1),u=new Array(t.length),g=0;g<t.length;)l[g]=t[g],u[g]=i[t[g++]];return l[g]=o,Function.apply(null,l).apply(null,u)}return Function(o)()}for(var f=new Array(arguments.length-1),d=0;d<f.length;)f[d]=arguments[++d];if(d=0,i=i.replace(/%([%dfijs])/g,function(p,m){var T=f[d++];switch(m){case"d":case"f":return String(Number(T));case"i":return String(Math.floor(T));case"j":return JSON.stringify(T);case"s":return String(T)}return"%"}),d!==f.length)throw Error("parameter count mismatch");return n.push(i),a}function s(i){return"function "+(i||r||"")+"("+(e&&e.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return a.toString=s,a}h.exports=O,O.verbose=!1},9211:function(h){function O(){this._listeners={}}h.exports=O,O.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this},O.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],a=0;a<n.length;)n[a].fn===r?n.splice(a,1):++a;return this},O.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],a=1;a<arguments.length;)n.push(arguments[a++]);for(a=0;a<r.length;)r[a].fn.apply(r[a++].ctx,n)}return this}},9054:function(h,O,e){h.exports=a;var r=e(4537),n=e(7199)("fs");function a(s,i,o){return typeof i=="function"?(o=i,i={}):i||(i={}),o?!i.xhr&&n&&n.readFile?n.readFile(s,function(t,l){return t&&typeof XMLHttpRequest<"u"?a.xhr(s,i,o):t?o(t):o(null,i.binary?l:l.toString("utf8"))}):a.xhr(s,i,o):r(a,this,s,i)}a.xhr=function(s,i,o){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===4){if(t.status!==0&&t.status!==200)return o(Error("status "+t.status));if(i.binary){var l=t.response;if(!l){l=[];for(var u=0;u<t.responseText.length;++u)l.push(255&t.responseText.charCodeAt(u))}return o(null,typeof Uint8Array<"u"?new Uint8Array(l):l)}return o(null,t.responseText)}},i.binary&&("overrideMimeType"in t&&t.overrideMimeType("text/plain; charset=x-user-defined"),t.responseType="arraybuffer"),t.open("GET",s),t.send()}},945:function(h){function O(s){return typeof Float32Array<"u"?function(){var i=new Float32Array([-0]),o=new Uint8Array(i.buffer),t=o[3]===128;function l(d,p,m){i[0]=d,p[m]=o[0],p[m+1]=o[1],p[m+2]=o[2],p[m+3]=o[3]}function u(d,p,m){i[0]=d,p[m]=o[3],p[m+1]=o[2],p[m+2]=o[1],p[m+3]=o[0]}function g(d,p){return o[0]=d[p],o[1]=d[p+1],o[2]=d[p+2],o[3]=d[p+3],i[0]}function f(d,p){return o[3]=d[p],o[2]=d[p+1],o[1]=d[p+2],o[0]=d[p+3],i[0]}s.writeFloatLE=t?l:u,s.writeFloatBE=t?u:l,s.readFloatLE=t?g:f,s.readFloatBE=t?f:g}():function(){function i(t,l,u,g){var f=l<0?1:0;if(f&&(l=-l),l===0)t(1/l>0?0:2147483648,u,g);else if(isNaN(l))t(2143289344,u,g);else if(l>34028234663852886e22)t((f<<31|2139095040)>>>0,u,g);else if(l<11754943508222875e-54)t((f<<31|Math.round(l/1401298464324817e-60))>>>0,u,g);else{var d=Math.floor(Math.log(l)/Math.LN2);t((f<<31|d+127<<23|8388607&Math.round(l*Math.pow(2,-d)*8388608))>>>0,u,g)}}function o(t,l,u){var g=t(l,u),f=2*(g>>31)+1,d=g>>>23&255,p=8388607&g;return d===255?p?NaN:f*(1/0):d===0?1401298464324817e-60*f*p:f*Math.pow(2,d-150)*(p+8388608)}s.writeFloatLE=i.bind(null,e),s.writeFloatBE=i.bind(null,r),s.readFloatLE=o.bind(null,n),s.readFloatBE=o.bind(null,a)}(),typeof Float64Array<"u"?function(){var i=new Float64Array([-0]),o=new Uint8Array(i.buffer),t=o[7]===128;function l(d,p,m){i[0]=d,p[m]=o[0],p[m+1]=o[1],p[m+2]=o[2],p[m+3]=o[3],p[m+4]=o[4],p[m+5]=o[5],p[m+6]=o[6],p[m+7]=o[7]}function u(d,p,m){i[0]=d,p[m]=o[7],p[m+1]=o[6],p[m+2]=o[5],p[m+3]=o[4],p[m+4]=o[3],p[m+5]=o[2],p[m+6]=o[1],p[m+7]=o[0]}function g(d,p){return o[0]=d[p],o[1]=d[p+1],o[2]=d[p+2],o[3]=d[p+3],o[4]=d[p+4],o[5]=d[p+5],o[6]=d[p+6],o[7]=d[p+7],i[0]}function f(d,p){return o[7]=d[p],o[6]=d[p+1],o[5]=d[p+2],o[4]=d[p+3],o[3]=d[p+4],o[2]=d[p+5],o[1]=d[p+6],o[0]=d[p+7],i[0]}s.writeDoubleLE=t?l:u,s.writeDoubleBE=t?u:l,s.readDoubleLE=t?g:f,s.readDoubleBE=t?f:g}():function(){function i(t,l,u,g,f,d){var p=g<0?1:0;if(p&&(g=-g),g===0)t(0,f,d+l),t(1/g>0?0:2147483648,f,d+u);else if(isNaN(g))t(0,f,d+l),t(2146959360,f,d+u);else if(g>17976931348623157e292)t(0,f,d+l),t((p<<31|2146435072)>>>0,f,d+u);else{var m;if(g<22250738585072014e-324)t((m=g/5e-324)>>>0,f,d+l),t((p<<31|m/4294967296)>>>0,f,d+u);else{var T=Math.floor(Math.log(g)/Math.LN2);T===1024&&(T=1023),t(4503599627370496*(m=g*Math.pow(2,-T))>>>0,f,d+l),t((p<<31|T+1023<<20|1048576*m&1048575)>>>0,f,d+u)}}}function o(t,l,u,g,f){var d=t(g,f+l),p=t(g,f+u),m=2*(p>>31)+1,T=p>>>20&2047,c=4294967296*(1048575&p)+d;return T===2047?c?NaN:m*(1/0):T===0?5e-324*m*c:m*Math.pow(2,T-1075)*(c+4503599627370496)}s.writeDoubleLE=i.bind(null,e,0,4),s.writeDoubleBE=i.bind(null,r,4,0),s.readDoubleLE=o.bind(null,n,0,4),s.readDoubleBE=o.bind(null,a,4,0)}(),s}function e(s,i,o){i[o]=255&s,i[o+1]=s>>>8&255,i[o+2]=s>>>16&255,i[o+3]=s>>>24}function r(s,i,o){i[o]=s>>>24,i[o+1]=s>>>16&255,i[o+2]=s>>>8&255,i[o+3]=255&s}function n(s,i){return(s[i]|s[i+1]<<8|s[i+2]<<16|s[i+3]<<24)>>>0}function a(s,i){return(s[i]<<24|s[i+1]<<16|s[i+2]<<8|s[i+3])>>>0}h.exports=O(O)},7199:function(module){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(h){}return null}module.exports=inquire},8626:function(h,O){var e=O,r=e.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},n=e.normalize=function(a){var s=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),i=r(a),o="";i&&(o=s.shift()+"/");for(var t=0;t<s.length;)s[t]===".."?t>0&&s[t-1]!==".."?s.splice(--t,2):i?s.splice(t,1):++t:s[t]==="."?s.splice(t,1):++t;return o+s.join("/")};e.resolve=function(a,s,i){return i||(s=n(s)),r(s)?s:(i||(a=n(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?n(a+"/"+s):s)}},6662:function(h){h.exports=function(O,e,r){var n=r||8192,a=n>>>1,s=null,i=n;return function(o){if(o<1||o>a)return O(o);i+o>n&&(s=O(n),i=0);var t=e.call(s,i,i+=o);return 7&i&&(i=1+(7|i)),t}}},4997:function(h,O){var e=O;e.length=function(r){for(var n=0,a=0,s=0;s<r.length;++s)(a=r.charCodeAt(s))<128?n+=1:a<2048?n+=2:(64512&a)==55296&&(64512&r.charCodeAt(s+1))==56320?(++s,n+=4):n+=3;return n},e.read=function(r,n,a){if(a-n<1)return"";for(var s,i=null,o=[],t=0;n<a;)(s=r[n++])<128?o[t++]=s:s>191&&s<224?o[t++]=(31&s)<<6|63&r[n++]:s>239&&s<365?(s=((7&s)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++])-65536,o[t++]=55296+(s>>10),o[t++]=56320+(1023&s)):o[t++]=(15&s)<<12|(63&r[n++])<<6|63&r[n++],t>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),t=0);return i?(t&&i.push(String.fromCharCode.apply(String,o.slice(0,t))),i.join("")):String.fromCharCode.apply(String,o.slice(0,t))},e.write=function(r,n,a){for(var s,i,o=a,t=0;t<r.length;++t)(s=r.charCodeAt(t))<128?n[a++]=s:s<2048?(n[a++]=s>>6|192,n[a++]=63&s|128):(64512&s)==55296&&(64512&(i=r.charCodeAt(t+1)))==56320?(s=65536+((1023&s)<<10)+(1023&i),++t,n[a++]=s>>18|240,n[a++]=s>>12&63|128,n[a++]=s>>6&63|128,n[a++]=63&s|128):(n[a++]=s>>12|224,n[a++]=s>>6&63|128,n[a++]=63&s|128);return a-o}},4188:function(h,O,e){var r,n,a;(function(s){if(O!=null&&typeof O.nodeType!="number")h.exports=s();else if(e.amdO!=null)n=[],(a=typeof(r=s)=="function"?r.apply(O,n):r)===void 0||(h.exports=a);else{var i=s(),o=typeof self<"u"?self:$.global;typeof o.btoa!="function"&&(o.btoa=i.btoa),typeof o.atob!="function"&&(o.atob=i.atob)}})(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(o){this.message=o}return i.prototype=new Error,i.prototype.name="InvalidCharacterError",{btoa:function(o){for(var t,l,u=String(o),g=0,f=s,d="";u.charAt(0|g)||(f="=",g%1);d+=f.charAt(63&t>>8-g%1*8)){if((l=u.charCodeAt(g+=.75))>255)throw new i("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|l}return d},atob:function(o){var t=String(o).replace(/[=]+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var l,u,g=0,f=0,d="";u=t.charAt(f++);~u&&(l=g%4?64*l+u:u,g++%4)?d+=String.fromCharCode(255&l>>(-2*g&6)):0)u=s.indexOf(u);return d}}})},4363:function(h,O,e){e.d(O,{w:function(){return a}}),e(9601),e(2772);var r=e(7360),n=function(){return n=Object.assign||function(s){for(var i,o=1,t=arguments.length;o<t;o++)for(var l in i=arguments[o])Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l]);return s},n.apply(this,arguments)};function a(s){var i,o,t,l=s.id,u=s.payload,g=s.timestamp,f=s.to,d=u.bodies&&u.bodies.length>0?u.bodies[0]:{},p={},m={},T=u.type?u.type:f.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";switch(T=T==="chat"?"singleChat":T,d.type){case"txt":var c=(i=u==null?void 0:u.meta)===null||i===void 0?void 0:i.edit_msg;if(p={id:l,type:"txt",chatType:T,msg:d.msg||"",to:u.to||"",from:u.from,time:g,ext:u.ext},c){var I=c.edit_time,v=c.operator,N=c.count;p.modifiedInfo={operationTime:I,operatorId:v,operationCount:N}}break;case"img":p={id:l,type:"img",chatType:T,to:u.to,from:u.from,time:g,ext:u.ext,width:((o=d.size)===null||o===void 0?void 0:o.width)||0,height:((t=d.size)===null||t===void 0?void 0:t.height)||0,secret:d.secret||"",url:(d==null?void 0:d.url)||"",file_length:d.file_length||0,file:{}};break;case"video":p={id:l,type:"video",chatType:T,from:u.from,to:u.to,url:(d==null?void 0:d.url)||"",secret:d.secret||"",filename:d.filename,length:d.length||0,file:{},file_length:d.file_length||0,filetype:u.ext.file_type||"",ext:u.ext,time:g};break;case"loc":p={id:l,type:"loc",chatType:T,from:u.from,to:u.to,buildingName:d.buildingName||"",addr:d.addr,lat:d.lat,lng:d.lng,ext:u.ext,time:g};break;case"audio":p={id:l,type:"audio",chatType:T,from:u.from,to:u.to,secret:d.secret||"",ext:u.ext,time:g,url:(d==null?void 0:d.url)||"",file:{},filename:d.filename,length:d.length||0,file_length:d.file_length||0,filetype:u.ext.file_type||""};break;case"file":p={id:l,type:"file",chatType:T,from:u.from,to:u.to,ext:u.ext,time:g,url:(d==null?void 0:d.url)||"",secret:d.secret||"",file:{},filename:d.filename||"",file_length:d.file_length||0,filetype:u.ext.file_type||""};break;case"cmd":p={id:l,type:"cmd",chatType:T,from:u.from,to:u.to,ext:u.ext,time:g,action:d.action||""};break;case"custom":p={id:l,type:"custom",chatType:T,from:u.from,to:u.to,ext:u.ext,time:g,customEvent:d.customEvent||"",customExts:d.customExts||""};break;case"combine":p={id:l,type:"combine",chatType:T,msg:d.msg||"",to:u.to||"",from:u.from,time:g,ext:u.ext,title:d.title||"",summary:d.summary||"",url:(d==null?void 0:d.url)||"",compatibleText:d.text,combineLevel:d.combineLevel||0,secret:d.secret||"",filename:d.filename||"",file_length:d.file_length||0};break;default:r.kg.error("unexpected message: ".concat(s))}if(u.msgConfig&&(m.msgConfig=u.msgConfig),u==null?void 0:u.meta){var k=u.meta;k.thread&&(m.chatThread={messageId:k.thread.msg_parent_id,parentId:k.thread.muc_parent_id,chatThreadName:k.thread.thread_name}),k.reactions&&(m.reactions=k.reactions),k.translations&&(m.translations=k.translations)}return n(n({},p),m)}},2071:function(h,O,e){e.d(O,{$x:function(){return i},F3:function(){return o},Nl:function(){return n},TJ:function(){return a},Tp:function(){return u},Wc:function(){return r},el:function(){return s},iB:function(){return t},yK:function(){return l}}),e(6992),e(1532),e(1539),e(8783),e(3948);var r=7,n=new Map,a=new Map,s="im",i="32f24ab2ddb74f508aa9286c356cec84",o=1e3,t={INIT:9674,API:9675},l="direct",u=-1},1595:function(h,O,e){var r,n,a,s,i,o;e.d(O,{C8:function(){return r},aC:function(){return o},c:function(){return a},dd:function(){return i},fI:function(){return n},td:function(){return s}}),function(t){t[t.UNKNOWOPERATION=-1]="UNKNOWOPERATION",t[t.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",t[t.REST_DEL_SESSION=2]="REST_DEL_SESSION",t[t.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",t[t.REST_PIN_CONVERSATION=4]="REST_PIN_CONVERSATION",t[t.REST_OPERATE=10]="REST_OPERATE",t[t.MSYNC_SENDMESSAGE=11]="MSYNC_SENDMESSAGE",t[t.MSYNC_RECALLMESSAGE=12]="MSYNC_RECALLMESSAGE",t[t.MSYNC_MODIFYMESSAGE=13]="MSYNC_MODIFYMESSAGE",t[t.MSYNC_OPERATE=20]="MSYNC_OPERATE",t[t.ROSTER_ADD=21]="ROSTER_ADD",t[t.ROSTER_REMOVE=22]="ROSTER_REMOVE",t[t.ROSTER_ACCEPT=23]="ROSTER_ACCEPT",t[t.ROSTER_DECLINE=24]="ROSTER_DECLINE",t[t.ROSTER_BAN=25]="ROSTER_BAN",t[t.ROSTER_ALLOW=26]="ROSTER_ALLOW",t[t.ROSTER_BLACKLIST=27]="ROSTER_BLACKLIST",t[t.ROSTER_CONTACTS=28]="ROSTER_CONTACTS",t[t.ROSTER_OPERATE=30]="ROSTER_OPERATE",t[t.USER_LOGIN=31]="USER_LOGIN",t[t.USER_CREATE=32]="USER_CREATE",t[t.USER_UPDATE_USERINFO=33]="USER_UPDATE_USERINFO",t[t.USER_FETCH_USERINFO=34]="USER_FETCH_USERINFO",t[t.USER_UPDATE_NICK=35]="USER_UPDATE_NICK",t[t.USER_UPLOAD_PUSH_TOKEN=36]="USER_UPLOAD_PUSH_TOKEN",t[t.USER_OPERATE=40]="USER_OPERATE",t[t.GROUP_CREATEGROUP=41]="GROUP_CREATEGROUP",t[t.GROUP_BLOCK_MESSAGE=42]="GROUP_BLOCK_MESSAGE",t[t.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=43]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",t[t.GROUP_FETCH_USERS_GROUP=44]="GROUP_FETCH_USERS_GROUP",t[t.GROUP_CHANGE_OWNER=45]="GROUP_CHANGE_OWNER",t[t.GROUP_FETCH_SPECIFICATION=46]="GROUP_FETCH_SPECIFICATION",t[t.GROUP_CHANGE_GROUPATTRIBUTE=47]="GROUP_CHANGE_GROUPATTRIBUTE",t[t.GROUP_FETCH_MEMEBERS=48]="GROUP_FETCH_MEMEBERS",t[t.GROUP_GET_ADMIN=49]="GROUP_GET_ADMIN",t[t.GROUP_SET_ADMIN=50]="GROUP_SET_ADMIN",t[t.GROUP_REMOVE_ADMIN=51]="GROUP_REMOVE_ADMIN",t[t.GROUP_DESTOTYGROUP=52]="GROUP_DESTOTYGROUP",t[t.GROUP_LEAVEGROUP=53]="GROUP_LEAVEGROUP",t[t.GROUP_INVITE_TO_GROUP=54]="GROUP_INVITE_TO_GROUP",t[t.GROUP_JOIN_PUBLICGROUP=55]="GROUP_JOIN_PUBLICGROUP",t[t.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=56]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",t[t.GROUP_DECLINE_JOINPUBLICGROUPAPPL=57]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",t[t.GROUP_ACCEPT_INVITATION=58]="GROUP_ACCEPT_INVITATION",t[t.GROUP_DECLINE_INVITATION=59]="GROUP_DECLINE_INVITATION",t[t.GROUP_REMOVE_MEMBER=60]="GROUP_REMOVE_MEMBER",t[t.GROUP_REMOVE_MEMBERS=61]="GROUP_REMOVE_MEMBERS",t[t.GROUP_MUTE_MEMBERS=62]="GROUP_MUTE_MEMBERS",t[t.GROUP_UNMUTE_MEMBERS=63]="GROUP_UNMUTE_MEMBERS",t[t.GROUP_FETCH_MUTES=64]="GROUP_FETCH_MUTES",t[t.GROUP_BLOCK_MEMBER=65]="GROUP_BLOCK_MEMBER",t[t.GROUP_BLOCK_MEMBERS=66]="GROUP_BLOCK_MEMBERS",t[t.GROUP_UNBLOCK_MEMBER=67]="GROUP_UNBLOCK_MEMBER",t[t.GROUP_UNBLOCK_MEMBERS=68]="GROUP_UNBLOCK_MEMBERS",t[t.GROUP_GET_BLOCK_LIST=69]="GROUP_GET_BLOCK_LIST",t[t.GROUP_MUTE_ALLMEMBERS=70]="GROUP_MUTE_ALLMEMBERS",t[t.GROUP_UNMUTE_ALLMEMBERS=71]="GROUP_UNMUTE_ALLMEMBERS",t[t.GROUP_ADD_WHITELIST=72]="GROUP_ADD_WHITELIST",t[t.GROUP_REMOVE_WHITELIST=73]="GROUP_REMOVE_WHITELIST",t[t.GROUP_FETCH_WHITELIST=74]="GROUP_FETCH_WHITELIST",t[t.GROUP_IS_IN_WHITELIST=75]="GROUP_IS_IN_WHITELIST",t[t.GROUP_GET_READ_USERS=76]="GROUP_GET_READ_USERS",t[t.GROUP_FETCH_ANNOUNCEMENT=77]="GROUP_FETCH_ANNOUNCEMENT",t[t.GROUP_UPDATE_ANNOUNCEMENT=78]="GROUP_UPDATE_ANNOUNCEMENT",t[t.GROUP_UPLOAD_SHAREDFILE=79]="GROUP_UPLOAD_SHAREDFILE",t[t.GROUP_DELETE_SHAREDFILE=80]="GROUP_DELETE_SHAREDFILE",t[t.GROUP_FETCH_SHAREDFILE=81]="GROUP_FETCH_SHAREDFILE",t[t.GROUP_DOWNLOAD_SHAREDFILE=82]="GROUP_DOWNLOAD_SHAREDFILE",t[t.GROUP_MEMBER_SET_META_DATA=83]="GROUP_MEMBER_SET_META_DATA",t[t.GROUP_MEMBER_FETCH_META_DATA=84]="GROUP_MEMBER_FETCH_META_DATA",t[t.GROUP_OPERATE=100]="GROUP_OPERATE",t[t.CHATROOM_FETCH_CHATROOMSWITHPAGE=101]="CHATROOM_FETCH_CHATROOMSWITHPAGE",t[t.CHATROOM_CREATECHATROOM=102]="CHATROOM_CREATECHATROOM",t[t.CHATROOM_DESTORYCHATROOM=103]="CHATROOM_DESTORYCHATROOM",t[t.CHATROOM_FETCH_SPECIFICATION=104]="CHATROOM_FETCH_SPECIFICATION",t[t.CHATROOM_CHANGE_ATTRIBUTE=105]="CHATROOM_CHANGE_ATTRIBUTE",t[t.CHATROOM_REMOVE_MEMBER=106]="CHATROOM_REMOVE_MEMBER",t[t.CHATROOM_REMOVE_MEMBERS=107]="CHATROOM_REMOVE_MEMBERS",t[t.CHATROOM_ADD_MEMBERS=108]="CHATROOM_ADD_MEMBERS",t[t.CHATROOM_JOINCAHTROOM=109]="CHATROOM_JOINCAHTROOM",t[t.CHATROOM_LEAVECAHTROOM=110]="CHATROOM_LEAVECAHTROOM",t[t.CHATROOM_FETCH_MEMBERS=111]="CHATROOM_FETCH_MEMBERS",t[t.CHATROOM_GET_ADMIN=112]="CHATROOM_GET_ADMIN",t[t.CHATROOM_SET_ADMIN=113]="CHATROOM_SET_ADMIN",t[t.CHATROOM_REMOVE_ADMIN=114]="CHATROOM_REMOVE_ADMIN",t[t.CHATROOM_MUTE_USER=115]="CHATROOM_MUTE_USER",t[t.CHATROOM_UNMUTE_USER=116]="CHATROOM_UNMUTE_USER",t[t.CHATROOM_FETCH_MUTES=117]="CHATROOM_FETCH_MUTES",t[t.CHATROOM_BLOCK_USER=118]="CHATROOM_BLOCK_USER",t[t.CHATROOM_BLOCK_USERS=119]="CHATROOM_BLOCK_USERS",t[t.CHATROOM_UNBLOCK_USER=120]="CHATROOM_UNBLOCK_USER",t[t.CHATROOM_UNBLOCK_USERS=121]="CHATROOM_UNBLOCK_USERS",t[t.CHATROOM_FETCH_BANS=122]="CHATROOM_FETCH_BANS",t[t.CHATROOM_MUTE_ALLMEMEBERS=123]="CHATROOM_MUTE_ALLMEMEBERS",t[t.CHATROOM_UNMUTE_ALLMEMEBERS=124]="CHATROOM_UNMUTE_ALLMEMEBERS",t[t.CHATROOM_ADD_WHITELIST=125]="CHATROOM_ADD_WHITELIST",t[t.CHATROOM_REMOVE_WHITELIST=126]="CHATROOM_REMOVE_WHITELIST",t[t.CHATROOM_FETCH_WHITELIST=127]="CHATROOM_FETCH_WHITELIST",t[t.CHATROOM_FETCH_MEMBERIN_WHITELIST=128]="CHATROOM_FETCH_MEMBERIN_WHITELIST",t[t.CHATROOM_FETCH_ANNOUNCEMENT=129]="CHATROOM_FETCH_ANNOUNCEMENT",t[t.CHATROOM_UPDATE_ANNOUNCEMENT=130]="CHATROOM_UPDATE_ANNOUNCEMENT",t[t.CHATROOM_REMOVE_SHARE_FILE=131]="CHATROOM_REMOVE_SHARE_FILE",t[t.CHATROOM_GET_SHARE_FILE_LIST=132]="CHATROOM_GET_SHARE_FILE_LIST",t[t.CHATROOM_UPLOAD_FILE=133]="CHATROOM_UPLOAD_FILE",t[t.CHATROOM_SET_META_DATA=134]="CHATROOM_SET_META_DATA",t[t.CHATROOM_DELETE_META_DATA=135]="CHATROOM_DELETE_META_DATA",t[t.CHATROOM_FETCH_META_DATA=136]="CHATROOM_FETCH_META_DATA",t[t.CHATROOM_OPERATE=150]="CHATROOM_OPERATE"}(r||(r={})),function(t){t.SDK_INTERNAL="SDK_INTERNAL",t.LOGIN="USER_LOGIN",t.REGISTER="USER_CREATE",t.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",t.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",t.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",t.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",t.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",t.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",t.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",t.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",t.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",t.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",t.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",t.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",t.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",t.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",t.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",t.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",t.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",t.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",t.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",t.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",t.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",t.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",t.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",t.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",t.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",t.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",t.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",t.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",t.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",t.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",t.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",t.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",t.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",t.SET_CHATROOM_ATTR="CHATROOM_SET_META_DATA",t.DELETE_CHATROOM_ATTR="CHATROOM_DELETE_META_DATA",t.GET_CHATROOM_ATTR="CHATROOM_FETCH_META_DATA",t.CREATE_GROUP="GROUP_CREATEGROUP",t.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",t.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",t.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",t.CHANGE_OWNER="GROUP_CHANGE_OWNER",t.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",t.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",t.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",t.GET_GROUP_ADMIN="GROUP_GET_ADMIN",t.SET_GROUP_ADMIN="GROUP_SET_ADMIN",t.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",t.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",t.QUIT_GROUP="GROUP_LEAVEGROUP",t.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",t.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",t.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",t.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",t.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",t.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",t.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",t.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",t.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",t.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",t.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",t.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",t.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",t.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",t.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",t.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",t.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",t.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",t.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",t.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",t.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",t.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",t.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",t.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",t.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",t.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",t.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",t.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",t.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",t.SET_GROUP_MEMBER_ATTRS="GROUP_MEMBER_SET_META_DATA",t.GET_GROUP_MEMBER_ATTR="GROUP_MEMBER_FETCH_META_DATA",t.GET_SESSION_LIST="REST_GET_SESSION_LIST",t.DELETE_SESSION="REST_DEL_SESSION",t.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",t.PIN_CONVERSATION="REST_PIN_CONVERSATION",t.UPDATE_USER_INFO="USER_UPDATE_USERINFO",t.GET_USER_INFO="USER_FETCH_USERINFO",t.UPDATE_USER_NICK="USER_UPDATE_NICK",t.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",t.GET_BLACK_LIST="ROSTER_BLACKLIST",t.GET_CONTACTS="ROSTER_CONTACTS",t.add="ROSTER_ADD",t.remove="ROSTER_REMOVE",t.accept="ROSTER_ACCEPT",t.decline="ROSTER_DECLINE",t.ban="ROSTER_BAN",t.allow="ROSTER_ALLOW",t.SEND_MSG="MSYNC_SENDMESSAGE",t.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",t.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE",t.MODIFY_MESSAGE="MSYNC_MODIFYMESSAGE"}(n||(n={})),function(t){t.GET_DNS="REST_DNSLIST",t.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",t.LOGIN_BY_PWD="LOGIN_BY_PWD",t.RESISTER="REGISTER"}(a||(a={})),function(t){t[t["5G"]=7]="5G",t[t["4G"]=7]="4G",t[t["3G"]=7]="3G",t[t["2G"]=7]="2G",t[t["SLOW-2G"]=7]="SLOW-2G",t[t.WIFI=2]="WIFI",t[t.LAN=1]="LAN",t[t.DISCONNECTED=0]="DISCONNECTED",t[t.NONE=0]="NONE",t[t.UNKNOWN=-1]="UNKNOWN",t[t["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(s||(s={})),function(t){t[t.success=200]="success",t[t.failed=500]="failed"}(i||(i={})),function(t){t[t.web=0]="web",t[t.native=1]="native"}(o||(o={}))},1070:function(h,O,e){e.d(O,{g:function(){return j},Z:function(){return X}}),e(9601),e(1539),e(8674),e(2526),e(1817),e(2165),e(6992),e(8783),e(3948),e(7042),e(2222),e(3710),e(9714),e(5212),e(8309),e(2772),e(9653),e(3843),e(1038),e(2564),e(9753),e(8264),e(9575),e(2472),e(2990),e(8927),e(3105),e(5035),e(4345),e(7174),e(2846),e(4731),e(7209),e(6319),e(8867),e(7789),e(3739),e(9368),e(4483),e(2056),e(3462),e(678),e(7462),e(3824),e(5021),e(2974),e(5016),e(561),e(6699),e(2023),e(3161),e(7941),e(9554),e(4747),e(285),e(1637),e(8145),e(1249),e(4812);var r=e(4188),n=e.n(r),a=e(3720),s=e.n(a),i=e(5531),o=e(8161),t=e(7360),l=["public","members_only","allow_user_invites","invite_need_confirm"],u={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function g(E,b){var x,C,P,_,S,W,M=this,G=this.context,te=G.userId,ce=G.jid,ye=b.from.name===te&&ce.clientResource!==b.from.clientResource;return b.isThread?(P={id:b.mucId.name,name:b.mucName,operation:"",parentId:b.mucParentId.name,operator:b.from.name,userName:b.to.length?b.to[0].name:""},_={chatThreadId:b.mucId.name,chatThreadName:b.mucName,operation:"",parentId:b.mucParentId.name}):(C={type:"",owner:b.from.name,gid:b.mucId.name,from:b.from.name,fromJid:b.from,to:b.to.length?b.to[0].name:"",toJid:b.to,chatroom:b.isChatroom,status:b.status},S={operation:"",id:b.mucId.name,from:b.from.name},b.isChatroom&&(!((x=b==null?void 0:b.eventInfo)===null||x===void 0)&&x.ext)&&(W=JSON.parse(b.eventInfo.ext))),({45:function(){var B,J,ae;S.operation="memberAttributesUpdate";var ie=JSON.parse((B=b==null?void 0:b.eventInfo)===null||B===void 0?void 0:B.ext)||{};S.attributes=ie.properties||{},S.userId=ie.username||"",ye?(J=M.eventHandler)===null||J===void 0||J.dispatch("onMultiDeviceEvent",S):(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onGroupEvent",S)},44:function(){var B;S.operation="removeChatRoomAttributes",S.attributes=W.result.successKeys,W.result.successKeys.length>0&&((B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomEvent",S))},43:function(){var B;S.operation="updateChatRoomAttributes";var J={};W.result.successKeys.forEach(function(ae){J[ae]=W.properties[ae]}),S.attributes=J,W.result.successKeys.length>0&&((B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomEvent",S))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var B;_.operation="chatThreadNameUpdate",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},37:function(){var B;P.operation="userRemove",(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatThreadChange",P)},36:function(){var B;_.operation="chatThreadLeave",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},35:function(){var B;_.operation="chatThreadJoin",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},34:function(){var B;_.operation="chatThreadDestroy",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},33:function(){var B;_.operation="chatThreadCreate",(B=M.eventHandler)===null||B===void 0||B.dispatch("onMultiDeviceEvent",_)},32:function(){var B,J,ae,ie;C.type=b.isChatroom?"rmChatRoomMute":"rmGroupMute",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="unmuteAllMembers",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},31:function(){var B,J,ae,ie;C.type=b.isChatroom?"muteChatRoom":"muteGroup",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="muteAllMembers",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},30:function(){var B,J,ae,ie;C.type=b.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="removeAllowlistMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},29:function(){var B,J,ae,ie;C.type=b.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="addUserToAllowlist",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},28:function(){var B,J,ae,ie;C.type="deleteFile",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="deleteFile",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},27:function(){var B,J,ae,ie;C.type="uploadFile",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="uploadFile",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},26:function(){var B,J,ae,ie;C.type="deleteAnnouncement",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="deleteAnnouncement",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},25:function(){var B,J,ae,ie;C.type="updateAnnouncement",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="updateAnnouncement",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},24:function(){var B,J,ae,ie;C.type="removeMute",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="unmuteMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},23:function(){var B,J,ae,ie;C.type="addMute",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="muteMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},22:function(){var B,J,ae,ie;C.type="removeAdmin",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="removeAdmin",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},21:function(){var B,J,ae,ie;C.type="addAdmin",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="setAdmin",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},20:function(){var B,J,ae,ie;C.type="changeOwner",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="changeOwner",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},19:function(){var B,J,ae,ie;C.type="direct_joined",C.groupName=b.mucName,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="directJoined",S.name=b.mucName,b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},18:function(){var B,J,ae,ie;C.type=b.isChatroom?"leaveChatRoom":"leaveGroup",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="memberAbsence",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},17:function(){var B,J,ae,ie;C.type=b.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="memberPresence",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},16:function(){var B,J;C.type="unblock",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},15:function(){var B,J;C.type="block",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},14:function(){var B,J,ae,ie,Me,Ze=b.isChatroom;if(!Ze){var Re=JSON.parse(((B=b==null?void 0:b.eventInfo)===null||B===void 0?void 0:B.ext)||"{}",function(Ke,pe){return Ke==="last_modified"?Number(pe):l.includes(Ke)?pe==="true"||pe===!0:pe});S.detail=C.detail={},Object.keys(Re).forEach(function(Ke){var pe=u[Ke];if(pe){var Xe=Re[Ke];S.detail&&(S.detail[pe]=Xe),C.detail&&(C.detail[pe]=Xe)}})}C.type="update",M.onPresence&&M.onPresence(C),Ze?(J=M.eventHandler)===null||J===void 0||J.dispatch("onChatroomChange",C):(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onGroupChange",C),S.operation="updateInfo",Ze?(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onChatroomEvent",S):(Me=M.eventHandler)===null||Me===void 0||Me.dispatch("onGroupEvent",S)},13:function(){var B,J,ae,ie;C.type="allow",C.reason=b.reason,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="unblockMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},12:function(){var B,J;C.type="ban",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},11:function(){var B,J;C.type="getBlackList",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},10:function(){var B,J,ae,ie;C.type="removedFromGroup",C.kicked=C.to,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="removeMember",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},9:function(){var B,J,ae,ie;C.type="invite_decline",C.kicked=C.to,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="rejectInvite",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},8:function(){var B,J,ae,ie;C.type="invite_accept",C.kicked=C.to,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="acceptInvite",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},7:function(){var B,J,ae,ie;C.type="invite",C.kicked=C.to,C.groupName=b.mucName,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="inviteToJoin",S.name=b.mucName,b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},6:function(){var B,J,ae,ie;C.type="joinPublicGroupDeclined",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="joinPublicGroupDeclined",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},5:function(){var B,J,ae,ie;C.type="joinPublicGroupSuccess",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="acceptRequest",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},4:function(){var B,J,ae,ie;C.type="joinGroupNotifications",C.reason=b.reason,M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="requestToJoin",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},3:function(){var B,J;C.type="leave",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},2:function(){var B,J;C.type="join",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C)},1:function(){var B,J,ae,ie;C.type="deleteGroupChat",M.onPresence&&M.onPresence(C),b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomChange",C):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupChange",C),S.operation="destroy",b.isChatroom?(ae=M.eventHandler)===null||ae===void 0||ae.dispatch("onChatroomEvent",S):(ie=M.eventHandler)===null||ie===void 0||ie.dispatch("onGroupEvent",S)},0:function(){var B,J;S.operation="create",b.isChatroom?(B=M.eventHandler)===null||B===void 0||B.dispatch("onChatroomEvent",S):(J=M.eventHandler)===null||J===void 0||J.dispatch("onGroupEvent",S)}}[E]||function(){console.error("No match operation ".concat(E))})()}var f=function(E){var b=this.root.lookup("easemob.pb.MUCBody").decode(E.payload),x=b.operation;t.kg.debug("onMucMessage",b),g.call(this,x,b)},d=e(4968),p=e(7252),m=function(E){var b,x,C,P,_,S,W=this.root.lookup("easemob.pb.StatisticsBody").decode(E.payload);switch(W.operation){case 0:this.onStatisticMessage&&this.onStatisticMessage(W),(b=this.eventHandler)===null||b===void 0||b.dispatch("onStatisticMessage",W);break;case 1:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.logOut=!0,this.onError&&this.onError(S),(x=this.eventHandler)===null||x===void 0||x.dispatch("onError",S);break;case 2:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),this.logOut=!0,this.onError&&this.onError(S),(C=this.eventHandler)===null||C===void 0||C.dispatch("onError",S);break;case 3:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.logOut=!0,this.onError&&this.onError(S),(P=this.eventHandler)===null||P===void 0||P.dispatch("onError",S);break;case 4:S=p.Z.create({type:i.E.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.logOut=!0,this.onError&&this.onError(S),(_=this.eventHandler)===null||_===void 0||_.dispatch("onError",S);break;default:t.kg.error("handleStatisticsMsg:",W)}},T=(e(9720),e(4370)),c=e(4363);function I(E){var b,x=[],C=[],P=E.data;P&&P.values&&P.values.forEach(function(_){Object.entries(_.status).forEach(function(S){C.push({device:S[0],status:Number(S[1])})}),x.push({userId:_.uid,lastTime:Number(_.last_time),expire:Number(_.expiry),ext:_.ext,statusDetails:C})}),this.onPresenceStatusChange&&this.onPresenceStatusChange(x),(b=this.eventHandler)===null||b===void 0||b.dispatch("onPresenceStatusChange",x)}function v(E){var b=this;E.data.forEach(function(x){var C,P={from:x.from,to:x.to,chatType:x.channel_type==="chat"?"singleChat":"groupChat",messageId:x.messageId,reactions:x.reactions,ts:x.ts};(C=b.eventHandler)===null||C===void 0||C.dispatch("onReactionChange",P)})}function N(E){var b,x,C,P;if(E.data){var _=E.data,S={id:_.id||"",name:_.name||"",parentId:_.muc_parent_id||"",messageId:_.msg_parent_id||"",timestamp:_.timestamp||0,operator:_.from||"",operation:""};switch(_.operation){case"create":S.operation="create",S.createTimestamp=S.timestamp,S.messageCount=0,(b=this.eventHandler)===null||b===void 0||b.dispatch("onChatThreadChange",S);break;case"update_msg":S.operation="update",S.messageCount=_.message_count,_.last_message&&JSON.stringify(_.last_message)!=="{}"?S.lastMessage=(0,c.w)(_.last_message):JSON.stringify(_.last_message)==="{}"&&(S.lastMessage={}),(x=this.eventHandler)===null||x===void 0||x.dispatch("onChatThreadChange",S);break;case"update":S.operation="update",S.messageCount=_.message_count,(C=this.eventHandler)===null||C===void 0||C.dispatch("onChatThreadChange",S);break;case"delete":S.operation="destroy",(P=this.eventHandler)===null||P===void 0||P.dispatch("onChatThreadChange",S)}}}function k(E){var b,x=E.data;if(x.resource!==this.clientResource){var C={operation:"deleteRoaming",conversationId:x.to,chatType:x.chatType==="chat"?"singleChat":"groupChat",resource:x.resource};(b=this.eventHandler)===null||b===void 0||b.dispatch("onMultiDeviceEvent",C)}}function A(E){var b,x=E.data,C={operation:x.op==="del"?"deleteConversation":x.op==="top"?"pinnedConversation":"unpinnedConversation",conversationId:x.id,conversationType:x.type==="chat"?"singleChat":"groupChat",timestamp:x.ts};this.clientResource!==x.res&&((b=this.eventHandler)===null||b===void 0||b.dispatch("onMultiDeviceEvent",C))}var R=function(E){var b=T.P6.parseNotify(E.payload);switch(b.type){case"presence":I.call(this,b);break;case"reaction":v.call(this,b);break;case"thread":N.call(this,b);break;case"roaming_delete":k.call(this,b);break;case"conv":A.call(this,b);break;default:t.kg.error("unexpected notify type: ".concat(b.type))}},y=e(2071),U=e(1595);function L(E){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},L(E)}var j,H=function(){return H=Object.assign||function(E){for(var b,x=1,C=arguments.length;x<C;x++)for(var P in b=arguments[x])Object.prototype.hasOwnProperty.call(b,P)&&(E[P]=b[P]);return E},H.apply(this,arguments)};(function(E){E[E.NORMAL=0]="NORMAL",E[E.SINGLECHAT=1]="SINGLECHAT",E[E.GROUPCHAT=2]="GROUPCHAT",E[E.CHATROOM=3]="CHATROOM",E[E.READ_ACK=4]="READ_ACK",E[E.DELIVER_ACK=5]="DELIVER_ACK",E[E.RECALL=6]="RECALL",E[E.CHANNEL_ACK=7]="CHANNEL_ACK",E[E.EDIT=8]="EDIT"})(j||(j={}));var ee=T.P6.getEnvInfo();function F(){var E="webim",b="",x="",C=[],P=new Date().valueOf();this.deviceId==="webim"?(x="random_"+P.toString(),E=this.deviceId+"_"+x,b=this.deviceId):E=b=x="webim_"+this.deviceId,this.context.jid&&(this.context.jid.clientResource=E);var _=this.root.lookup("easemob.pb.Provision"),S=_.decode(C);S.compressType=this.compressType,S.encryptType=this.encryptType,S.osType=this.osType,S.version=this.version,S.deviceName=b,S.resource=E,S.deviceUuid=x,S.auth="$t$"+this.token,S.actionVersion="v2.0",S=_.encode(S).finish();var W=this.root.lookup("easemob.pb.MSync"),M=W.decode(C);return M.version=this.version,M.guid=this.context.jid,M.auth="$t$"+this.token,M.command=3,M.deviceId=b,M.serviceId=this.dataReport.getServiceId(),M.encryptType=this.encryptType,M.payload=S,W.encode(M).finish()}function K(E,b){var x=this,C=T.P6.getEnvInfo();if(C.platform==="web"||C.platform==="zfb"||C.platform==="dd"){for(var P="",_=0;_<E.length;_++)P+=String.fromCharCode(E[_]);return P=n().btoa(P),C.platform==="web"?P:{data:P,isBuffer:!1,complete:function(){},fail:function(W){W.errMsg!=="sendSocketMessage:fail taskID not exist"&&W.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||(t.kg.debug("send message fail and reconnect"),x.reconnecting||x.reconnect()),b&&x._msgHash&&x._msgHash[b]&&x._msgHash[b].fail({id:b})}}}var S=E;return{data:S.buffer.slice(S.byteOffset,S.byteOffset+S.byteLength),fail:function(W){W.errMsg!=="sendSocketMessage:fail taskID not exist"&&W.errMsg!=="SocketTast.send:fail SocketTask.readyState is not OPEN"||x.reconnecting||x.reconnect(),b&&x._msgHash&&x._msgHash[b]&&x._msgHash[b].fail({id:b})}}}function Z(E,b){switch(E.ns){case 0:m.call(this,E);break;case 1:o.Z.call(this,E,b);break;case 2:f.call(this,E);break;case 3:d.Z.handleRosterMsg.call(this,E);break;case 4:this.registerConfrIQHandler&&this.registerConfrIQHandler(E,b,this);break;case 5:R.call(this,E);break;default:t.kg.error("distributeMeta",E)}}function oe(E,b){for(var x=function(_){var S=new(s())(E[_].id.low,E[_].id.high,E[_].id.unsigned).toString();if(C._load_msg_cache.some(function(te){return te.msgId===S}))return"continue";var W=E[_].from.name,M=E[_].to?E[_].to.name:"",G=!!E[_].to&&E[_].to.domain.indexOf("conference")!==-1;C._load_msg_cache.length<=C.max_cache_length||C._load_msg_cache.shift(),C._load_msg_cache.push({msgId:S,from:W,to:M,isGroup:G}),Z.call(C,E[_],b)},C=this,P=0;P<E.length;P++)x(P)}function le(E){var b=this.root.lookup("easemob.pb.CommUnreadDL");if(b=b.decode(E.payload),this.grantType==="agoraToken"){var x=new(s())(b.timestamp.low,b.timestamp.high,b.timestamp.unsigned).toString();this.compareTokenExpireTime(Number(x),this.expirationTime)}if(b.unread.length===0)fe.call(this);else for(var C=0;C<b.unread.length;C++)t.kg.debug("pull unread message",b.unread),re.call(this,b.unread[C].queue);fe.call(this)}function de(){var E=[],b=this.root.lookup("easemob.pb.StatisticsBody"),x=b.decode(E);x.operation=0,x=b.encode(x).finish();var C=this.root.lookup("easemob.pb.Meta").decode(E);C.id=new Date().valueOf(),C.ns=0,C.payload=x;var P=this.root.lookup("easemob.pb.CommSyncUL"),_=P.decode(E);_.meta=C,_=P.encode(_).finish();var S=this.root.lookup("easemob.pb.MSync"),W=S.decode(E);return W.version=this.version,W.encryptType=[0],W.command=0,W.payload=_,S.encode(W).finish()}function Ee(E){var b=[],x=this.root.lookup("easemob.pb.CommSyncUL"),C=x.decode(b);C.queue=E,C=x.encode(C).finish();var P=this.root.lookup("easemob.pb.MSync"),_=P.decode(b);return _.version=this.version,_.encryptType=this.encryptType,_.command=0,_.payload=C,P.encode(_).finish()}function re(E){t.kg.debug("sendBackqueue");var b=Ee.call(this,E);w.call(this,b)}function z(E,b){var x=[],C=this.root.lookup("easemob.pb.CommSyncUL"),P=C.decode(x);P.queue=b,P.key=new(s())(E.low,E.high,E.unsigned).toString(),P=C.encode(P).finish();var _=this.root.lookup("easemob.pb.MSync"),S=_.decode(x);return S.version=this.version,S.encryptType=this.encryptType,S.command=0,S.payload=P,_.encode(S).finish()}function ue(E,b){t.kg.debug("sendLastSession");var x=z.call(this,E,b);w.call(this,x)}function Q(E){var b,x,C,P,_,S,W=this.root.lookup("easemob.pb.Provision").decode(E.payload);if(this.context.jid&&(this.context.jid.clientResource=W.resource),this.clientResource=W.resource,W.status.errorCode===0){if(this.reconnecting=!1,this.logOut=!1,ee.platform!=="zfb"&&ee.platform!=="dd"||(this.sock.readyState=1),this.times=1,this.autoReconnectNumTotal=0,this.onOpened&&this.onOpened(),(b=this.eventHandler)===null||b===void 0||b.dispatch("onConnected"),this.grantType==="agoraToken"){var M=Date.now();this.expiresIn=this.expirationTime-M,this.tokenExpireTimeCountDown(this.expiresIn)}ne.call(this),Oe.call(this),Y.call(this),fe.call(this)}else{var G=void 0,te=W.status.reason;switch(te){case"Sorry, the app day live count limit":G=p.Z.create({type:i.E.MAX_LIMIT,message:"Sorry, the daily active user limit for this app has been reached"}),(x=this.eventHandler)===null||x===void 0||x.dispatch("onError",G);break;case"Sorry, the app online count limit":G=p.Z.create({type:i.E.MAX_LIMIT,message:"Sorry, the maximum number limit of online users for this app has been reached"}),(C=this.eventHandler)===null||C===void 0||C.dispatch("onError",G);break;case"Sorry, the app month live count limit":G=p.Z.create({type:i.E.MAX_LIMIT,message:"Sorry, the monthly active user limit for this app has been reached"}),(P=this.eventHandler)===null||P===void 0||P.dispatch("onError",G);break;case"Sorry, who are you?":G=p.Z.create({type:i.E.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),(_=this.eventHandler)===null||_===void 0||_.dispatch("onError",G);break;default:G=p.Z.create({type:i.E.SERVER_UNKNOWN_ERROR,message:te}),(S=this.eventHandler)===null||S===void 0||S.dispatch("onError",G)}}}function ne(){var E,b;if(((E=this.unMSyncSendMsgMap)===null||E===void 0?void 0:E.size)>0){for(var x=Array.from(this.unMSyncSendMsgMap.keys()),C=0;C<x.length;C++){var P=this.unMSyncSendMsgMap.get(x[C]);w.call(this,P,x[C])}(b=this.unMSyncSendMsgMap)===null||b===void 0||b.clear()}}function fe(){var E=de.call(this);w.call(this,E)}function Y(){var E=Be.call(this);w.call(this,E)}function Oe(){var E=this;Ae.call(this),this.heartBeatID=setInterval(function(){Y.call(E)},this.heartBeatWait)}function Ae(){clearInterval(this.heartBeatID)}function Be(){var E=this.root.lookup("easemob.pb.MSync"),b=E.decode([]);return b.version=this.version,b.encryptType=this.encryptType,b.command=1,E.encode(b).finish()}function Ce(E,b){return E.some(function(x){return x.name===b.name})}function Ue(E){var b=this,x=this.root.lookup("easemob.pb.CommNotice"),C=x.decode(E.payload),P=Ce(this._queues,C.queue);t.kg.debug("receive notice",x,this._queues),P||this.clientResource===C.queue.clientResource&&C.queue.name===this.context.userId||(this.qTimer&&clearTimeout(this.qTimer),this.qTimer=setTimeout(function(){var _=C.queue;Ce(b._queues,_)&&(re.call(b,_),t.kg.debug("⬇q:",_))},1e4),this._queues.push(C.queue),this._queues.length===1&&re.call(this,C.queue))}function ke(E){if(typeof E=="string"){var b=JSON.parse(E);if(Array.isArray(b)){var x=b[0],C=b[1];this.closeInfo={code:x,reason:C}}}}function je(E){return b=this,x=void 0,P=function(){var _,S,W,M,G,te,ce,ye;return function(B,J){var ae,ie,Me,Ze,Re={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]};return Ze={next:Ke(0),throw:Ke(1),return:Ke(2)},typeof Symbol=="function"&&(Ze[Symbol.iterator]=function(){return this}),Ze;function Ke(pe){return function(Xe){return function(qe){if(ae)throw new TypeError("Generator is already executing.");for(;Re;)try{if(ae=1,ie&&(Me=2&qe[0]?ie.return:qe[0]?ie.throw||((Me=ie.return)&&Me.call(ie),0):ie.next)&&!(Me=Me.call(ie,qe[1])).done)return Me;switch(ie=0,Me&&(qe=[2&qe[0],Me.value]),qe[0]){case 0:case 1:Me=qe;break;case 4:return Re.label++,{value:qe[1],done:!1};case 5:Re.label++,ie=qe[1],qe=[0];continue;case 7:qe=Re.ops.pop(),Re.trys.pop();continue;default:if(!((Me=(Me=Re.trys).length>0&&Me[Me.length-1])||qe[0]!==6&&qe[0]!==2)){Re=0;continue}if(qe[0]===3&&(!Me||qe[1]>Me[0]&&qe[1]<Me[3])){Re.label=qe[1];break}if(qe[0]===6&&Re.label<Me[1]){Re.label=Me[1],Me=qe;break}if(Me&&Re.label<Me[2]){Re.label=Me[2],Re.ops.push(qe);break}Me[2]&&Re.ops.pop(),Re.trys.pop();continue}qe=J.call(B,Re)}catch(ze){qe=[6,ze],ie=0}finally{ae=Me=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([pe,Xe])}}}(this,function(B){if(_=T.P6.getEnvInfo(),S=this.root.lookup("easemob.pb.MSync"),this.name==="miniCore"){try{E.data instanceof ArrayBuffer||(t.kg.debug("received message: ".concat(E.data)),ke.call(this,E.data)),M=new Uint8Array(E.data),W=S.decode(M)}catch{throw new Error("decode message fail.")}return[2,W]}if(_.platform==="web"||_.platform==="zfb"||_.platform==="dd"){for(E.data==='[401,"normal closed"]'&&(t.kg.debug("received message: ".concat(E.data)),ke.call(this,E.data)),G=n().atob(E.data),te=[],ce=0,ye=G.length;ce<ye;++ce)te.push(G.charCodeAt(ce));return[2,S.decode(te)]}try{E.data instanceof ArrayBuffer||(t.kg.debug("received message: ".concat(E.data)),ke.call(this,E.data)),W=S.decode(E.data)}catch{throw new Error("decode message fail.")}return[2,W]})},new((C=void 0)||(C=Promise))(function(_,S){function W(te){try{G(P.next(te))}catch(ce){S(ce)}}function M(te){try{G(P.throw(te))}catch(ce){S(ce)}}function G(te){var ce;te.done?_(te.value):(ce=te.value,ce instanceof C?ce:new C(function(ye){ye(ce)})).then(W,M)}G((P=P.apply(b,x||[])).next())});var b,x,C,P}function Ge(E){var b=this;E.then(function(x){if(x)switch(x.command){case 0:xe.call(b,x);break;case 1:le.call(b,x);break;case 2:Ue.call(b,x);break;case 3:Q.call(b,x);break;default:t.kg.error("unexpected msync command: ".concat(x.command))}else t.kg.error("unexpected msync result: ".concat(x))})}function xe(E){var b,x,C,P,_,S,W,M,G,te,ce,ye,B,J,ae,ie,Me,Ze,Re=this.root.lookup("easemob.pb.CommSyncDL");Re=Re.decode(E.payload);var Ke=new(s())(Re.serverId.low,Re.serverId.high,Re.serverId.unsigned).toString(),pe=new(s())(Re.metaId.low,Re.metaId.high,Re.metaId.unsigned).toString();if(Re.status)if(Re.status.errorCode===0){if(Number(pe)>0){(Ye=y.Nl.get(pe))&&((0,Ye.rpt)({isEndApi:!0,data:{isSuccess:1,requestName:Ye.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:U.dd.success}}),y.Nl.delete(pe));var Xe=this._msgHash[pe];if(Xe!=null&&Xe.isHandleChatroom){try{var qe=((b=this._msgHash[pe])===null||b===void 0?void 0:b.operation)==="join";((x=this._msgHash[pe])===null||x===void 0?void 0:x.resolve)instanceof Function&&qe&&this._msgHash[pe].resolve({type:0,data:{action:"apply",id:this._msgHash[pe].roomId,result:!0,user:this.context.userId}}),((C=this._msgHash[pe])===null||C===void 0?void 0:C.success)instanceof Function&&qe&&this._msgHash[pe].success({type:0,data:{action:"apply",id:this._msgHash[pe].roomId,result:!0,user:this.context.userId}}),((P=this._msgHash[pe])===null||P===void 0?void 0:P.resolve)instanceof Function&&!qe&&this._msgHash[pe].resolve({type:0,data:{result:!0}}),((_=this._msgHash[pe])===null||_===void 0?void 0:_.success)instanceof Function&&!qe&&this._msgHash[pe].success({type:0,data:{result:!0}})}catch(rt){var ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:rt});this.onError&&this.onError(ze),(S=this.eventHandler)===null||S===void 0||S.dispatch("onError",ze)}delete this._msgHash[pe]}if(Xe&&!Xe.isHandleChatroom){var it=null,at="",V=0;if(Re.metas.length!==0)try{var Pe=T.P6.parseNotify(Re.metas[0].payload);if(Pe.edit_msg){var Te=Pe.edit_msg,we=Te.count,Le=Te.operator,Fe=Te.edit_time,He=Te.sender,se=Te.send_time;it={operationTime:Fe,operatorId:Le,operationCount:we},at=He,V=Number(se)}}catch(rt){ze=p.Z.create({type:i.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:rt}),this.onError&&this.onError(ze),(W=this.eventHandler)===null||W===void 0||W.dispatch("onError",ze)}y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:U.dd.success,msgId:Ke}}),y.TJ.delete(pe));try{var _e={localMsgId:pe,serverMsgId:Ke};if(it){this._msgHash[pe].modifiedInfo=it;var ve=this._msgHash[pe],Je=ve.editMessageId,me=ve.type,et=ve.chatType,Qe=ve.msg,$e=ve.to,he=ve.translations,Ne={id:Je,type:me,chatType:et,msg:Qe,modifiedInfo:it,to:$e,from:at,time:Number(V)};he&&(Ne.translations=he),_e.message=Ne}((M=this._msgHash[pe])===null||M===void 0?void 0:M.resolve)instanceof Function&&this._msgHash[pe].resolve(_e),((G=this._msgHash[pe])===null||G===void 0?void 0:G.success)instanceof Function&&this._msgHash[pe].success(pe,Ke)}catch(rt){ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:rt}),this.onError&&this.onError(ze),(te=this.eventHandler)===null||te===void 0||te.dispatch("onError",ze)}this.onReceivedMessage&&this.onReceivedMessage({id:pe,mid:Ke,to:this._msgHash[pe].to,time:0}),(ce=this.eventHandler)===null||ce===void 0||ce.dispatch("onReceivedMessage",{id:pe,mid:Ke,to:this._msgHash[pe].to}),delete this._msgHash[pe]}}else if(Re.metas.length!==0)try{oe.call(this,Re.metas,Re.status)}catch(rt){ze=p.Z.create({type:i.E.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:rt}),this.onError&&this.onError(ze),(ye=this.eventHandler)===null||ye===void 0||ye.dispatch("onError",ze)}finally{if(Re.isLast){var nt=-1;this._queues.some(function(rt,ot){return rt.name===Re.name&&(nt=ot,!0)})&&nt>0&&this._queues.splice(nt,1),this._queues.length>0&&(re.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}else ue.call(this,Re.nextKey,Re.queue)}else if(Re.isLast){var We=-1;this._queues.some(function(rt,ot){return rt.name===Re.queue.name&&(We=ot,!0)})&&this._queues.splice(We,1),this._queues.length>0&&(re.call(this,this._queues[0]),this.qTimer&&clearTimeout(this.qTimer))}}else if(Re.status.errorCode===15)((B=this._msgHash[pe])===null||B===void 0?void 0:B.fail)instanceof Function&&this._msgHash[pe].fail({type:i.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject({type:i.E.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"});else if(Re.status.errorCode===1){switch(me=void 0,Re.status.reason){case"blocked":me=i.E.PERMISSION_DENIED;break;case"group not found":me=i.E.GROUP_NOT_EXIST;break;case"not in group or chatroom":me=i.E.GROUP_NOT_JOINED;break;case"exceed recall time limit":me=i.E.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":me=i.E.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":me=i.E.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":me=i.E.USER_NOT_FRIEND,Re.status.reason="not contact";break;case"group is disabled":me=i.E.GROUP_IS_DISABLED,Re.status.reason="group is disabled";break;case"limit directed users":me=i.E.MAX_LIMIT;break;case"Sorry, edit limit reached":me=i.E.MAX_LIMIT,Re.status.reason="Modify message limit reached";break;case"Sorry, message does not exist":me=i.E.MODIFY_MESSAGE_NOT_EXIST,Re.status.reason="The message does not exist.";break;case"Sorry, You do not have permission":me=i.E.PERMISSION_DENIED,Re.status.reason="You do not have the modified permission.";break;case"Sorry, format is incorrect":me=i.E.MODIFY_MESSAGE_FORMAT_ERROR,Re.status.reason="The modify messaged format error.";break;case"Sorry, edit is not available":me=i.E.SERVICE_NOT_ENABLED,Re.status.reason="The message modify function is not activated.";break;case"Sorry, edit fail":me=i.E.MODIFY_MESSAGE_FAILED,Re.status.reason="Modify message failed.";break;default:Re.status.reason.includes("grpID")&&Re.status.reason.includes("does not exist!")?(me=i.E.CHATROOM_NOT_EXIST,Re.status.reason="The chat room dose not exist."):Re.status.reason.includes("username")&&Re.status.reason.includes("doesn't exist!")?me=i.E.USER_NOT_FOUND:Re.status.reason==="group member list is full!"?me=i.E.CHATROOM_MEMBERS_FULL:Re.status.reason.includes("can not join this group")&&Re.status.reason.includes("is in the blacklist")?(me=i.E.PERMISSION_DENIED,Re.status.reason="permission denied"):me=Re.status.reason==="can not operate this group, reason: group is disabled"?i.E.GROUP_IS_DISABLED:Re.status.reason.includes("moderation")?i.E.MESSAGE_MODERATION_BLOCKED:i.E.SERVER_UNKNOWN_ERROR}if(this._msgHash[pe]){if(!((J=this._msgHash[pe])===null||J===void 0)&&J.isHandleChatroom){var Ve=p.Z.create({type:me,message:Re.status.reason||"",data:""});this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].error instanceof Function&&this._msgHash[pe].error(Ve)}else Ve=p.Z.create({type:me,message:Re.status.reason||"",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:me,reason:Re.status.reason?Re.status.reason:"",data:{id:pe,mid:Ke}});delete this._msgHash[pe]}}else if(Re.status.errorCode===7)Re.status.reason==="sensitive words"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:pe,mid:Ke,reason:"sensitive words"}})):Re.status.reason==="blocked by mod_antispam"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:pe,mid:Ke,reason:"blocked by mod_antispam"}})):Re.status.reason==="user is mute"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail(Ve)):Re.status.reason==="traffic limit"&&this._msgHash[pe]?(Ve=p.Z.create({type:i.E.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail(Ve)):Re.status.reason==="Sorry, data is too large"&&this._msgHash[pe]&&(Ve=p.Z.create({type:i.E.MESSAGE_SIZE_LIMIT,message:"Sorry, data is too large",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail(Ve));else if(Re.status.errorCode===19)this._msgHash[pe]&&(y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:i.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:Re.status.reason||"",msgId:Ke}}),y.TJ.delete(pe)),Ve=p.Z.create({type:i.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:Re.status.reason||"",data:{id:pe,mid:Ke}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:pe,mid:Ke,reason:Re.status.reason}}));else if(this._msgHash[pe]){y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:i.E.WEBIM_LOAD_MSG_ERROR,codeDesc:((ae=Re.status)===null||ae===void 0?void 0:ae.reason)||"",msgId:Ke}}),y.TJ.delete(pe));try{Ve=p.Z.create({type:i.E.WEBIM_LOAD_MSG_ERROR,message:((ie=Re.status)===null||ie===void 0?void 0:ie.reason)||"",data:{id:pe,mid:Ke,reason:Re.status&&Re.status.reason}}),this._msgHash[pe].reject instanceof Function&&this._msgHash[pe].reject(Ve),this._msgHash[pe].fail instanceof Function&&this._msgHash[pe].fail({type:i.E.WEBIM_LOAD_MSG_ERROR,data:{errorCode:Re.status&&Re.status.errorCode,reason:Re.status&&Re.status.reason}})}catch(rt){ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:rt}),this.onError&&this.onError(ze),(Me=this.eventHandler)===null||Me===void 0||Me.dispatch("onError",ze)}delete this._msgHash[pe]}else{var Ye;y.TJ.has(pe)&&(y.TJ.get(pe).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:Ke}}),y.TJ.delete(pe)),(Ye=y.Nl.get(pe))&&((0,Ye.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:Ye.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:U.dd.failed,codeDesc:"on message error"}}),y.Nl.delete(pe)),ze=p.Z.create({type:i.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(ze),(Ze=this.eventHandler)===null||Ze===void 0||Ze.dispatch("onError",ze)}}function De(E){var b=[],x=this.root.lookup("easemob.pb.KeyValue"),C=[];for(var P in E){var _=x.decode(b);_.key=P,L(E[P])==="object"?(_.type=8,_.stringValue=JSON.stringify(E[P])):typeof E[P]=="string"?(_.type=7,_.stringValue=E[P]):typeof E[P]=="boolean"?(_.type=1,_.varintValue=E[P]===!0?1:0):Number.isInteger(E[P])?(_.type=2,_.varintValue=E[P]):(_.type=6,_.doubleValue=E[P]),C.push(_)}return C}function ge(E){var b,x,C,P=[];if(this.root){var _,S=this.root.lookup("easemob.pb.MessageBody.Content").decode(P);switch(_=!E.group&&((b=E==null?void 0:E.chatType)===null||b===void 0?void 0:b.toLowerCase())!=="groupchat"||E.roomType?E.group&&E.roomType||((x=E==null?void 0:E.chatType)===null||x===void 0?void 0:x.toLowerCase())==="chatroom"?"chatRoom":"singleChat":"groupChat",E.type){case"txt":S.type=0,S.text=E.msg;break;case"img":S.type=1,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.size=E.body.size,S.thumbnailDisplayName=E.body.filename):E.file?(S.displayName=E.file.filename,S.remotePath=E.file.url,S.secretKey=E.file.secret,S.fileLength=E.file.file_length,S.size=E.file.size,S.thumbnailDisplayName=E.file.filename):(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.size=E.size,S.thumbnailDisplayName=E.filename),E.isBuildCombinedMsg&&(S.size={height:E.height,width:E.width});break;case"video":S.type=2,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.duration=E.body.length,S.thumbnailDisplayName=E.body.filename):E.isBuildCombinedMsg&&(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.duration=E.length,S.thumbnailDisplayName=E.filename);break;case"loc":S.type=3,S.latitude=E.lat,S.longitude=E.lng,S.address=E.addr,S.buildingName=E.buildingName,S.latitude=E.lat;break;case"audio":S.type=4,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.duration=E.body.length,S.thumbnailDisplayName=E.body.filename):E.isBuildCombinedMsg&&(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.duration=E.length,S.thumbnailDisplayName=E.filename);break;case"file":S.type=5,E.body?(S.displayName=E.body.filename,S.remotePath=E.body.url,S.secretKey=E.body.secret,S.fileLength=E.body.file_length,S.thumbnailDisplayName=E.body.filename):E.isBuildCombinedMsg&&(S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.thumbnailDisplayName=E.filename);break;case"cmd":S.type=6,S.action=E.action;break;case"custom":S.type=7,S.customEvent=E.customEvent,S.customExts=De.call(this,E.customExts);break;case"combine":S.type=0,S.subType=0,S.text=E.compatibleText,S.displayName=E.filename,S.remotePath=E.url,S.secretKey=E.secret,S.fileLength=E.file_length,S.title=E.title,S.summary=E.summary}var W=[];E.ext&&(W=De.call(this,E.ext));var M=this.root.lookup("easemob.pb.MessageBody"),G=M.decode(P),te=E.from||this.context.jid.name;G.from={name:E.isBuildCombinedMsg?te:this.context.jid.name},G.to={name:E.to},E.type==="channel"?G.type=j.CHANNEL_ACK:E.type==="recall"?(G.type=j.RECALL,G.ackMessageId=E.ackId):E.type==="delivery"?(G.type=j.DELIVER_ACK,G.ackMessageId=E.ackId):E.type==="read"?(G.type=j.READ_ACK,G.ackMessageId=E.ackId,_==="groupChat"&&(G.msgConfig={allowGroupAck:!0},G.ackContent=E.ackContent)):_==="chatRoom"?G.type=j.CHATROOM:_==="groupChat"?(G.type=j.GROUPCHAT,E.msgConfig&&(G.msgConfig={allowGroupAck:!0})):_==="singleChat"&&(G.type=j.SINGLECHAT),E.editMessageId&&(G.type=j.EDIT,G.editMessageId=E.editMessageId),G.contents=[S],G.ext=W;var ce=function(Re){var Ke={};return"translations"in Re&&(Ke.translations=Re.translations),"isChatThread"in Re&&Re.isChatThread&&(Ke.thread={}),Object.keys(Ke).length>0?JSON.stringify(Ke):""}(E);ce&&(G.meta=ce),G=M.encode(G).finish();var ye=this.root.lookup("easemob.pb.Meta"),B=ye.decode(P);B.id=E.id;var J="easemob.com";if(_!=="chatRoom"&&_!=="groupChat"||(J="conference.easemob.com"),B.to={appKey:this.appKey,name:E.to,domain:J},_==="chatRoom"&&(B.ext=De.call(this,function(Re){return{chatroom_msg_tag:Re.priority==="high"?0:Re.priority==="low"?2:1}}(E))[0]),B.ns=1,B.payload=G,B.routetype=E.deliverOnlineOnly?1:0,_!=="singleChat"&&Array.isArray(E.receiverList)&&((C=E.receiverList)===null||C===void 0?void 0:C.length)>0&&(B.directedUsers=E.receiverList,B.routetype=2,t.kg.debug("receiverList:",E.receiverList,"thirdMessage",B)),E.isBuildCombinedMsg)return B.timestamp=s().fromValue(E.time),ye.encode(B).finish();var ae=this.root.lookup("easemob.pb.CommSyncUL"),ie=ae.decode(P);ie.meta=B,ie=ae.encode(ie).finish();var Me=this.root.lookup("easemob.pb.MSync"),Ze=Me.decode(P);return Ze.version=this.version,Ze.encryptType=this.encryptType,Ze.command=0,Ze.payload=ie,Me.encode(Ze).finish()}E.fail&&E.fail({type:i.E.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function be(E){var b=this,x=H({},E);if(E.file)return x.accessToken=this.token,x.appKey=this.appKey,x.apiUrl=this.apiUrl,x.body&&x.body.url?ge.call(this,x):new Promise(function(S,W){var M=x.onFileUploadComplete;x.onFileUploadComplete=function(G){var te,ce;if(G.entities[0]["file-metadata"]){var ye=G.entities[0]["file-metadata"]["content-length"];x.file_length=ye,x.filetype=G.entities[0]["file-metadata"]["content-type"],ye>204800&&(x.thumbnail=!0)}x.body={type:x.type||"file",secret:G.entities[0]["share-secret"],filename:x.file.filename||x.filename,url:(b.isHttpDNS?b.apiUrl+G.uri.substr(G.uri.indexOf("/",9)):G.uri)+"/"+G.entities[0].uuid,length:x.length||0,filetype:x.filetype||x.file.filetype,file_length:((ce=(te=x.file)===null||te===void 0?void 0:te.data)===null||ce===void 0?void 0:ce.size)||0,size:{width:x.width||0,height:x.height||0}},x.file.url=G.uri,E.secret=G.entities[0]["share-secret"];var B=(b.isHttpDNS?b.apiUrl+G.uri.substr(G.uri.indexOf("/",9)):G.uri)+"/"+G.entities[0].uuid;E.url=B,G.url=B,x.type==="img"&&(E.thumb="".concat(B,"?thumbnail=true"),G.thumb="".concat(B,"?thumbnail=true")),M instanceof Function&&M(G,x.id);var J=ge.call(b,x);y.TJ.size<=y.F3&&y.TJ.set(x.id,{rpt:b.dataReport.geOperateFun({operationName:U.fI.SEND_MSG})}),w.call(b,J)},T.P6.uploadFile.call(b,x,U.fI.UPLOAD_MSG_ATTACH)});if(E.type==="combine"){x.accessToken=this.token,x.appKey=this.appKey,x.apiUrl=this.apiUrl;var C=x.onFileUploadComplete,P=x.onFileUploadError;return new Promise(function(S,W){var M,G,te,ce;if(((M=E.messageList)===null||M===void 0?void 0:M.length)>300||((G=E.messageList)===null||G===void 0?void 0:G.length)===0)return b._msgHash[x.id].reject({type:i.E.MAX_LIMIT,message:"The number of combined messages exceeded the limit."});var ye=function(pe,Xe,qe){if(qe||arguments.length===2)for(var ze,it=0,at=Xe.length;it<at;it++)!ze&&it in Xe||(ze||(ze=Array.prototype.slice.call(Xe,0,it)),ze[it]=Xe[it]);return pe.concat(ze||Array.prototype.slice.call(Xe))}([],E.messageList,!0),B=0;ye.forEach(function(pe){if(pe.type==="combine"&&(pe==null?void 0:pe.combineLevel)>=10)return b._msgHash[x.id].reject({type:i.E.MAX_LIMIT,message:"The level of the merged message exceeded the limit."});(pe==null?void 0:pe.combineLevel)>B&&(B=pe==null?void 0:pe.combineLevel)}),x.combineLevel=B+1;var J=Ie.call(b,ye),ae=function(pe,Xe){var qe,ze,it,at,V=(b.isHttpDNS?b.apiUrl+pe.uri.substr(pe.uri.indexOf("/",9)):pe.uri)+"/"+pe.entities[0].uuid,Pe=(qe=pe.entities[0])===null||qe===void 0?void 0:qe["share-secret"],Te=V+"?em-redirect=true";Pe&&(Te="".concat(Te,"&share-secret=").concat(Pe)),C instanceof Function&&C({url:Te,secret:Pe}),E.url=Te,E.secret=Pe,x.url=V,x.secret=pe.entities[0]["share-secret"],x.filename=((ze=x.file)===null||ze===void 0?void 0:ze.filename)||(Xe==null?void 0:Xe.fileName),x.file_length=((at=(it=x.file)===null||it===void 0?void 0:it.data)===null||at===void 0?void 0:at.size)||(Xe==null?void 0:Xe.fileLength)||0;var we=ge.call(b,x);w.call(b,we)},ie=T.P6.getEnvInfo();if(ie.platform!=="web"&&ie.platform!=="node"&&ie.platform!=="quick_app"&&(!((ce=(te=ie.global)===null||te===void 0?void 0:te.canIUse)===null||ce===void 0)&&ce.call(te,"getFileSystemManager"))){var Me=ie.global.getFileSystemManager(),Ze=b.apiUrl+"/"+b.orgName+"/"+b.appName+"/chatfiles";Me.writeFile({filePath:"".concat(ie.global.env.USER_DATA_PATH,"/combine"),data:J.buffer,encoding:"binary",success:function(pe){ie.global.uploadFile({url:Ze,filePath:"".concat(ie.global.env.USER_DATA_PATH,"/combine"),name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+x.accessToken},success:function(Xe){if(Xe.statusCode===200){t.kg.debug("upload success",Xe);var qe=JSON.parse(Xe.data);ae(qe,{fileName:"combine",fileLength:J.length})}else t.kg.debug("upload fail"),x.onFileUploadError instanceof Function&&x.onFileUploadError(Xe),this._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:Xe})},fail:function(Xe){t.kg.debug("upload fail"),x.onFileUploadError instanceof Function&&x.onFileUploadError(pe),this._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:Xe})}})},fail:function(pe){t.kg.debug("write file fail",pe),this._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:pe})}})}else{var Re=new File([J],"combine",{type:"application/octet-stream"}),Ke={url:URL.createObjectURL(Re),filename:x.id,data:Re};x.file=Ke,x.onFileUploadComplete=function(pe){ae(pe)},x.onFileUploadError=function(pe){P instanceof Function&&P(pe),b._msgHash[x.id].reject({type:i.E.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:pe})},T.P6.uploadFile.call(b,x,U.fI.UPLOAD_MSG_ATTACH)}})}E.type==="img"&&(x.body||(x.body=H(H({},x),{size:{width:x.width||0,height:x.height||0}})));var _=ge.call(this,x);w.call(this,_)}function Ie(E){for(var b=Uint8Array.from("cm",function(ye){return ye.charCodeAt(0)}),x=0;x<E.length;x++){for(var C=E[x],P=H(H({},C),{isBuildCombinedMsg:!0}),_=this.mSync.encodeChatMsg.call(this,P),S=_.length,W=new Uint8Array(4),M=0;M<4;M++)W[M]=S>>8*(3-M)&255;t.kg.debug("message length:",W);var G=new Uint8Array(b.length+W.length+_.length);G.set(b),G.set(W,b.length),G.set(_,b.length+W.length),b=G}var te=new Uint8Array(b.length+1),ce=0;for(x=2;x<b.length;x++)x%2==1&&(ce^=b[x]);return te.set(b),t.kg.debug("checkResult:",ce),te[b.length]=ce,te}function Se(E,b,x){var C=[],P=this.root.lookup("easemob.pb.MUCBody"),_=P.decode(C);_.mucId={appKey:this.appKey,name:E,domain:"conference.easemob.com"},_.operation=x==="join"?2:3,_.from={name:this.context.userId},_.isChatroom=!0,_=P.encode(_).finish();var S=this.root.lookup("easemob.pb.Meta").decode(C);S.id=b,S.from={appKey:this.appKey,name:this.context.userId,domain:"easemob.com",client_resource:this.context.jid.clientResource},S.to={domain:"easemob.com"},S.ns=2,S.payload=_;var W=this.root.lookup("easemob.pb.CommSyncUL"),M=W.decode(C);M.meta=S,M=W.encode(M).finish();var G=this.root.lookup("easemob.pb.MSync"),te=G.decode(C);return te.version=this.version,te.encryptType=this.encryptType,te.command=0,te.payload=M,G.encode(te).finish()}function D(E,b){var x=T.P6.getUniqueId(),C=Se.call(this,E.roomId,x,b);return w.call(this,H(H({},E),{isHandleChatroom:!0,joinMsg:C,id:x,operation:b}),x)}function q(E){var b=this;return new Promise(function(x,C){var P,_;if(b.logOut)return C({type:i.E.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!E.id||typeof E.id!="string"||E.id==="")return C({type:i.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!E.to||typeof E.to!="string"||E.to==="")return C({type:i.E.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var S=E.type==="file"||E.type==="img"||E.type==="audio"||E.type==="video",W=E.type==="delivery"||E.type==="read"||E.type==="channel";if(E.id){if(!S&&!W||S&&b.useOwnUploadFun){var M=E.type==="recall"?U.fI.SEND_RECALL_MSG:U.fI.SEND_MSG;E!=null&&E.editMessageId&&(M=U.fI.MODIFY_MESSAGE),y.TJ.size<=y.F3&&y.TJ.set(E.id,{rpt:b.dataReport.geOperateFun({operationName:M})})}b._msgHash[E.id]=H(H({},E),{resolve:x,reject:C})}if(S||E.type==="combine")return be.call(b,E);if(E.type==="txt"&&(!((P=E.msgConfig)===null||P===void 0)&&P.languages)&&Array.isArray((_=E.msgConfig)===null||_===void 0?void 0:_.languages)&&E.msgConfig.languages.length>0){var G=b.translateMessage||b.translation.translateMessage;if(!G)throw new Error("there is no method to translate message");G.call(b,{text:E.msg,languages:E.msgConfig.languages}).then(function(ce){var ye,B=(ye=ce.data[0])===null||ye===void 0?void 0:ye.translations;B=B.map(function(ae){return{code:ae.to,text:ae.text}}),E.translations=B,b._msgHash[E.id].translations=B;var J=ge.call(b,E);w.call(b,J,E.id)}).catch(function(ce){C(ce)})}else{var te=ge.call(b,E);w.call(b,te,E.id)}})}function w(E,b){var x,C,P=this;if(E.isHandleChatroom){if(!this.isOpened()){var _={data:"",type:i.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};return Promise.reject(_)}return new Promise(function(S,W){var M;P._msgHash[E.id]=H(H({},E),{resolve:S,reject:W}),M=P.name==="miniCore"?E.joinMsg:K.call(P,E.joinMsg,b),P.sock.send(M)})}if(!this.isOpened())return(x=this.unMSyncSendMsgMap)===null||x===void 0||x.set(b,E),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.socketHost.length&&this.isHttpDNS||!this.isHttpDNS)&&(t.kg.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:i.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));C=this.name==="miniCore"?E:K.call(this,E,b),this.sock.send(C)}var X=function(E,b){return E.send=q,E.sendMsg=q,t.kg.debug("init Msync by ".concat(E.name)),{generateProvision:F.bind(E),base64transform:K.bind(E),distributeMeta:Z.bind(E),decodeMeta:oe.bind(E),decodeUnreadDL:le.bind(E),_rebuild:de.bind(E),_lastsession:z.bind(E),receiveProvision:Q.bind(E),isInQueue:Ce.bind(E),decodeNotice:Ue.bind(E),decodeMSync:je.bind(E),distributeMSync:Ge.bind(E),encodeChatMsg:ge.bind(E),upLoadFile:be.bind(E),send:q.bind(E),stopHeartBeat:Ae.bind(E),handleChatRoom:D.bind(E)}}},7252:function(h,O){var e=function(){function r(n){this.type=n.type,this.message=n.message,this.data=n.data}return r.create=function(n){return new r(n)},r}();O.Z=e},8161:function(h,O,e){e(3710),e(1539),e(9714),e(9653),e(9554),e(4747),e(8309),e(2772),e(2222);var r=e(3720),n=e.n(r),a=e(4363),s=e(4370),i=e(1070),o=e(7360),t=e(2449),l={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM",8:"COMBINE"};function u(d){for(var p={},m=0;m<d.length;m++)if(d[m].type===8)p[d[m].key]=JSON.parse(d[m].stringValue);else if(d[m].type===7)p[d[m].key]=d[m].stringValue;else if(d[m].type===6)p[d[m].key]=d[m].doubleValue;else if(d[m].type===5)p[d[m].key]=d[m].floatValue;else if(d[m].type===1){var T=d[m].varintValue,c=new(n())(T.low,T.high,T.unsigned).toString();p[d[m].key]=Number(c)!==0}else d[m].type!==2&&d[m].type!==3&&d[m].type!==4||(T=d[m].varintValue,c=new(n())(T.low,T.high,T.unsigned).toString(),p[d[m].key]=Number(c));return p}function g(d){var p,m,T,c=d.status,I=d.thirdMessage,v=d.msgBody,N=d.msgId,k=d.type,A=d.from,R=d.to,y=d.time,U=d.onlineState,L=d.chatType,j=d.ignoreCallback,H=d.priority,ee=d.format,F={},K={},Z=c.errorCode>0,oe=c.errorCode,le=c.reason,de={},Ee=[],re=[],z={},ue="",Q=0,ne=null,fe=null;if(I.ext&&(de=u(I.ext)),I.meta&&typeof I.meta=="string"){var Y=JSON.parse(I.meta);if(Y.reaction&&(Ee=Y.reaction).forEach(function(X){X.isAddedBySelf=X.state,delete X.state}),Y.translations&&(re=Y.translations),Y.edit_msg){var Oe=Y.edit_msg,Ae=Oe.count,Be=Oe.operator;z={operationTime:Oe.edit_time,operatorId:Be,operationCount:Ae},ue=Oe.sender,Q=Oe.send_time}Y.thread&&JSON.stringify(Y.thread)!=="{}"&&(ne={messageId:Y.thread.msg_parent_id,parentId:Y.thread.muc_parent_id,chatThreadName:Y.thread.thread_name}),Y.thread_overview&&JSON.stringify(Y.thread_overview)!=="{}"&&(fe={id:Y.thread_overview.id,parentId:Y.thread_overview.muc_parent_id,name:Y.thread_overview.name,lastMessage:Y.thread_overview.last_message?(0,a.w)(Y.thread_overview.last_message):null,createTimestamp:Y.thread_overview.create_timestamp,updateTimestamp:Y.thread_overview.update_timestamp,messageCount:Y.thread_overview.message_count||0})}switch(v.type){case 0:if(Object.prototype.hasOwnProperty.call(v,"subType")&&v.subType===0){T=(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&(T="".concat(T,"&share-secret=").concat(v.secretKey));var Ce={id:N,type:"combine",chatType:L,to:R,from:A,ext:de,time:Number(y),onlineState:U,title:v.title||"",summary:v.summary||"",url:T||"",secret:v.secretKey||"",file_length:v.fileLength||0,filename:v.displayName||"",compatibleText:v.text,combineLevel:v.combineLevel||0};F.msgConfig&&(Ce.msgConfig=F.msgConfig),Ee.length>0&&(Ce.reactions=Ee),ne&&(Ce.chatThread=ne),fe&&(Ce.chatThreadOverview=fe),L==="chatRoom"&&(Ce.priority=H),K=Ce,!j&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",Ce);break}!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,data:v.text,ext:de,sourceMsg:v.text,time:y,msgConfig:I.msgConfig,onlineState:U}).msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onTextMessage&&this.onTextMessage(F);var Ue={id:N,type:"txt",chatType:L,msg:v.text,to:R,from:A,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(Ue.msgConfig=F.msgConfig),Ee.length>0&&(Ue.reactions=Ee),ne&&(Ue.chatThread=ne),fe&&(Ue.chatThreadOverview=fe),re.length>0&&(Ue.translations=re),z.operationCount>0&&(Ue.modifiedInfo=z,I.type===i.g.EDIT&&(Ue.from=ue,Ue.time=Q)),L==="chatRoom"&&(Ue.priority=H),K=Ue,!j&&this.eventHandler&&this.eventHandler.dispatch("onTextMessage",Ue);break;case 1:var ke=((p=v==null?void 0:v.size)===null||p===void 0?void 0:p.width)||0,je=((m=v==null?void 0:v.size)===null||m===void 0?void 0:m.height)||0;T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,thumb:this.useOwnUploadFun?"":"".concat(T,"&thumbnail=true"),thumb_secret:v.secretKey,file_length:v.fileLength||"",width:ke,height:je,filetype:v.filetype||"",accessToken:this.token,ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onPictureMessage&&this.onPictureMessage(F);var Ge={id:N,type:"img",chatType:L,from:A,to:R,url:T||"",width:ke,height:je,secret:v.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(T,"&thumbnail=true"),thumb_secret:v.secretKey,file_length:v.fileLength||0,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(Ge.msgConfig=F.msgConfig),Ee.length>0&&(Ge.reactions=Ee),ne&&(Ge.chatThread=ne),fe&&(Ge.chatThreadOverview=fe),L==="chatRoom"&&(Ge.priority=H),K=Ge,!j&&this.eventHandler&&this.eventHandler.dispatch("onImageMessage",Ge);break;case 2:T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,length:v.duration||"",file_length:v.fileLength||"",filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onVideoMessage&&this.onVideoMessage(F);var xe={id:N,type:"video",chatType:L,from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,length:v.duration||0,file:{},file_length:v.fileLength||0,filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:Number(y),onlineState:U};F.msgConfig&&(xe.msgConfig=F.msgConfig),Ee.length>0&&(xe.reactions=Ee),ne&&(xe.chatThread=ne),fe&&(xe.chatThreadOverview=fe),L==="chatRoom"&&(xe.priority=H),K=xe,!j&&this.eventHandler&&this.eventHandler.dispatch("onVideoMessage",xe);break;case 3:!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,addr:v.address,buildingName:v.buildingName,lat:v.latitude,lng:v.longitude,ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onLocationMessage&&this.onLocationMessage(F);var De={id:N,type:"loc",chatType:L,from:A,to:R,buildingName:v.buildingName,addr:v.address,lat:v.latitude,lng:v.longitude,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(De.msgConfig=F.msgConfig),Ee.length>0&&(De.reactions=Ee),ne&&(De.chatThread=ne),fe&&(De.chatThreadOverview=fe),L==="chatRoom"&&(De.priority=H),K=De,!j&&this.eventHandler&&this.eventHandler.dispatch("onLocationMessage",De);break;case 4:T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,file_length:v.fileLength||"",accessToken:this.token||"",ext:de,length:v.duration,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onAudioMessage&&this.onAudioMessage(F);var ge={id:N,type:"audio",chatType:L,from:A,to:R,url:T,secret:v.secretKey,file:{},filename:v.displayName,length:v.duration||0,file_length:v.fileLength||0,filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:Number(y),onlineState:U};F.msgConfig&&(ge.msgConfig=F.msgConfig),Ee.length>0&&(ge.reactions=Ee),ne&&(ge.chatThread=ne),fe&&(ge.chatThreadOverview=fe),L==="chatRoom"&&(ge.priority=H),K=ge,!j&&this.eventHandler&&this.eventHandler.dispatch("onAudioMessage",ge);break;case 5:T=this.useOwnUploadFun?v.remotePath:(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&!this.useOwnUploadFun&&(T="".concat(T,"&share-secret=").concat(v.secretKey)),!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,url:T,secret:v.secretKey,filename:v.displayName,file_length:v.fileLength,accessToken:this.token||"",ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).delay&&delete F.delay,!F.msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onFileMessage&&this.onFileMessage(F);var be={id:N,type:"file",chatType:L,from:A,to:R,url:T,secret:v.secretKey,file:{},filename:v.displayName,length:v.duration||0,file_length:v.fileLength||0,filetype:v.filetype||"",accessToken:this.token||"",ext:de,time:Number(y),onlineState:U};F.msgConfig&&(be.msgConfig=F.msgConfig),Ee.length>0&&(be.reactions=Ee),ne&&(be.chatThread=ne),fe&&(be.chatThreadOverview=fe),L==="chatRoom"&&(be.priority=H),K=be,!j&&this.eventHandler&&this.eventHandler.dispatch("onFileMessage",be);break;case 6:!(F={id:N,type:k,contentsType:l[v.type],from:A,to:R,action:v.action,ext:de,time:y,msgConfig:I.msgConfig,onlineState:U}).msgConfig&&delete I.msgConfig,F.error=Z,F.errorText=le,F.errorCode=oe,!j&&this.onCmdMessage&&this.onCmdMessage(F);var Ie={id:N,type:"cmd",chatType:L,from:A,to:R,action:v.action,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(Ie.msgConfig=F.msgConfig),Ee.length>0&&(Ie.reactions=Ee),ne&&(Ie.chatThread=ne),fe&&(Ie.chatThreadOverview=fe),L==="chatRoom"&&(Ie.priority=H),K=Ie,!j&&this.eventHandler&&this.eventHandler.dispatch("onCmdMessage",Ie);break;case 7:var Se={},D={};I.contents[0].customExts&&(Se=u(I.contents[0].customExts)),I.contents[0].params&&(D=u(I.contents[0].params)),F={id:N,type:k,contentsType:l[v.type],from:A,to:R,customEvent:v.customEvent,params:D,customExts:Se,ext:de,time:y,onlineState:U},!j&&this.onCustomMessage&&this.onCustomMessage(F);var q={id:N,type:"custom",chatType:L,from:A,to:R,customEvent:v.customEvent,params:D,customExts:Se,ext:de,time:Number(y),onlineState:U};F.msgConfig&&(q.msgConfig=F.msgConfig),Ee.length>0&&(q.reactions=Ee),ne&&(q.chatThread=ne),fe&&(q.chatThreadOverview=fe),L==="chatRoom"&&(q.priority=H),K=q,!j&&this.eventHandler&&this.eventHandler.dispatch("onCustomMessage",q);break;case 8:T=(v.remotePath&&this.apiUrl+v.remotePath.substr(v.remotePath.indexOf("/",9)))+"?em-redirect=true",v.secretKey&&(T="".concat(T,"&share-secret=").concat(v.secretKey));var w={id:N,type:"combine",chatType:L,to:R,from:A,ext:de,time:Number(y),onlineState:U,title:v.title||"",summary:v.summary||"",url:T||"",secret:v.secretKey||"",file_length:v.fileLength||0,filename:v.displayName||"",compatibleText:v.text,combineLevel:v.combineLevel||0};F.msgConfig&&(w.msgConfig=F.msgConfig),Ee.length>0&&(w.reactions=Ee),ne&&(w.chatThread=ne),fe&&(w.chatThreadOverview=fe),L==="chatRoom"&&(w.priority=H),K=w,!j&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",w);break;default:o.kg.error("Unknow message type, message:",v)}return ee?K:F}function f(d,p,m){if(this.delivery&&d!==p){var T=this.getUniqueId(),c=new t.Message("delivery",T);c.set({ackId:m,to:d}),o.kg.debug("send delivery ack"),this.send(c.body)}}O.Z=function(d,p,m,T){var c,I,v,N,k,A,R=new(n())(d.timestamp.low,d.timestamp.high,d.timestamp.unsigned).toString(),y=this.root.lookup("easemob.pb.MessageBody").decode(d.payload),U=1;if(d.meta&&d.meta.length)switch(s.P6.parseNotify(d.meta).is_online){case 0:U=0;break;case 1:U=1;break;default:U=2}else U=3;var L=new(n())(d.id.low,d.id.high,d.id.unsigned).toString(),j=y.ackMessageId?new(n())(y.ackMessageId.low,y.ackMessageId.high,y.ackMessageId.unsigned).toString():"",H="",ee=y.from&&y.from.name,F=y.to&&y.to.name;switch(o.kg.debug("thirdMessage:",y),y.type){case i.g.SINGLECHAT:H="chat",this.grantType==="agoraToken"&&(H="singleChat"),this.delivery&&!m&&ee!==this.context.userId&&f.call(this,ee,F,L);break;case i.g.GROUPCHAT:H="groupchat",this.grantType==="agoraToken"&&(H="groupChat");break;case i.g.CHATROOM:H="chatroom",this.grantType==="agoraToken"&&(H="chatRoom"),U=1;break;case i.g.READ_ACK:H="read_ack";var K=void 0;return y.ext[0]&&JSON.parse(y.ext[0].stringValue)?(K={id:L,type:"read",from:ee,to:F,mid:j,groupReadCount:y.ext[0]&&JSON.parse(y.ext[0].stringValue),ackContent:y.ackContent,onlineState:U},this.onReadMessage&&this.onReadMessage(K),void((c=this.eventHandler)===null||c===void 0||c.dispatch("onReadMessage",K))):(K={id:L,type:"read",from:ee,to:F,mid:j,onlineState:U},this.onReadMessage&&this.onReadMessage(K),void((I=this.eventHandler)===null||I===void 0||I.dispatch("onReadMessage",K)));case i.g.DELIVER_ACK:H="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:L,type:"delivery",from:ee,to:F,mid:j,onlineState:U});var Z={id:L,type:"delivery",from:ee,to:F,mid:j,onlineState:U};return void((v=this.eventHandler)===null||v===void 0||v.dispatch("onDeliveredMessage",Z));case i.g.RECALL:H="recall";var oe={id:L,from:ee||"admin",to:F,mid:j,onlineState:U};return this.onRecallMessage&&this.onRecallMessage(oe),void((N=this.eventHandler)===null||N===void 0||N.dispatch("onRecallMessage",oe));case i.g.CHANNEL_ACK:this.onChannelMessage&&this.onChannelMessage({id:L,type:"channel",chatType:"singleChat",from:ee,to:F,time:Number(R),onlineState:U});var le={id:L,type:"channel",chatType:"singleChat",from:ee,to:F,time:Number(R),onlineState:U};return void((k=this.eventHandler)===null||k===void 0||k.dispatch("onChannelMessage",le));case i.g.EDIT:var de=g.call(this,{status:{errorCode:0,reason:""},thirdMessage:y,msgBody:y.contents[0],msgId:L,type:H,from:ee,to:F,time:R,onlineState:U,ignoreCallback:!0,format:!0}),Ee=!!d.to&&d.to.domain.indexOf("conference")!==-1;de.chatType=Ee?"groupChat":"singleChat";var re={id:y.editMessageId&&new(n())(y.editMessageId.low,y.editMessageId.high,y.editMessageId.unsigned).toString(),type:de.type,chatType:de.chatType,msg:de.msg,to:de.to,from:de.from,time:de.time,modifiedInfo:de.modifiedInfo};return de.translations&&(re.translations=de.translations),void(de.type==="txt"&&((A=this.eventHandler)===null||A===void 0||A.dispatch("onModifiedMessage",re)));default:return void o.kg.error("unexpected message type: ".concat(y.type))}var z,ue="normal";if(H.toLowerCase()==="chat"||H==="singleChat")z="singleChat";else if(H.toLowerCase()==="groupchat"||H==="groupChat")z="groupChat";else if(z="chatRoom",U=1,d.ext){var Q=u([d.ext]);ue=Q.chatroom_msg_tag===0?"high":Q.chatroom_msg_tag===2?"low":"normal"}for(var ne=0;ne<y.contents.length;ne++)return g.call(this,{status:p,thirdMessage:y,msgBody:y.contents[ne],msgId:L,type:H,from:ee,to:F,time:R,onlineState:U,chatType:z,ignoreCallback:m,priority:ue,format:T})}},4968:function(h,O,e){e(8309);var r,n=e(7360),a=e(2071),s=e(1595);(function(o){o[o.Add=2]="Add",o[o.Remove=3]="Remove",o[o.Accept=4]="Accept",o[o.Decline=5]="Decline",o[o.Ban=6]="Ban",o[o.Allow=7]="Allow"})(r||(r={}));var i={operatRoster:function(o,t,l,u){var g=[],f=this.root.lookup("easemob.pb.RosterBody"),d=f.decode(g);switch(t){case"add":d.operation=r.Add;break;case"remove":d.operation=r.Remove;break;case"accept":d.operation=r.Accept;break;case"decline":d.operation=r.Decline;break;case"ban":d.operation=r.Ban;break;case"allow":d.operation=r.Allow;break;default:n.kg.error("operatRoster:",t)}d.from=this.context.jid;var p=[];if(typeof o.to=="string")p.push({appKey:this.appKey||this.context.appKey,name:o.to,domain:"easemob.com"});else if(o.to instanceof Array)for(var m=0;m<o.to.length;m++)p.push({appKey:this.appKey,name:o.to[m],domain:"easemob.com"});d.to=p,d.reason=o.message||"",d=f.encode(d).finish();var T=this.root.lookup("easemob.pb.Meta").decode(g);T.id=o.id||this.getUniqueId();var c=this.dataReport.geOperateFun({operationName:s.fI[t]});a.Nl.size<=a.F3&&a.Nl.set(T.id,{rpt:c,requestName:s.fI[t],resolve:l,reject:u}),T.from=this.context.jid,T.to={domain:"@easemob.com"},T.ns=3,T.payload=d;var I=this.root.lookup("easemob.pb.CommSyncUL"),v=I.decode(g);v.meta=T,v=I.encode(v).finish();var N=this.root.lookup("easemob.pb.MSync"),k=N.decode(g);if(k.version=this.version,k.encryptType=[0],k.command=0,k.guid=this.jid,k.payload=v,k=N.encode(k).finish(),this.name==="miniCore")this.sock.send(k);else{var A=this.mSync.base64transform(k);this.sock.send(A)}},handleRosterMsg:function(o){var t,l,u,g,f,d,p=this.root.lookup("easemob.pb.RosterBody").decode(o.payload),m={type:"",to:p.to[0].name,from:p.from.name,status:p.reason};switch(p.operation){case 2:m.type="subscribe",this.onContactInvited&&this.onContactInvited(m),(t=this.eventHandler)===null||t===void 0||t.dispatch("onContactInvited",m);break;case 3:m.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(m),(l=this.eventHandler)===null||l===void 0||l.dispatch("onContactDeleted",m);break;case 4:m.type="subscribed",this.onContactAdded&&this.onContactAdded(m),(u=this.eventHandler)===null||u===void 0||u.dispatch("onContactAdded",m);break;case 5:m.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(m),(g=this.eventHandler)===null||g===void 0||g.dispatch("onContactRefuse",m);break;case 6:case 7:break;case 8:m.type="subscribed",this.onContactAgreed&&this.onContactAgreed(m),(f=this.eventHandler)===null||f===void 0||f.dispatch("onContactAgreed",m);break;case 9:m.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(m),(d=this.eventHandler)===null||d===void 0||d.dispatch("onContactRefuse",m);break;default:n.kg.error("handleRosterMsg:",p)}this.onPresence&&m.type&&this.onPresence(m)}};O.Z=i},7360:function(h,O,e){function r(){console.log&&(console.log.apply?console.log.apply(console,Array.prototype.slice.call(arguments)):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}e.d(O,{kg:function(){return d}}),e(7042),e(2222),e(8309),e(9600),e(6992),e(1539),e(8783),e(3948),e(285),e(1637),e(4812),e(3710),e(9554),e(2772),e(4916),e(2526),e(1817),e(2165);var n=typeof window<"u"&&window.navigator!==void 0&&/Trident\/|MSIE /.test(window.navigator.userAgent);function a(p){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},a(p)}var s,i=function(p,m,T){if(T||arguments.length===2)for(var c,I=0,v=m.length;I<v;I++)!c&&I in m||(c||(c=Array.prototype.slice.call(m,0,I)),c[I]=m[I]);return p.concat(c||Array.prototype.slice.call(m))},o=function(){},t={};(function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"})(s||(s={}));var l=function(){function p(m,T,c){this.name=m||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=s,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=c||this.defaultMethodFactory;var I=this._getPersistedLevel();I==null&&(I=T===null?"WARN":T),this.logs=[],this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(I,!1,"")}return p.prototype.setConfig=function(m){this.config=m},p.prototype.getLevel=function(){return this.currentLevel},p.prototype.setLevel=function(m,T,c){if(typeof m=="string"&&(m=s[m]),m===void 0&&(m=0),!(typeof m=="number"&&m>=0&&m<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+m);if(this.currentLevel=m,T!==!1&&this._persistLevel(m),this.replaceLoggingMethods(m,c),typeof console>"u"&&m<s.SILENT)throw Error("No console available for logging")},p.prototype.setDefaultLevel=function(m){this._getPersistedLevel()||this.setLevel(m,!1,"")},p.prototype.enableAll=function(m){this.setLevel(this.levels.TRACE,!0,"")},p.prototype.disableAll=function(m){this.setLevel(this.levels.SILENT,!0,"")},p.prototype.getLogs=function(){return this.logs},p.prototype.download=function(){if(typeof window<"u"&&typeof document<"u"){var m=this.getLogs().join(`
`),T=new Blob([m],{type:"text/plain;charset=UTF-8"}),c=window.URL.createObjectURL(T),I=document.createElement("a");I.style.display="none",I.href=c,I.setAttribute("download","sdklog"),document.body.appendChild(I),I.click()}},p.prototype._bindMethod=function(m,T,c){var I=this,v=m[T],N=this.getTime();if(c)return this._cacheLog;if(typeof v.bind=="function")return function(){for(var k=[],A=0;A<arguments.length;A++)k[A]=arguments[A];var R=I.getTime();v.call.apply(v,i([m,"".concat(R," IM SDK [").concat(T==="log"?"debug":T,"]: ")],k,!1)),I.onLog&&I.onLog({time:R,level:T==="log"?"debug":T,logs:k})};try{return Function.prototype.bind.call(v,m,"".concat(N," IM SDK [").concat(T==="log"?"debug":T,"]: "))}catch{return function(){return Function.prototype.apply.apply(v,[m,arguments])}}},p.prototype.getTime=function(){var m=new Date;return m.toTimeString().split(" ")[0]+":"+m.getMilliseconds()},p.prototype._cacheLog=function(){for(var m=[],T=0;T<arguments.length;T++)m[T]=arguments[T];var c=new Date().toLocaleString()+": ",I="";m.forEach(function(v){a(v)==="object"?I+=JSON.stringify(v)+" ":I+=v+" "}),this._cacheLogCall(c+I)},p.prototype._cacheLogCall=function(m){var T=u(m),c=this.logBytes+T,I=this.config.maxCache;if(!(T>=I)){if(c<I)this.logBytes+=T;else for(var v=c-I,N=0;N<v;){var k=this.logs.shift();k!==void 0&&(N+=u(k))}this.logs.push(m)}},p.prototype._getPersistedLevel=function(){var m;if(typeof window>"u")return 5;if((m=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])==="undefined"){var T=window.document.cookie,c=T.indexOf(encodeURIComponent(this.storageLogLevelKey));c!==-1&&(m=/^([^;]+)/.exec(T.slice(c))[1])}return m||5},p.prototype._persistLevel=function(m){var T=this.logMethods[m]||"SILENT";typeof window<"u"&&(window.localStorage&&(window.localStorage[this.storageLogLevelKey]=T),this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+T+";"))},p.prototype.replaceLoggingMethods=function(m,T){for(var c=0;c<this.logMethods.length;c++){var I=this.logMethods[c];this[I]=c<m?o:this.methodFactory(I,m,T)}this.log=this.debug},p.prototype.defaultMethodFactory=function(m,T,c){return this.realMethod(m)||this.enableLoggingWhenConsoleArrives.apply(this,[m,T,c])},p.prototype.realMethod=function(m){return m==="debug"&&(m="log"),typeof console<"u"&&(m==="trace"&&n?r:console[m]!==void 0?this._bindMethod(console,m,this.config.useCache):console.log!==void 0?this._bindMethod(console,"log",this.config.useCache):o)},p.prototype.enableLoggingWhenConsoleArrives=function(m,T,c){return(function(){typeof console<"u"&&(this.replaceLoggingMethods.call(this,T,c),this[m].apply(this,arguments))}).bind(this)},p}();function u(p){for(var m=p.length,T=0;T<p.length;T++)p.charCodeAt(T)>255&&m++;return m}var g=new l;g.getLogger=function(p){if(typeof p!="string"||p==="")throw new TypeError("You must supply a name when creating a logger.");return this};var f=typeof window<"u"?window.log:void 0;g.noConflict=function(){return typeof window<"u"&&window.log===g&&(window.log=f),g},g.getLoggers=function(){return t};var d=g},2449:function(h,O,e){e.r(O),e.d(O,{Message:function(){return m}});var r=e(4370),n=function(){function T(c){var I=c.id;this.id=I,this.type=c.type}return T.prototype.set=function(c){this.body={id:this.id,ackId:c.id,type:"read",to:c.to,from:c.from||"",chatType:c.chatType}},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType,ackId:c.id,type:"read",to:c.to,from:c.from||"",ackContent:c.ackContent,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly}},T}(),a=function(){function T(c){this.id=c.id,this.type=c.type}return T.prototype.set=function(c){this.body={id:this.id,ackId:c.ackId,type:"delivery",to:c.to,from:c.from||""}},T.create=function(c){return{id:r.P6.getUniqueId(),ackId:c.ackId,type:"delivery",to:c.to,from:c.from||"",isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly}},T}(),s=(e(3843),e(3710),function(){function T(c){var I=c.type,v=c.id;this.id=v,this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"channel",to:c.to,from:c.from||"",time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),type:"channel",chatType:c.chatType||"singleChat",to:c.to,from:c.from||"",time:Date.now(),isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly}},T}()),i=(e(9753),function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I,this.value=""}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"txt",to:c.to,msg:c.msg,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),isChatThread:c.isChatThread},this.value=c.msg},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){var I,v;return!((I=c.msgConfig)===null||I===void 0)&&I.languages&&Array.isArray((v=c.msgConfig)===null||v===void 0?void 0:v.languages),{type:"txt",id:r.P6.getUniqueId(),msg:c.msg,to:c.to,from:c.from||"",chatType:c.chatType,ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}()),o=function(){function T(c){var I=c.type,v=c.id;this.id=v||r.P6.getUniqueId(),this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"cmd",to:c.to,action:c.action,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),type:"cmd",to:c.to,from:c.from||"",chatType:c.chatType||"singleChat",action:c.action,time:Date.now(),ext:c.ext,msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),t=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"custom",to:c.to,customEvent:c.customEvent,customExts:c.customExts,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"custom",to:c.to,customEvent:c.customEvent,customExts:c.customExts,from:c.from||"",ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),l=function(){function T(c){var I=c.type,v=c.id;this.id=v||r.P6.getUniqueId(),this.type=I}return T.prototype.set=function(c){this.body={id:this.id,chatType:c.chatType||"singleChat",type:"loc",to:c.to,addr:c.addr,buildingName:c.buildingName,lat:c.lat,lng:c.lng,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now()}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"loc",to:c.to,addr:c.addr,buildingName:c.buildingName,lat:c.lat,lng:c.lng,from:c.from||"",ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),u=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"img",file:c.file,width:c.width,height:c.height,to:c.to,from:c.from||"",roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType,type:"img",url:c.url,width:c.width,height:c.height,file:c.file,to:c.to,from:c.from||"",ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,file_length:c.file_length,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList,thumbnailWidth:c.thumbnailWidth,thumbnailHeight:c.thumbnailHeight}},T}(),g=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"audio",file:c.file,filename:c.filename,length:c.length,file_length:c.file_length,fileInputId:c.fileInputId,to:c.to,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType,type:"audio",filename:c.filename,length:c.length,file:c.file,to:c.to,from:c.from||"",ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,file_length:c.file_length,msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),f=function(){function T(c){var I=c.type,v=c.id;this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"video",file:c.file,filename:c.filename,length:c.length,file_length:c.file_length,fileInputId:c.fileInputId,to:c.to,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),apiUrl:c.apiUrl,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"video",file:c.file,filename:c.filename,length:c.length,file_length:c.file_length,fileInputId:c.fileInputId,to:c.to,from:c.from||"",ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),d=function(){function T(c){var I=c.type,v=c.id;this.id=v,this.type=I}return T.prototype.set=function(c){c.file=c.file||c.fileInputId&&r.P6.getFileUrl(c.fileInputId),this.body={id:this.id,chatType:c.chatType||"singleChat",type:"file",file:c.file,filename:c.filename,fileInputId:c.fileInputId,to:c.to,from:c.from,roomType:c.roomType,success:c.success,fail:c.fail,ext:c.ext,time:Date.now(),onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,isChatThread:c.isChatThread}},T.prototype.setChatType=function(c){return!!this.body&&(this.body.chatType=c,!0)},T.prototype.setGroup=function(c){return!!this.body&&(this.body.group=c,!0)},T.create=function(c){return{id:r.P6.getUniqueId(),chatType:c.chatType||"singleChat",type:"file",file:c.file,filename:c.filename,fileInputId:c.fileInputId,file_length:c.file_length,to:c.to,from:c.from||"",ext:c.ext,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete,onFileUploadProgress:c.onFileUploadProgress,body:c.body,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList}},T}(),p=function(){function T(c){var I=c.type,v=c.id||r.P6.getUniqueId();this.id=v,this.type=I,this.value=""}return T.create=function(c){return{type:"combine",id:r.P6.getUniqueId(),to:c.to,from:c.from||"",chatType:c.chatType,ext:c.ext,time:Date.now(),msgConfig:c.msgConfig,isChatThread:c.isChatThread,priority:c.priority,deliverOnlineOnly:c.deliverOnlineOnly,receiverList:c.receiverList,compatibleText:c.compatibleText,title:c.title,summary:c.summary,messageList:c.messageList,onFileUploadError:c.onFileUploadError,onFileUploadComplete:c.onFileUploadComplete}},T}(),m=function(){function T(c,I){return this.type=c,this.id=I||r.P6.getUniqueId(),T.createOldMsg({type:c,id:this.id})}return T.createOldMsg=function(c){switch(c.type){case"read":return new n({type:"read",id:c.id});case"delivery":return new a({type:"delivery",id:c.id});case"channel":return new s({type:"channel",id:c.id});case"txt":return new i({type:"txt",id:c.id});case"cmd":return new o({type:"cmd",id:c.id});case"custom":return new t({type:"custom",id:c.id});case"loc":return new l({type:"loc",id:c.id});case"img":return new u({type:"img",id:c.id});case"audio":return new g({type:"audio",id:c.id});case"video":return new f({type:"video",id:c.id});case"file":return new d({type:"file",id:c.id})}},T.create=function(c){return(I=c).type!=="txt"||"version"in I?function(v){return v.type==="img"&&!("version"in v)}(c)?u.create(c):function(v){return v.type==="cmd"&&!("version"in v)}(c)?o.create(c):function(v){return v.type==="file"&&!("version"in v)}(c)?d.create(c):function(v){return v.type==="audio"&&!("version"in v)}(c)?g.create(c):function(v){return v.type==="video"&&!("version"in v)}(c)?f.create(c):function(v){return v.type==="custom"&&!("version"in v)}(c)?t.create(c):function(v){return v.type==="loc"&&!("version"in v)}(c)?l.create(c):function(v){return v.type==="channel"&&!("version"in v)}(c)?s.create(c):function(v){return v.type==="delivery"&&!("version"in v)}(c)?a.create(c):function(v){return v.type==="read"&&!("version"in v)}(c)?n.create(c):function(v){return v.type==="combine"&&!("version"in v)}(c)?p.create(c):{}:i.create(c);var I},T.prototype.set=function(c){},T}()},5531:function(h,O,e){var r;e.d(O,{E:function(){return r}}),function(n){n[n.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",n[n.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",n[n.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",n[n.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",n[n.REQUEST_ABORT=-4]="REQUEST_ABORT",n[n.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",n[n.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",n[n.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",n[n.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",n[n.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",n[n.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",n[n.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",n[n.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",n[n.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",n[n.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",n[n.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",n[n.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",n[n.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",n[n.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",n[n.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",n[n.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",n[n.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",n[n.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",n[n.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",n[n.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",n[n.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",n[n.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",n[n.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",n[n.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",n[n.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",n[n.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",n[n.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",n[n.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",n[n.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",n[n.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",n[n.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",n[n.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",n[n.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",n[n.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",n[n.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",n[n.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",n[n.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",n[n.MAX_LIMIT=50]="MAX_LIMIT",n[n.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",n[n.NO_PERMISSION=52]="NO_PERMISSION",n[n.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",n[n.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",n[n.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",n[n.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",n[n.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",n[n.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",n[n.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",n[n.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",n[n.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",n[n.PARSE_FILE_ERROR=203]="PARSE_FILE_ERROR",n[n.USER_NOT_FOUND=204]="USER_NOT_FOUND",n[n.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",n[n.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",n[n.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",n[n.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",n[n.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",n[n.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",n[n.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",n[n.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",n[n.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",n[n.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",n[n.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",n[n.WEBIM_MESSAGE_REC_AUDIO=304]="WEBIM_MESSAGE_REC_AUDIO",n[n.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",n[n.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",n[n.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",n[n.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",n[n.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",n[n.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",n[n.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",n[n.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",n[n.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",n[n.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",n[n.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",n[n.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",n[n.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",n[n.STATUS_INIT=400]="STATUS_INIT",n[n.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",n[n.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",n[n.STATUS_OPENED=403]="STATUS_OPENED",n[n.STATUS_CLOSING=404]="STATUS_CLOSING",n[n.STATUS_CLOSED=405]="STATUS_CLOSED",n[n.STATUS_ERROR=406]="STATUS_ERROR",n[n.SERVER_BUSY=500]="SERVER_BUSY",n[n.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",n[n.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",n[n.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",n[n.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",n[n.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",n[n.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",n[n.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",n[n.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",n[n.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",n[n.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",n[n.MESSAGE_SIZE_LIMIT=511]="MESSAGE_SIZE_LIMIT",n[n.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",n[n.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",n[n.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",n[n.PERMISSION_DENIED=603]="PERMISSION_DENIED",n[n.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",n[n.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",n[n.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",n[n.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",n[n.GROUP_MEMBER_ATTRIBUTES_SET_FAILED=609]="GROUP_MEMBER_ATTRIBUTES_SET_FAILED",n[n.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",n[n.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",n[n.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",n[n.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",n[n.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",n[n.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",n[n.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",n[n.REACTION_CREATING=1102]="REACTION_CREATING",n[n.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",n[n.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",n[n.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",n[n.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",n[n.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",n[n.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST",n[n.MODIFY_MESSAGE_NOT_EXIST=1302]="MODIFY_MESSAGE_NOT_EXIST",n[n.MODIFY_MESSAGE_FORMAT_ERROR=1303]="MODIFY_MESSAGE_FORMAT_ERROR",n[n.MODIFY_MESSAGE_FAILED=1304]="MODIFY_MESSAGE_FAILED",n[n.CONVERSATION_NOT_EXIST=1400]="CONVERSATION_NOT_EXIST"}(r||(r={}))},4370:function(h,O,e){e.d(O,{iw:function(){return m},hj:function(){return l},LR:function(){return N},Ki:function(){return f},P4:function(){return T},cT:function(){return v},P6:function(){return A}}),e(9601),e(1539),e(8674),e(3710),e(6699),e(7042),e(2772),e(9653),e(9714),e(6992),e(8783),e(3948),e(285),e(1637),e(8309),e(4986),e(2023);var r=e(5531),n=function(){return n=Object.assign||function(R){for(var y,U=1,L=arguments.length;U<L;U++)for(var j in y=arguments[U])Object.prototype.hasOwnProperty.call(y,j)&&(R[j]=y[j]);return R},n.apply(this,arguments)},a=e(1595),s=e(2071),i=e(7360),o=function(){return o=Object.assign||function(R){for(var y,U=1,L=arguments.length;U<L;U++)for(var j in y=arguments[U])Object.prototype.hasOwnProperty.call(y,j)&&(R[j]=y[j]);return R},o.apply(this,arguments)},t=function(){};function l(R,y){var U,L=this;return c().platform===m.WEB?new Promise(function(j,H){var ee=R.dataType||"text",F=R.success||t,K=R.error||t,Z=new XMLHttpRequest;Z.ontimeout=function(){H({type:r.E.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:Z})},Z.onerror=function(){H({type:r.E.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:Z})},Z.onabort=function(){H({type:r.E.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:Z})},Z.onreadystatechange=function(){if(Z.readyState===4){var ue=new Date().getTime()-U,Q=Z.status||0,ne={elapse:ue,httpCode:Q};if(Q===200){A.ajaxUnconventionalErrorTimes=0;try{switch(ee){case"text":return F(Z.responseText),void j(Z.responseText);case"json":var fe=JSON.parse(Z.responseText);return fe.extraInfo=ne,F(fe),void j(fe);case"xml":return Z.responseXML&&Z.responseXML.documentElement?(F(Z.responseXML.documentElement),void j(Z.responseXML.documentElement)):(K({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Z.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void H({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Z.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:K({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Z.responseText,message:"Invalid dataType"}),H({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Z.responseText,message:"Invalid dataType"})}return j(Z.response||Z.responseText),void F(Z.response||Z.responseText,Z)}catch(Y){H(Y)}return}[400,401,403,404,429,500,503].includes(Q)||(i.kg.debug("rest api request fail status:",Q),A.ajaxUnconventionalErrorTimes++),function(Y,Oe,Ae,Be){var Ce,Ue,ke,je,Ge,xe,De,ge,be,Ie,Se,D,q,w,X,E,b,x,C,P,_=Y.response;_&&typeof _=="string"&&(_=JSON.parse(_));var S=Y.status,W={elapse:Be,httpCode:S,errDesc:_==null?void 0:_.error_description};if(S===400){if(_.error_code===40002)return void Oe({type:r.E.THREAD_ALREADY_EXIST,message:_==null?void 0:_.error_description,extraInfo:W});if(_.error_code===40009)return void Oe({type:r.E.OPERATION_UNSUPPORTED,message:_==null?void 0:_.error_description,extraInfo:W});if(_.error_code===60005)return void Oe({type:r.E.GROUP_MEMBER_ATTRIBUTES_SET_FAILED,message:(_==null?void 0:_.desc)||(_==null?void 0:_.error_description),extraInfo:W});if(_.error_code===60010)return void(_!=null&&_.error_description.includes("exceeds chatgroup user metadata single value limit")?Oe({type:r.E.MAX_LIMIT,message:(_==null?void 0:_.desc)||_.error_description,extraInfo:W}):Oe({type:r.E.NO_PERMISSION,message:(_==null?void 0:_.desc)||_.error_description,extraInfo:W}));if(_.error_code===60011)return void Oe({type:r.E.CHATROOM_NOT_JOINED,message:_==null?void 0:_.desc,extraInfo:W});if(_.error_code===60006||_.error_code===60007||_.error_code===60009||_.error_code===60012)return void Oe({type:r.E.MAX_LIMIT,message:(_==null?void 0:_.desc)||(_==null?void 0:_.error_description),extraInfo:W});if(!((Ce=_.error_description)===null||Ce===void 0)&&Ce.includes("are not members of this group"))return!((Ue=Y.responseURL)===null||Ue===void 0)&&Ue.includes("chatgroups")?Oe({type:r.E.GROUP_NOT_JOINED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):Oe({type:r.E.CHATROOM_NOT_JOINED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}),void Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:_==null?void 0:_.error_description,data:Y.responseText,extraInfo:W});if((_==null?void 0:_.result)==="the app not open presence")return void Oe({type:r.E.SERVICE_NOT_ENABLED,message:_==null?void 0:_.result,extraInfo:W});switch(_==null?void 0:_.error_description){case"the user is already operation this message":Oe({type:r.E.REACTION_ALREADY_ADDED,message:_==null?void 0:_.error_description,extraInfo:W});break;case"The quantity has exceeded the limit!":Oe({type:r.E.MAX_LIMIT,message:_==null?void 0:_.error_description,extraInfo:W});break;case"The user not in this group!":Oe({type:r.E.GROUP_NOT_JOINED,message:_==null?void 0:_.error_description,extraInfo:W});break;case"the user operation is illegal!":Oe({type:r.E.REACTION_OPERATION_IS_ILLEGAL,message:_==null?void 0:_.error_description,extraInfo:W});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":Oe({type:r.E.SERVICE_NOT_ENABLED,message:_==null?void 0:_.error_description,extraInfo:W});break;case"this message is creating reaction, please try again.":Oe({type:r.E.REACTION_CREATING,message:_==null?void 0:_.error_description,extraInfo:W});break;case"groupId can not be null!":Oe({type:r.E.GROUP_NOT_EXIST,message:_==null?void 0:_.error_description,extraInfo:W});break;case"The input text is too long.":Oe({type:r.E.TRANSLATION_TEXT_TOO_LONG,message:_==null?void 0:_.error_description,extraInfo:W});break;case"The target language is not valid.":Oe({type:r.E.TRANSLATION_NOT_VALID,message:_==null?void 0:_.error_description,extraInfo:W});break;case"report failed, get message by id failed":Oe({type:r.E.MESSAGE_NOT_FOUND,message:_==null?void 0:_.error_description,extraInfo:W});break;case"ext is too big ":Oe({type:r.E.PRESENCE_PARAM_EXCEED,message:_==null?void 0:_.error_description,extraInfo:W});break;case"Request body not readable.Please check content type is correct!":Oe({type:r.E.REQUEST_PARAMETER_ERROR,message:_==null?void 0:_.error_description,extraInfo:W});break;default:Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:_==null?void 0:_.error_description,data:Y.responseText,extraInfo:W}),Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,message:_==null?void 0:_.error_description,data:Y.responseText,extraInfo:W})}}else if(S===401)_.error_code===40001||_.error_code===60001||_.error_description==="Unable to authenticate (OAuth)"?Oe({type:r.E.NO_PERMISSION,message:_==null?void 0:_.error_description,extraInfo:W}):(Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:Y.responseText,extraInfo:W}),Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:Y.responseText,extraInfo:W}));else if(S===403)_.error_code===4e4||_.error_code===60004||_.error_code===15002?Oe({type:r.E.SERVICE_NOT_ENABLED,message:_==null?void 0:_.error_description,extraInfo:W}):_.error_code===40003||_.error_code===40004?Oe({type:r.E.THREAD_ALREADY_EXIST,message:_==null?void 0:_.error_description,extraInfo:W}):_.error_code===40005||_.error_code===40007||_.error_code===91002?Oe({type:r.E.MAX_LIMIT,message:_==null?void 0:_.error_description,extraInfo:W}):_.error_code===60002&&Oe({type:r.E.PERMISSION_DENIED,message:_==null?void 0:_.error_description,extraInfo:W}),_.error_description==="group member list is full!"?!((ke=Y.responseURL)===null||ke===void 0)&&ke.includes("chatgroups")?Oe({type:r.E.GROUP_MEMBERS_FULL,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):Oe({type:r.E.CHATROOM_MEMBERS_FULL,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):!((je=_.error_description)===null||je===void 0)&&je.includes(_.error_description.includes("already in group"))?!((Ge=Y.responseURL)===null||Ge===void 0)&&Ge.includes("chatgroups")&&Oe({type:r.E.GROUP_ALREADY_JOINED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):!((xe=_.error_description)===null||xe===void 0)&&xe.includes("are not members of this group")?!((De=Y.responseURL)===null||De===void 0)&&De.includes("chatgroups")?Oe({type:r.E.GROUP_NOT_JOINED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):Oe({type:r.E.CHATROOM_NOT_JOINED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):!((ge=_.error_description)===null||ge===void 0)&&ge.includes("service not open!")||!((be=_.error_description)===null||be===void 0)&&be.includes("message report not open")||!((Ie=_.error_description)===null||Ie===void 0)&&Ie.includes("messageroaming function not open")?Oe({type:r.E.SERVICE_NOT_ENABLED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):!((Se=_.error_description)===null||Se===void 0)&&Se.includes("members size is greater than max user size !")?Oe({type:r.E.GROUP_MEMBERS_LIMIT,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):!((D=_.error_description)===null||D===void 0)&&D.includes("can not operate this group, reason: group is disabled")?Oe({type:r.E.GROUP_IS_DISABLED,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):Oe({type:r.E.PERMISSION_DENIED,data:Y.response||Y.responseText,message:"permission denied",extraInfo:n(n({},W),{errDesc:"permission denied"})}),Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:Y.responseText,extraInfo:W});else if(S===404)_.error_code===40011?Oe({type:r.E.THREAD_NOT_EXIST,message:_==null?void 0:_.error_description,extraInfo:W}):_.error_code===40012?Oe({type:r.E.NO_PERMISSION,message:_==null?void 0:_.error_description,extraInfo:W}):_.error_code===60003||_.error_code===20004?Oe({type:r.E.GROUP_NOT_JOINED,message:_==null?void 0:_.error_description,extraInfo:W}):_.error_code===91001&&Oe({type:r.E.CONVERSATION_NOT_EXIST,message:_==null?void 0:_.error_description,extraInfo:W}),!((q=_.error_description)===null||q===void 0)&&q.includes("do not find this group")||!((w=_.error_description)===null||w===void 0)&&w.includes("does not exist")?!((X=Y.responseURL)===null||X===void 0)&&X.includes("chatgroups")?Oe({type:r.E.GROUP_NOT_EXIST,data:Y.response||Y.responseText,message:"The chat room dose not exist.",extraInfo:n(n({},W),{errDesc:"The chat room dose not exist."})}):Oe({type:r.E.CHATROOM_NOT_EXIST,data:Y.response||Y.responseText,message:"The chat room dose not exist.",extraInfo:n(n({},W),{errDesc:"The chat room dose not exist."})}):!((E=_.error_description)===null||E===void 0)&&E.includes("username")&&(!((b=_.error_description)===null||b===void 0)&&b.includes("doesn't exist!'"))||!((x=_.error_description)===null||x===void 0)&&x.includes("user not found")?Oe({type:r.E.USER_NOT_FOUND,data:Y.response||Y.responseText,message:_.error_description,extraInfo:W}):Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.response||Y.responseText,message:Y.responseText,extraInfo:W}),Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.response||Y.responseText,message:Y.responseText,extraInfo:W});else if(S===406)_.error_code===90004&&Oe({type:r.E.OPERATION_NOT_ALLOWED,message:_==null?void 0:_.error_description,extraInfo:W});else if(S===429||S===503){if(!((C=_.error_description)===null||C===void 0)&&C.includes("The request has reached the maximum limit"))return void Oe({type:r.E.MAX_LIMIT,message:Y.responseText,extraInfo:W});Oe({type:r.E.SERVER_BUSY,data:Y.response||Y.responseText,message:"Server is busy.",extraInfo:n(n({},W),{errDesc:"Server is busy."})}),Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:"Server is busy.",extraInfo:n(n({},W),{errDesc:"Server is busy."})})}else if(S===500){if(_.error_code===40006||_.error_code===40008||_.error_code===40010)return void Oe({type:r.E.SERVER_UNKNOWN_ERROR,message:_==null?void 0:_.error_description,extraInfo:W});if(_.error_code===90005||_.error_code===99999)return void Oe({type:r.E.REQUEST_UNKNOWN,message:_==null?void 0:_.error_description,extraInfo:W});if(!((P=_.error_description)===null||P===void 0)&&P.includes("translte failed!"))return void Oe({type:r.E.TRANSLATION_FAILED,message:Y.responseText,extraInfo:W});Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:"",extraInfo:W}),Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:"",extraInfo:W})}else Oe({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:Y.responseText,extraInfo:n(n({},W),{errDesc:"ajax error"})}),Ae({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Y.responseText,message:Y.responseText,extraInfo:n(n({},W),{errDesc:"ajax error"})})}(Z,H,K,ue)}Z.readyState===0&&(K({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Z.responseText,message:"Request not initialized"}),H({type:r.E.WEBIM_CONNCTION_AJAX_ERROR,data:Z.responseText,message:"Request not initialized"}))},R.responseType&&Z.responseType&&(Z.responseType=R.responseType),R.mimeType&&Z.overrideMimeType(R.mimeType);var oe=R.type||"POST",le=R.data||null,de="";if(oe.toLowerCase()==="get"&&le){for(var Ee in le)le.hasOwnProperty(Ee)&&(de+=Ee+"="+le[Ee]+"&");de=de&&de.slice(0,-1),R.url+=(R.url.indexOf("?")>0?"&":"?")+(de&&de+"&")+"_v="+new Date().getTime(),le=null,de=""}U=new Date().getTime(),Z.open(oe,R.url);var re=R.headers||{};for(var z in re["Content-Type"]||(re["Content-Type"]="application/json"),re)re.hasOwnProperty(z)&&Z.setRequestHeader(z,re[z]);Z.send(le)}).then(function(j){return L.dataReport&&y&&y!==a.fI.SDK_INTERNAL&&L.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:o({isSuccess:1,requestUrl:R.url,requestName:y,requestMethod:R.type},k(j.extraInfo))}),y!==a.fI.SDK_INTERNAL&&delete j.extraInfo,u(j)==="Object"?o(o({},j),{type:r.E.REQUEST_SUCCESS}):{data:j,type:r.E.REQUEST_SUCCESS}}).catch(function(j){throw L.dataReport&&y&&y!==a.fI.SDK_INTERNAL&&L.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:o({isSuccess:0,requestUrl:R.url,requestName:y,requestMethod:R.type},k(j.extraInfo))}),y!==a.fI.SDK_INTERNAL&&delete j.extraInfo,j}):g.call(this,R,y)}function u(R){return Object.prototype.toString.call(R).slice(8,-1)}function g(R,y){var U=this;return new Promise(function(L,j){var H=R.success||t,ee=R.error||t,F=R.type||"POST",K=R.data||null,Z="",oe=new Date().getTime(),le=A.getEnvInfo();if(F.toLowerCase()==="get"&&K){for(var de in K)K.hasOwnProperty(de)&&(Z+=de+"="+K[de]+"&");Z=Z&&Z.slice(0,-1),R.url+=(R.url.indexOf("?")>0?"&":"?")+(Z&&Z+"&")+"_v="+new Date().getTime(),K=null,Z=""}var Ee={url:R.url,data:R.data,method:F,headers:{},success:function(re){var z,ue,Q,ne,fe,Y={elapse:new Date().getTime()-oe,httpCode:Number(((z=re.statusCode)===null||z===void 0?void 0:z.toString())||((ue=re.status)===null||ue===void 0?void 0:ue.toString())),errDesc:((Q=re==null?void 0:re.data)===null||Q===void 0?void 0:Q.error_description)||""};if(((ne=re.statusCode)===null||ne===void 0?void 0:ne.toString())==="200"||((fe=re.status)===null||fe===void 0?void 0:fe.toString())==="200"){re.data.extraInfo=Y;var Oe=re.data;H(Oe),L(Oe)}else re.extraInfo=Y,ee(Oe=re),j(Oe)},complete:function(){},fail:function(re){var z={elapse:new Date().getTime()-oe,httpCode:s.Tp,errDesc:"request:fail"};re.extraInfo=z,re.data={error:"request:fail",error_description:"request:fail"},ee(re),j(re)}};if(le.platform==="zfb"||le.platform==="dd"?Ee.headers=R.headers:Ee.header=R.headers,le.platform==="dd")return dd.httpRequest(Ee);le.global.request(Ee)}).then(function(L){return U.dataReport&&y&&y!==a.fI.SDK_INTERNAL&&U.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:o({isSuccess:1,requestUrl:R.url,requestName:y,requestMethod:R.type},k(L.extraInfo))}),y!==a.fI.SDK_INTERNAL&&delete L.extraInfo,u(L)==="Object"?o(o({},L),{type:r.E.REQUEST_SUCCESS}):{data:L,type:r.E.REQUEST_SUCCESS}}).catch(function(L){throw U.dataReport&&y&&y!==a.fI.SDK_INTERNAL&&U.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:o({isSuccess:0,requestUrl:R.url,requestName:y,requestMethod:R.type},k(L.extraInfo))}),y!==a.fI.SDK_INTERNAL&&delete L.extraInfo,L})}function f(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var R=new Date,y=new Date(2010,1,1);return(R.getTime()-y.getTime()+this.autoIncrement).toString()}var d,p,m,T=(d=function(R,y){var U=c();if(U.platform!==m.WEB){var L=U.global,j=function(H){H.isConnected?R():y()};L.offNetworkStatusChange&&L.offNetworkStatusChange(j),L.onNetworkStatusChange&&L.onNetworkStatusChange(j)}else typeof addEventListener<"u"&&(window.addEventListener("online",R),window.addEventListener("offline",y))},function(){for(var R=[],y=0;y<arguments.length;y++)R[y]=arguments[y];if(!d)return p;p=d.apply(void 0,R),d=null});function c(){return typeof swan<"u"&&I(swan)?{platform:m.BAIDU,global:swan}:typeof tt<"u"&&I(tt)?{platform:m.TT,global:tt}:typeof dd<"u"&&I(dd)?{platform:m.DD,global:dd}:typeof my<"u"&&I(my)?{platform:m.ZFB,global:my}:typeof wx<"u"&&I(wx)?{platform:m.WX,global:wx}:typeof uni<"u"&&I(uni)?{platform:m.UNI,global:uni}:typeof window<"u"&&window.WebSocket?{platform:m.WEB,global:window}:{platform:m.NODE,global:e.g||{}}}function I(R){for(var y=["canIUse","getSystemInfo"],U=0,L=y.length;U<L;U++)if(!R[y[U]])return!1;return!0}function v(R,y){var U,L,j=this,H=new Date().getTime(),ee=R.accessToken;if(ee){var F=R.appKey,K=[],Z="",oe="";if(F&&(Z=(K=F.split("#"))[0],oe=K[1]),Z||oe){var le=R.apiUrl,de=R.uploadUrl||le+"/"+Z+"/"+oe+"/chatfiles";if(((L=(U=R==null?void 0:R.file)===null||U===void 0?void 0:U.data)===null||L===void 0?void 0:L.size)<=0)R.onFileUploadError&&R.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else{var Ee=new XMLHttpRequest;Ee.upload&&Ee.upload.addEventListener("progress",R.onFileUploadProgress||t,!1),Ee.addEventListener("abort",R.onFileUploadCanceled||t,!1),Ee.addEventListener("error",function(ue){z({type:r.E.WEBIM_UPLOADFILE_ERROR,data:Ee})},!1),Ee.addEventListener("load",function(ue){try{var Q=JSON.parse(Ee.responseText);if(Ee.status===400)return z({type:r.E.WEBIM_UPLOADFILE_ERROR,data:Q}),!1;try{(function(ne){var fe=new Date().getTime()-H;j.dataReport&&y&&[a.fI.UPLOAD_MSG_ATTACH,a.fI.UPLOAD_CHATROOM_FILE,a.fI.UPLOAD_GROUP_FILE].includes(y)&&j.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:{isSuccess:ne!=null&&ne.error?0:1,requestMethod:"POST",requestName:y,requestElapse:fe,requestUrl:de,code:Ee.status,codeDesc:(ne==null?void 0:ne.error_description)||""}}),R.onFileUploadComplete&&R.onFileUploadComplete(ne)})(Q)}catch(ne){z({type:r.E.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:ne})}}catch{z({type:r.E.WEBIM_UPLOADFILE_ERROR,data:Ee.responseText})}},!1),Ee.open("POST",de),Ee.setRequestHeader("restrict-access","true"),Ee.setRequestHeader("Accept","*/*"),Ee.setRequestHeader("Authorization","Bearer "+ee);var re=new FormData;re.append("file",R.file.data),R.thumbnailWidth&&re.append("thumbnail-width",R.thumbnailWidth+""),R.thumbnailHeight&&re.append("thumbnail-height",R.thumbnailHeight+""),Ee.send(re)}}else R.onFileUploadError&&R.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_ERROR,message:"AppKey illegal"})}else R.onFileUploadError&&R.onFileUploadError({type:r.E.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"});function z(ue){var Q=new Date().getTime()-H;j.dataReport&&y&&[a.fI.UPLOAD_MSG_ATTACH,a.fI.UPLOAD_CHATROOM_FILE,a.fI.UPLOAD_GROUP_FILE].includes(y)&&j.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:y,requestElapse:Q,requestUrl:de,code:(Ee==null?void 0:Ee.status)||0,codeDesc:"upload file error"}}),R.onFileUploadError&&R.onFileUploadError(ue)}}function N(R,y){R.onFileDownloadComplete=R.onFileDownloadComplete||t,R.onFileDownloadError=R.onFileDownloadError||t;var U=new Date().getTime(),L=new XMLHttpRequest,j=this;L.addEventListener("load",function(le){var de=new Date().getTime()-U;j.dataReport&&y&&y===a.fI.DOWN_GROUP_FILE&&j.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:{isSuccess:L.status===200?1:0,requestMethod:"POST",requestName:y,requestElapse:de,requestUrl:R==null?void 0:R.url,code:L.status,codeDesc:L.status===200?"":"download file error"}}),R.onFileDownloadComplete&&R.onFileDownloadComplete(L.response)},!1),L.addEventListener("error",function(le){var de=new Date().getTime()-U;j.dataReport&&y&&y===a.fI.DOWN_GROUP_FILE&&j.dataReport.geOperateFun({operationName:y})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:y,requestElapse:de,requestUrl:R==null?void 0:R.url,code:(L==null?void 0:L.status)||0,codeDesc:"download file error"}}),R.onFileDownloadError&&R.onFileDownloadError({type:r.E.WEBIM_DOWNLOADFILE_ERROR,id:R.id,xhr:L})},!1);var H=R.method||"GET",ee=R.responseType||"blob",F=R.mimeType||"text/plain; charset=x-user-defined";L.open(H,R.url),typeof Blob<"u"?L.responseType=ee:L.overrideMimeType(F);var K={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":R.secret,Authorization:"Bearer "+this.context.accessToken},Z=R.headers||{};for(var oe in Z)K[oe]=Z[oe];for(var oe in K)K[oe]&&L.setRequestHeader(oe,K[oe]);L.send(null)}function k(R){R===void 0&&(R={});var y=R.elapse,U=y===void 0?0:y,L=R.httpCode,j=L===void 0?0:L,H=R.errDesc;return{requestElapse:U,code:j,codeDesc:H===void 0?"":H}}(function(R){R.WEB="web",R.WX="wx",R.ZFB="zfb",R.DD="dd",R.TT="tt",R.BAIDU="baidu",R.QUICK_APP="quick_app",R.UNI="uni",R.NODE="node"})(m||(m={}));var A={autoIncrement:0,ajaxUnconventionalErrorTimes:0,ajax:l,getUniqueId:f,getFileUrl:function(R){var y={url:"",filename:"",filetype:"",data:{}},U=typeof R=="string"?document.getElementById(R):R;if(window.URL.createObjectURL){if(!U.files)throw Error("this is not HTMLInputElement");var L=U.files;if(L.length>0){var j=L.item(0);y.data=j,y.url=window.URL.createObjectURL(j),y.filename=(j==null?void 0:j.name)||""}}else{if(typeof R!="string")throw Error("in IE fileInputId must be string");j=document.getElementById(R).value,y.url=j;var H=j.lastIndexOf("/"),ee=j.lastIndexOf("\\"),F=Math.max(H,ee);y.filename=F<0?j:j.substring(F+1)}var K=y.filename.lastIndexOf(".");return K!==-1&&(y.filetype=y.filename.substring(K+1).toLowerCase()),y},uploadFile:v,flow:function(R){for(var y=R.length,U=y;U--;)if(typeof R[U]!="function")throw new TypeError("Expected a function");return function(){for(var L=[],j=0;j<arguments.length;j++)L[j]=arguments[j];for(var H=0,ee=y?R[H].apply(this,L):L[0];++H<y;)ee=R[H].call(this,ee);return ee}},listenNetwork:T,getEnvInfo:c,wxRequest:g,parseDownloadResponse:function(R){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return R&&R.type&&R.type==="application/json"||0>Object.prototype.toString.call(R).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(R)},download:N,parseNotify:function(R){for(var y="",U=0;U<R.length;U++)y+="%"+R[U].toString(16);return JSON.parse(decodeURIComponent(y))},getExtraData:k,Uint8ArrayToString:function(R){for(var y="",U=0;U<R.length;U++)y+=String.fromCharCode(R[U]);return y}}},9662:function(h,O,e){var r=e(614),n=e(6330),a=TypeError;h.exports=function(s){if(r(s))return s;throw a(n(s)+" is not a function")}},9483:function(h,O,e){var r=e(4411),n=e(6330),a=TypeError;h.exports=function(s){if(r(s))return s;throw a(n(s)+" is not a constructor")}},6077:function(h,O,e){var r=e(614),n=String,a=TypeError;h.exports=function(s){if(typeof s=="object"||r(s))return s;throw a("Can't set "+n(s)+" as a prototype")}},1223:function(h,O,e){var r=e(5112),n=e(30),a=e(3070).f,s=r("unscopables"),i=Array.prototype;i[s]==null&&a(i,s,{configurable:!0,value:n(null)}),h.exports=function(o){i[s][o]=!0}},5787:function(h,O,e){var r=e(7976),n=TypeError;h.exports=function(a,s){if(r(s,a))return a;throw n("Incorrect invocation")}},9670:function(h,O,e){var r=e(111),n=String,a=TypeError;h.exports=function(s){if(r(s))return s;throw a(n(s)+" is not an object")}},3013:function(h){h.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7556:function(h,O,e){var r=e(7293);h.exports=r(function(){if(typeof ArrayBuffer=="function"){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}})},260:function(h,O,e){var r,n,a,s=e(3013),i=e(9781),o=e(7854),t=e(614),l=e(111),u=e(2597),g=e(648),f=e(6330),d=e(8880),p=e(8052),m=e(7045),T=e(7976),c=e(9518),I=e(7674),v=e(5112),N=e(9711),k=e(9909),A=k.enforce,R=k.get,y=o.Int8Array,U=y&&y.prototype,L=o.Uint8ClampedArray,j=L&&L.prototype,H=y&&c(y),ee=U&&c(U),F=Object.prototype,K=o.TypeError,Z=v("toStringTag"),oe=N("TYPED_ARRAY_TAG"),le=s&&!!I&&g(o.opera)!=="Opera",de=!1,Ee={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},re={BigInt64Array:8,BigUint64Array:8},z=function(Q){var ne=c(Q);if(l(ne)){var fe=R(ne);return fe&&u(fe,"TypedArrayConstructor")?fe.TypedArrayConstructor:z(ne)}},ue=function(Q){if(!l(Q))return!1;var ne=g(Q);return u(Ee,ne)||u(re,ne)};for(r in Ee)(a=(n=o[r])&&n.prototype)?A(a).TypedArrayConstructor=n:le=!1;for(r in re)(a=(n=o[r])&&n.prototype)&&(A(a).TypedArrayConstructor=n);if((!le||!t(H)||H===Function.prototype)&&(H=function(){throw K("Incorrect invocation")},le))for(r in Ee)o[r]&&I(o[r],H);if((!le||!ee||ee===F)&&(ee=H.prototype,le))for(r in Ee)o[r]&&I(o[r].prototype,ee);if(le&&c(j)!==ee&&I(j,ee),i&&!u(ee,Z))for(r in de=!0,m(ee,Z,{configurable:!0,get:function(){return l(this)?this[oe]:void 0}}),Ee)o[r]&&d(o[r],oe,r);h.exports={NATIVE_ARRAY_BUFFER_VIEWS:le,TYPED_ARRAY_TAG:de&&oe,aTypedArray:function(Q){if(ue(Q))return Q;throw K("Target is not a typed array")},aTypedArrayConstructor:function(Q){if(t(Q)&&(!I||T(H,Q)))return Q;throw K(f(Q)+" is not a typed array constructor")},exportTypedArrayMethod:function(Q,ne,fe,Y){if(i){if(fe)for(var Oe in Ee){var Ae=o[Oe];if(Ae&&u(Ae.prototype,Q))try{delete Ae.prototype[Q]}catch{try{Ae.prototype[Q]=ne}catch{}}}ee[Q]&&!fe||p(ee,Q,fe?ne:le&&U[Q]||ne,Y)}},exportTypedArrayStaticMethod:function(Q,ne,fe){var Y,Oe;if(i){if(I){if(fe){for(Y in Ee)if((Oe=o[Y])&&u(Oe,Q))try{delete Oe[Q]}catch{}}if(H[Q]&&!fe)return;try{return p(H,Q,fe?ne:le&&H[Q]||ne)}catch{}}for(Y in Ee)!(Oe=o[Y])||Oe[Q]&&!fe||p(Oe,Q,ne)}},getTypedArrayConstructor:z,isView:function(Q){if(!l(Q))return!1;var ne=g(Q);return ne==="DataView"||u(Ee,ne)||u(re,ne)},isTypedArray:ue,TypedArray:H,TypedArrayPrototype:ee}},3331:function(h,O,e){var r=e(7854),n=e(1702),a=e(9781),s=e(3013),i=e(6530),o=e(8880),t=e(7045),l=e(9190),u=e(7293),g=e(5787),f=e(9303),d=e(7466),p=e(7067),m=e(1179),T=e(9518),c=e(7674),I=e(8006).f,v=e(1285),N=e(1589),k=e(8003),A=e(9909),R=i.PROPER,y=i.CONFIGURABLE,U="ArrayBuffer",L="DataView",j="Wrong index",H=A.getterFor(U),ee=A.getterFor(L),F=A.set,K=r.ArrayBuffer,Z=K,oe=Z&&Z.prototype,le=r.DataView,de=le&&le.prototype,Ee=Object.prototype,re=r.Array,z=r.RangeError,ue=n(v),Q=n([].reverse),ne=m.pack,fe=m.unpack,Y=function(D){return[255&D]},Oe=function(D){return[255&D,D>>8&255]},Ae=function(D){return[255&D,D>>8&255,D>>16&255,D>>24&255]},Be=function(D){return D[3]<<24|D[2]<<16|D[1]<<8|D[0]},Ce=function(D){return ne(D,23,4)},Ue=function(D){return ne(D,52,8)},ke=function(D,q,w){t(D.prototype,q,{configurable:!0,get:function(){return w(this)[q]}})},je=function(D,q,w,X){var E=p(w),b=ee(D);if(E+q>b.byteLength)throw z(j);var x=b.bytes,C=E+b.byteOffset,P=N(x,C,C+q);return X?P:Q(P)},Ge=function(D,q,w,X,E,b){var x=p(w),C=ee(D);if(x+q>C.byteLength)throw z(j);for(var P=C.bytes,_=x+C.byteOffset,S=X(+E),W=0;W<q;W++)P[_+W]=S[b?W:q-W-1]};if(s){var xe=R&&K.name!==U;if(u(function(){K(1)})&&u(function(){new K(-1)})&&!u(function(){return new K,new K(1.5),new K(NaN),K.length!=1||xe&&!y}))xe&&y&&o(K,"name",U);else{(Z=function(D){return g(this,oe),new K(p(D))}).prototype=oe;for(var De,ge=I(K),be=0;ge.length>be;)(De=ge[be++])in Z||o(Z,De,K[De]);oe.constructor=Z}c&&T(de)!==Ee&&c(de,Ee);var Ie=new le(new Z(2)),Se=n(de.setInt8);Ie.setInt8(0,2147483648),Ie.setInt8(1,2147483649),!Ie.getInt8(0)&&Ie.getInt8(1)||l(de,{setInt8:function(D,q){Se(this,D,q<<24>>24)},setUint8:function(D,q){Se(this,D,q<<24>>24)}},{unsafe:!0})}else oe=(Z=function(D){g(this,oe);var q=p(D);F(this,{type:U,bytes:ue(re(q),0),byteLength:q}),a||(this.byteLength=q,this.detached=!1)}).prototype,de=(le=function(D,q,w){g(this,de),g(D,oe);var X=H(D),E=X.byteLength,b=f(q);if(b<0||b>E)throw z("Wrong offset");if(b+(w=w===void 0?E-b:d(w))>E)throw z("Wrong length");F(this,{type:L,buffer:D,byteLength:w,byteOffset:b,bytes:X.bytes}),a||(this.buffer=D,this.byteLength=w,this.byteOffset=b)}).prototype,a&&(ke(Z,"byteLength",H),ke(le,"buffer",ee),ke(le,"byteLength",ee),ke(le,"byteOffset",ee)),l(de,{getInt8:function(D){return je(this,1,D)[0]<<24>>24},getUint8:function(D){return je(this,1,D)[0]},getInt16:function(D){var q=je(this,2,D,arguments.length>1?arguments[1]:void 0);return(q[1]<<8|q[0])<<16>>16},getUint16:function(D){var q=je(this,2,D,arguments.length>1?arguments[1]:void 0);return q[1]<<8|q[0]},getInt32:function(D){return Be(je(this,4,D,arguments.length>1?arguments[1]:void 0))},getUint32:function(D){return Be(je(this,4,D,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(D){return fe(je(this,4,D,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(D){return fe(je(this,8,D,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(D,q){Ge(this,1,D,Y,q)},setUint8:function(D,q){Ge(this,1,D,Y,q)},setInt16:function(D,q){Ge(this,2,D,Oe,q,arguments.length>2?arguments[2]:void 0)},setUint16:function(D,q){Ge(this,2,D,Oe,q,arguments.length>2?arguments[2]:void 0)},setInt32:function(D,q){Ge(this,4,D,Ae,q,arguments.length>2?arguments[2]:void 0)},setUint32:function(D,q){Ge(this,4,D,Ae,q,arguments.length>2?arguments[2]:void 0)},setFloat32:function(D,q){Ge(this,4,D,Ce,q,arguments.length>2?arguments[2]:void 0)},setFloat64:function(D,q){Ge(this,8,D,Ue,q,arguments.length>2?arguments[2]:void 0)}});k(Z,U),k(le,L),h.exports={ArrayBuffer:Z,DataView:le}},1048:function(h,O,e){var r=e(7908),n=e(1400),a=e(6244),s=e(5117),i=Math.min;h.exports=[].copyWithin||function(o,t){var l=r(this),u=a(l),g=n(o,u),f=n(t,u),d=arguments.length>2?arguments[2]:void 0,p=i((d===void 0?u:n(d,u))-f,u-g),m=1;for(f<g&&g<f+p&&(m=-1,f+=p-1,g+=p-1);p-- >0;)f in l?l[g]=l[f]:s(l,g),g+=m,f+=m;return l}},1285:function(h,O,e){var r=e(7908),n=e(1400),a=e(6244);h.exports=function(s){for(var i=r(this),o=a(i),t=arguments.length,l=n(t>1?arguments[1]:void 0,o),u=t>2?arguments[2]:void 0,g=u===void 0?o:n(u,o);g>l;)i[l++]=s;return i}},8533:function(h,O,e){var r=e(2092).forEach,n=e(9341)("forEach");h.exports=n?[].forEach:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}},7745:function(h,O,e){var r=e(6244);h.exports=function(n,a){for(var s=0,i=r(a),o=new n(i);i>s;)o[s]=a[s++];return o}},8457:function(h,O,e){var r=e(9974),n=e(6916),a=e(7908),s=e(3411),i=e(7659),o=e(4411),t=e(6244),l=e(6135),u=e(4121),g=e(1246),f=Array;h.exports=function(d){var p=a(d),m=o(this),T=arguments.length,c=T>1?arguments[1]:void 0,I=c!==void 0;I&&(c=r(c,T>2?arguments[2]:void 0));var v,N,k,A,R,y,U=g(p),L=0;if(!U||this===f&&i(U))for(v=t(p),N=m?new this(v):f(v);v>L;L++)y=I?c(p[L],L):p[L],l(N,L,y);else for(R=(A=u(p,U)).next,N=m?new this:[];!(k=n(R,A)).done;L++)y=I?s(A,c,[k.value,L],!0):k.value,l(N,L,y);return N.length=L,N}},1318:function(h,O,e){var r=e(5656),n=e(1400),a=e(6244),s=function(i){return function(o,t,l){var u,g=r(o),f=a(g),d=n(l,f);if(i&&t!=t){for(;f>d;)if((u=g[d++])!=u)return!0}else for(;f>d;d++)if((i||d in g)&&g[d]===t)return i||d||0;return!i&&-1}};h.exports={includes:s(!0),indexOf:s(!1)}},2092:function(h,O,e){var r=e(9974),n=e(1702),a=e(8361),s=e(7908),i=e(6244),o=e(5417),t=n([].push),l=function(u){var g=u==1,f=u==2,d=u==3,p=u==4,m=u==6,T=u==7,c=u==5||m;return function(I,v,N,k){for(var A,R,y=s(I),U=a(y),L=r(v,N),j=i(U),H=0,ee=k||o,F=g?ee(I,j):f||T?ee(I,0):void 0;j>H;H++)if((c||H in U)&&(R=L(A=U[H],H,y),u))if(g)F[H]=R;else if(R)switch(u){case 3:return!0;case 5:return A;case 6:return H;case 2:t(F,A)}else switch(u){case 4:return!1;case 7:t(F,A)}return m?-1:d||p?p:F}};h.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(h,O,e){var r=e(2104),n=e(5656),a=e(9303),s=e(6244),i=e(9341),o=Math.min,t=[].lastIndexOf,l=!!t&&1/[1].lastIndexOf(1,-0)<0,u=i("lastIndexOf"),g=l||!u;h.exports=g?function(f){if(l)return r(t,this,arguments)||0;var d=n(this),p=s(d),m=p-1;for(arguments.length>1&&(m=o(m,a(arguments[1]))),m<0&&(m=p+m);m>=0;m--)if(m in d&&d[m]===f)return m||0;return-1}:t},1194:function(h,O,e){var r=e(7293),n=e(5112),a=e(7392),s=n("species");h.exports=function(i){return a>=51||!r(function(){var o=[];return(o.constructor={})[s]=function(){return{foo:1}},o[i](Boolean).foo!==1})}},9341:function(h,O,e){var r=e(7293);h.exports=function(n,a){var s=[][n];return!!s&&r(function(){s.call(null,a||function(){return 1},1)})}},3671:function(h,O,e){var r=e(9662),n=e(7908),a=e(8361),s=e(6244),i=TypeError,o=function(t){return function(l,u,g,f){r(u);var d=n(l),p=a(d),m=s(d),T=t?m-1:0,c=t?-1:1;if(g<2)for(;;){if(T in p){f=p[T],T+=c;break}if(T+=c,t?T<0:m<=T)throw i("Reduce of empty array with no initial value")}for(;t?T>=0:m>T;T+=c)T in p&&(f=u(f,p[T],T,d));return f}};h.exports={left:o(!1),right:o(!0)}},3658:function(h,O,e){var r=e(9781),n=e(3157),a=TypeError,s=Object.getOwnPropertyDescriptor,i=r&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}}();h.exports=i?function(o,t){if(n(o)&&!s(o,"length").writable)throw a("Cannot set read only .length");return o.length=t}:function(o,t){return o.length=t}},1589:function(h,O,e){var r=e(1400),n=e(6244),a=e(6135),s=Array,i=Math.max;h.exports=function(o,t,l){for(var u=n(o),g=r(t,u),f=r(l===void 0?u:l,u),d=s(i(f-g,0)),p=0;g<f;g++,p++)a(d,p,o[g]);return d.length=p,d}},206:function(h,O,e){var r=e(1702);h.exports=r([].slice)},4362:function(h,O,e){var r=e(1589),n=Math.floor,a=function(o,t){var l=o.length,u=n(l/2);return l<8?s(o,t):i(o,a(r(o,0,u),t),a(r(o,u),t),t)},s=function(o,t){for(var l,u,g=o.length,f=1;f<g;){for(u=f,l=o[f];u&&t(o[u-1],l)>0;)o[u]=o[--u];u!==f++&&(o[u]=l)}return o},i=function(o,t,l,u){for(var g=t.length,f=l.length,d=0,p=0;d<g||p<f;)o[d+p]=d<g&&p<f?u(t[d],l[p])<=0?t[d++]:l[p++]:d<g?t[d++]:l[p++];return o};h.exports=a},7475:function(h,O,e){var r=e(3157),n=e(4411),a=e(111),s=e(5112)("species"),i=Array;h.exports=function(o){var t;return r(o)&&(t=o.constructor,(n(t)&&(t===i||r(t.prototype))||a(t)&&(t=t[s])===null)&&(t=void 0)),t===void 0?i:t}},5417:function(h,O,e){var r=e(7475);h.exports=function(n,a){return new(r(n))(a===0?0:a)}},3411:function(h,O,e){var r=e(9670),n=e(9212);h.exports=function(a,s,i,o){try{return o?s(r(i)[0],i[1]):s(i)}catch(t){n(a,"throw",t)}}},7072:function(h,O,e){var r=e(5112)("iterator"),n=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){n=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch{}h.exports=function(i,o){if(!o&&!n)return!1;var t=!1;try{var l={};l[r]=function(){return{next:function(){return{done:t=!0}}}},i(l)}catch{}return t}},4326:function(h,O,e){var r=e(1702),n=r({}.toString),a=r("".slice);h.exports=function(s){return a(n(s),8,-1)}},648:function(h,O,e){var r=e(1694),n=e(614),a=e(4326),s=e(5112)("toStringTag"),i=Object,o=a(function(){return arguments}())=="Arguments";h.exports=r?a:function(t){var l,u,g;return t===void 0?"Undefined":t===null?"Null":typeof(u=function(f,d){try{return f[d]}catch{}}(l=i(t),s))=="string"?u:o?a(l):(g=a(l))=="Object"&&n(l.callee)?"Arguments":g}},5631:function(h,O,e){var r=e(30),n=e(7045),a=e(9190),s=e(9974),i=e(5787),o=e(8554),t=e(408),l=e(1656),u=e(6178),g=e(6340),f=e(9781),d=e(2423).fastKey,p=e(9909),m=p.set,T=p.getterFor;h.exports={getConstructor:function(c,I,v,N){var k=c(function(L,j){i(L,A),m(L,{type:I,index:r(null),first:void 0,last:void 0,size:0}),f||(L.size=0),o(j)||t(j,L[N],{that:L,AS_ENTRIES:v})}),A=k.prototype,R=T(I),y=function(L,j,H){var ee,F,K=R(L),Z=U(L,j);return Z?Z.value=H:(K.last=Z={index:F=d(j,!0),key:j,value:H,previous:ee=K.last,next:void 0,removed:!1},K.first||(K.first=Z),ee&&(ee.next=Z),f?K.size++:L.size++,F!=="F"&&(K.index[F]=Z)),L},U=function(L,j){var H,ee=R(L),F=d(j);if(F!=="F")return ee.index[F];for(H=ee.first;H;H=H.next)if(H.key==j)return H};return a(A,{clear:function(){for(var L=R(this),j=L.index,H=L.first;H;)H.removed=!0,H.previous&&(H.previous=H.previous.next=void 0),delete j[H.index],H=H.next;L.first=L.last=void 0,f?L.size=0:this.size=0},delete:function(L){var j=this,H=R(j),ee=U(j,L);if(ee){var F=ee.next,K=ee.previous;delete H.index[ee.index],ee.removed=!0,K&&(K.next=F),F&&(F.previous=K),H.first==ee&&(H.first=F),H.last==ee&&(H.last=K),f?H.size--:j.size--}return!!ee},forEach:function(L){for(var j,H=R(this),ee=s(L,arguments.length>1?arguments[1]:void 0);j=j?j.next:H.first;)for(ee(j.value,j.key,this);j&&j.removed;)j=j.previous},has:function(L){return!!U(this,L)}}),a(A,v?{get:function(L){var j=U(this,L);return j&&j.value},set:function(L,j){return y(this,L===0?0:L,j)}}:{add:function(L){return y(this,L=L===0?0:L,L)}}),f&&n(A,"size",{configurable:!0,get:function(){return R(this).size}}),k},setStrong:function(c,I,v){var N=I+" Iterator",k=T(I),A=T(N);l(c,I,function(R,y){m(this,{type:N,target:R,state:k(R),kind:y,last:void 0})},function(){for(var R=A(this),y=R.kind,U=R.last;U&&U.removed;)U=U.previous;return R.target&&(R.last=U=U?U.next:R.state.first)?u(y=="keys"?U.key:y=="values"?U.value:[U.key,U.value],!1):(R.target=void 0,u(void 0,!0))},v?"entries":"values",!v,!0),g(I)}}},7710:function(h,O,e){var r=e(2109),n=e(7854),a=e(1702),s=e(4705),i=e(8052),o=e(2423),t=e(408),l=e(5787),u=e(614),g=e(8554),f=e(111),d=e(7293),p=e(7072),m=e(8003),T=e(9587);h.exports=function(c,I,v){var N=c.indexOf("Map")!==-1,k=c.indexOf("Weak")!==-1,A=N?"set":"add",R=n[c],y=R&&R.prototype,U=R,L={},j=function(oe){var le=a(y[oe]);i(y,oe,oe=="add"?function(de){return le(this,de===0?0:de),this}:oe=="delete"?function(de){return!(k&&!f(de))&&le(this,de===0?0:de)}:oe=="get"?function(de){return k&&!f(de)?void 0:le(this,de===0?0:de)}:oe=="has"?function(de){return!(k&&!f(de))&&le(this,de===0?0:de)}:function(de,Ee){return le(this,de===0?0:de,Ee),this})};if(s(c,!u(R)||!(k||y.forEach&&!d(function(){new R().entries().next()}))))U=v.getConstructor(I,c,N,A),o.enable();else if(s(c,!0)){var H=new U,ee=H[A](k?{}:-0,1)!=H,F=d(function(){H.has(1)}),K=p(function(oe){new R(oe)}),Z=!k&&d(function(){for(var oe=new R,le=5;le--;)oe[A](le,le);return!oe.has(-0)});K||((U=I(function(oe,le){l(oe,y);var de=T(new R,oe,U);return g(le)||t(le,de[A],{that:de,AS_ENTRIES:N}),de})).prototype=y,y.constructor=U),(F||Z)&&(j("delete"),j("has"),N&&j("get")),(Z||ee)&&j(A),k&&y.clear&&delete y.clear}return L[c]=U,r({global:!0,constructor:!0,forced:U!=R},L),m(U,c),k||v.setStrong(U,c,N),U}},9920:function(h,O,e){var r=e(2597),n=e(3887),a=e(1236),s=e(3070);h.exports=function(i,o,t){for(var l=n(o),u=s.f,g=a.f,f=0;f<l.length;f++){var d=l[f];r(i,d)||t&&r(t,d)||u(i,d,g(o,d))}}},4964:function(h,O,e){var r=e(5112)("match");h.exports=function(n){var a=/./;try{"/./"[n](a)}catch{try{return a[r]=!1,"/./"[n](a)}catch{}}return!1}},8544:function(h,O,e){var r=e(7293);h.exports=!r(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},6178:function(h){h.exports=function(O,e){return{value:O,done:e}}},8880:function(h,O,e){var r=e(9781),n=e(3070),a=e(9114);h.exports=r?function(s,i,o){return n.f(s,i,a(1,o))}:function(s,i,o){return s[i]=o,s}},9114:function(h){h.exports=function(O,e){return{enumerable:!(1&O),configurable:!(2&O),writable:!(4&O),value:e}}},6135:function(h,O,e){var r=e(4948),n=e(3070),a=e(9114);h.exports=function(s,i,o){var t=r(i);t in s?n.f(s,t,a(0,o)):s[t]=o}},7045:function(h,O,e){var r=e(6339),n=e(3070);h.exports=function(a,s,i){return i.get&&r(i.get,s,{getter:!0}),i.set&&r(i.set,s,{setter:!0}),n.f(a,s,i)}},8052:function(h,O,e){var r=e(614),n=e(3070),a=e(6339),s=e(3072);h.exports=function(i,o,t,l){l||(l={});var u=l.enumerable,g=l.name!==void 0?l.name:o;if(r(t)&&a(t,g,l),l.global)u?i[o]=t:s(o,t);else{try{l.unsafe?i[o]&&(u=!0):delete i[o]}catch{}u?i[o]=t:n.f(i,o,{value:t,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return i}},9190:function(h,O,e){var r=e(8052);h.exports=function(n,a,s){for(var i in a)r(n,i,a[i],s);return n}},3072:function(h,O,e){var r=e(7854),n=Object.defineProperty;h.exports=function(a,s){try{n(r,a,{value:s,configurable:!0,writable:!0})}catch{r[a]=s}return s}},5117:function(h,O,e){var r=e(6330),n=TypeError;h.exports=function(a,s){if(!delete a[s])throw n("Cannot delete property "+r(s)+" of "+r(a))}},9781:function(h,O,e){var r=e(7293);h.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},4154:function(h){var O=typeof document=="object"&&document.all,e=O===void 0&&O!==void 0;h.exports={all:O,IS_HTMLDDA:e}},317:function(h,O,e){var r=e(7854),n=e(111),a=r.document,s=n(a)&&n(a.createElement);h.exports=function(i){return s?a.createElement(i):{}}},7207:function(h){var O=TypeError;h.exports=function(e){if(e>9007199254740991)throw O("Maximum allowed index exceeded");return e}},8324:function(h){h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(h,O,e){var r=e(317)("span").classList,n=r&&r.constructor&&r.constructor.prototype;h.exports=n===Object.prototype?void 0:n},8886:function(h,O,e){var r=e(8113).match(/firefox\/(\d+)/i);h.exports=!!r&&+r[1]},7871:function(h,O,e){var r=e(3823),n=e(5268);h.exports=!r&&!n&&typeof window=="object"&&typeof document=="object"},9363:function(h){h.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"},3823:function(h){h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},256:function(h,O,e){var r=e(8113);h.exports=/MSIE|Trident/.test(r)},1528:function(h,O,e){var r=e(8113);h.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},6833:function(h,O,e){var r=e(8113);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(h,O,e){var r=e(4326);h.exports=typeof process<"u"&&r(process)=="process"},1036:function(h,O,e){var r=e(8113);h.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(h){h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7392:function(h,O,e){var r,n,a=e(7854),s=e(8113),i=a.process,o=a.Deno,t=i&&i.versions||o&&o.version,l=t&&t.v8;l&&(n=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(n=+r[1]),h.exports=n},8008:function(h,O,e){var r=e(8113).match(/AppleWebKit\/(\d+)\./);h.exports=!!r&&+r[1]},748:function(h){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(h,O,e){var r=e(7854),n=e(1236).f,a=e(8880),s=e(8052),i=e(3072),o=e(9920),t=e(4705);h.exports=function(l,u){var g,f,d,p,m,T=l.target,c=l.global,I=l.stat;if(g=c?r:I?r[T]||i(T,{}):(r[T]||{}).prototype)for(f in u){if(p=u[f],d=l.dontCallGetSet?(m=n(g,f))&&m.value:g[f],!t(c?f:T+(I?".":"#")+f,l.forced)&&d!==void 0){if(typeof p==typeof d)continue;o(p,d)}(l.sham||d&&d.sham)&&a(p,"sham",!0),s(g,f,p,l)}}},7293:function(h){h.exports=function(O){try{return!!O()}catch{return!0}}},6677:function(h,O,e){var r=e(7293);h.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:function(h,O,e){var r=e(4374),n=Function.prototype,a=n.apply,s=n.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(r?s.bind(a):function(){return s.apply(a,arguments)})},9974:function(h,O,e){var r=e(1470),n=e(9662),a=e(4374),s=r(r.bind);h.exports=function(i,o){return n(i),o===void 0?i:a?s(i,o):function(){return i.apply(o,arguments)}}},4374:function(h,O,e){var r=e(7293);h.exports=!r(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},7065:function(h,O,e){var r=e(1702),n=e(9662),a=e(111),s=e(2597),i=e(206),o=e(4374),t=Function,l=r([].concat),u=r([].join),g={},f=function(d,p,m){if(!s(g,p)){for(var T=[],c=0;c<p;c++)T[c]="a["+c+"]";g[p]=t("C,a","return new C("+u(T,",")+")")}return g[p](d,m)};h.exports=o?t.bind:function(d){var p=n(this),m=p.prototype,T=i(arguments,1),c=function(){var I=l(T,i(arguments));return this instanceof c?f(p,I.length,I):p.apply(d,I)};return a(m)&&(c.prototype=m),c}},6916:function(h,O,e){var r=e(4374),n=Function.prototype.call;h.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},6530:function(h,O,e){var r=e(9781),n=e(2597),a=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,i=n(a,"name"),o=i&&(function(){}).name==="something",t=i&&(!r||r&&s(a,"name").configurable);h.exports={EXISTS:i,PROPER:o,CONFIGURABLE:t}},5668:function(h,O,e){var r=e(1702),n=e(9662);h.exports=function(a,s,i){try{return r(n(Object.getOwnPropertyDescriptor(a,s)[i]))}catch{}}},1470:function(h,O,e){var r=e(4326),n=e(1702);h.exports=function(a){if(r(a)==="Function")return n(a)}},1702:function(h,O,e){var r=e(4374),n=Function.prototype,a=n.call,s=r&&n.bind.bind(a,a);h.exports=r?s:function(i){return function(){return a.apply(i,arguments)}}},5005:function(h,O,e){var r=e(7854),n=e(614),a=function(s){return n(s)?s:void 0};h.exports=function(s,i){return arguments.length<2?a(r[s]):r[s]&&r[s][i]}},1246:function(h,O,e){var r=e(648),n=e(8173),a=e(8554),s=e(7497),i=e(5112)("iterator");h.exports=function(o){if(!a(o))return n(o,i)||n(o,"@@iterator")||s[r(o)]}},4121:function(h,O,e){var r=e(6916),n=e(9662),a=e(9670),s=e(6330),i=e(1246),o=TypeError;h.exports=function(t,l){var u=arguments.length<2?i(t):l;if(n(u))return a(r(u,t));throw o(s(t)+" is not iterable")}},8044:function(h,O,e){var r=e(1702),n=e(3157),a=e(614),s=e(4326),i=e(1340),o=r([].push);h.exports=function(t){if(a(t))return t;if(n(t)){for(var l=t.length,u=[],g=0;g<l;g++){var f=t[g];typeof f=="string"?o(u,f):typeof f!="number"&&s(f)!="Number"&&s(f)!="String"||o(u,i(f))}var d=u.length,p=!0;return function(m,T){if(p)return p=!1,T;if(n(this))return T;for(var c=0;c<d;c++)if(u[c]===m)return T}}}},8173:function(h,O,e){var r=e(9662),n=e(8554);h.exports=function(a,s){var i=a[s];return n(i)?void 0:r(i)}},7854:function(h,O,e){var r=function(n){return n&&n.Math==Math&&n};h.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:function(h,O,e){var r=e(1702),n=e(7908),a=r({}.hasOwnProperty);h.exports=Object.hasOwn||function(s,i){return a(n(s),i)}},3501:function(h){h.exports={}},842:function(h){h.exports=function(O,e){try{arguments.length==1?console.error(O):console.error(O,e)}catch{}}},490:function(h,O,e){var r=e(5005);h.exports=r("document","documentElement")},4664:function(h,O,e){var r=e(9781),n=e(7293),a=e(317);h.exports=!r&&!n(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},1179:function(h){var O=Array,e=Math.abs,r=Math.pow,n=Math.floor,a=Math.log,s=Math.LN2;h.exports={pack:function(i,o,t){var l,u,g,f=O(t),d=8*t-o-1,p=(1<<d)-1,m=p>>1,T=o===23?r(2,-24)-r(2,-77):0,c=i<0||i===0&&1/i<0?1:0,I=0;for((i=e(i))!=i||i===1/0?(u=i!=i?1:0,l=p):(l=n(a(i)/s),i*(g=r(2,-l))<1&&(l--,g*=2),(i+=l+m>=1?T/g:T*r(2,1-m))*g>=2&&(l++,g/=2),l+m>=p?(u=0,l=p):l+m>=1?(u=(i*g-1)*r(2,o),l+=m):(u=i*r(2,m-1)*r(2,o),l=0));o>=8;)f[I++]=255&u,u/=256,o-=8;for(l=l<<o|u,d+=o;d>0;)f[I++]=255&l,l/=256,d-=8;return f[--I]|=128*c,f},unpack:function(i,o){var t,l=i.length,u=8*l-o-1,g=(1<<u)-1,f=g>>1,d=u-7,p=l-1,m=i[p--],T=127&m;for(m>>=7;d>0;)T=256*T+i[p--],d-=8;for(t=T&(1<<-d)-1,T>>=-d,d+=o;d>0;)t=256*t+i[p--],d-=8;if(T===0)T=1-f;else{if(T===g)return t?NaN:m?-1/0:1/0;t+=r(2,o),T-=f}return(m?-1:1)*t*r(2,T-o)}}},8361:function(h,O,e){var r=e(1702),n=e(7293),a=e(4326),s=Object,i=r("".split);h.exports=n(function(){return!s("z").propertyIsEnumerable(0)})?function(o){return a(o)=="String"?i(o,""):s(o)}:s},9587:function(h,O,e){var r=e(614),n=e(111),a=e(7674);h.exports=function(s,i,o){var t,l;return a&&r(t=i.constructor)&&t!==o&&n(l=t.prototype)&&l!==o.prototype&&a(s,l),s}},2788:function(h,O,e){var r=e(1702),n=e(614),a=e(5465),s=r(Function.toString);n(a.inspectSource)||(a.inspectSource=function(i){return s(i)}),h.exports=a.inspectSource},2423:function(h,O,e){var r=e(2109),n=e(1702),a=e(3501),s=e(111),i=e(2597),o=e(3070).f,t=e(8006),l=e(1156),u=e(2050),g=e(9711),f=e(6677),d=!1,p=g("meta"),m=0,T=function(I){o(I,p,{value:{objectID:"O"+m++,weakData:{}}})},c=h.exports={enable:function(){c.enable=function(){},d=!0;var I=t.f,v=n([].splice),N={};N[p]=1,I(N).length&&(t.f=function(k){for(var A=I(k),R=0,y=A.length;R<y;R++)if(A[R]===p){v(A,R,1);break}return A},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(I,v){if(!s(I))return typeof I=="symbol"?I:(typeof I=="string"?"S":"P")+I;if(!i(I,p)){if(!u(I))return"F";if(!v)return"E";T(I)}return I[p].objectID},getWeakData:function(I,v){if(!i(I,p)){if(!u(I))return!0;if(!v)return!1;T(I)}return I[p].weakData},onFreeze:function(I){return f&&d&&u(I)&&!i(I,p)&&T(I),I}};a[p]=!0},9909:function(h,O,e){var r,n,a,s=e(4811),i=e(7854),o=e(111),t=e(8880),l=e(2597),u=e(5465),g=e(6200),f=e(3501),d="Object already initialized",p=i.TypeError,m=i.WeakMap;if(s||u.state){var T=u.state||(u.state=new m);T.get=T.get,T.has=T.has,T.set=T.set,r=function(I,v){if(T.has(I))throw p(d);return v.facade=I,T.set(I,v),v},n=function(I){return T.get(I)||{}},a=function(I){return T.has(I)}}else{var c=g("state");f[c]=!0,r=function(I,v){if(l(I,c))throw p(d);return v.facade=I,t(I,c,v),v},n=function(I){return l(I,c)?I[c]:{}},a=function(I){return l(I,c)}}h.exports={set:r,get:n,has:a,enforce:function(I){return a(I)?n(I):r(I,{})},getterFor:function(I){return function(v){var N;if(!o(v)||(N=n(v)).type!==I)throw p("Incompatible receiver, "+I+" required");return N}}}},7659:function(h,O,e){var r=e(5112),n=e(7497),a=r("iterator"),s=Array.prototype;h.exports=function(i){return i!==void 0&&(n.Array===i||s[a]===i)}},3157:function(h,O,e){var r=e(4326);h.exports=Array.isArray||function(n){return r(n)=="Array"}},4067:function(h,O,e){var r=e(648);h.exports=function(n){var a=r(n);return a=="BigInt64Array"||a=="BigUint64Array"}},614:function(h,O,e){var r=e(4154),n=r.all;h.exports=r.IS_HTMLDDA?function(a){return typeof a=="function"||a===n}:function(a){return typeof a=="function"}},4411:function(h,O,e){var r=e(1702),n=e(7293),a=e(614),s=e(648),i=e(5005),o=e(2788),t=function(){},l=[],u=i("Reflect","construct"),g=/^\s*(?:class|function)\b/,f=r(g.exec),d=!g.exec(t),p=function(T){if(!a(T))return!1;try{return u(t,l,T),!0}catch{return!1}},m=function(T){if(!a(T))return!1;switch(s(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(g,o(T))}catch{return!0}};m.sham=!0,h.exports=!u||n(function(){var T;return p(p.call)||!p(Object)||!p(function(){T=!0})||T})?m:p},4705:function(h,O,e){var r=e(7293),n=e(614),a=/#|\.prototype\./,s=function(u,g){var f=o[i(u)];return f==l||f!=t&&(n(g)?r(g):!!g)},i=s.normalize=function(u){return String(u).replace(a,".").toLowerCase()},o=s.data={},t=s.NATIVE="N",l=s.POLYFILL="P";h.exports=s},5988:function(h,O,e){var r=e(111),n=Math.floor;h.exports=Number.isInteger||function(a){return!r(a)&&isFinite(a)&&n(a)===a}},8554:function(h){h.exports=function(O){return O==null}},111:function(h,O,e){var r=e(614),n=e(4154),a=n.all;h.exports=n.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:r(s)||s===a}:function(s){return typeof s=="object"?s!==null:r(s)}},1913:function(h){h.exports=!1},7850:function(h,O,e){var r=e(111),n=e(4326),a=e(5112)("match");h.exports=function(s){var i;return r(s)&&((i=s[a])!==void 0?!!i:n(s)=="RegExp")}},2190:function(h,O,e){var r=e(5005),n=e(614),a=e(7976),s=e(3307),i=Object;h.exports=s?function(o){return typeof o=="symbol"}:function(o){var t=r("Symbol");return n(t)&&a(t.prototype,i(o))}},408:function(h,O,e){var r=e(9974),n=e(6916),a=e(9670),s=e(6330),i=e(7659),o=e(6244),t=e(7976),l=e(4121),u=e(1246),g=e(9212),f=TypeError,d=function(m,T){this.stopped=m,this.result=T},p=d.prototype;h.exports=function(m,T,c){var I,v,N,k,A,R,y,U=c&&c.that,L=!(!c||!c.AS_ENTRIES),j=!(!c||!c.IS_RECORD),H=!(!c||!c.IS_ITERATOR),ee=!(!c||!c.INTERRUPTED),F=r(T,U),K=function(oe){return I&&g(I,"normal",oe),new d(!0,oe)},Z=function(oe){return L?(a(oe),ee?F(oe[0],oe[1],K):F(oe[0],oe[1])):ee?F(oe,K):F(oe)};if(j)I=m.iterator;else if(H)I=m;else{if(!(v=u(m)))throw f(s(m)+" is not iterable");if(i(v)){for(N=0,k=o(m);k>N;N++)if((A=Z(m[N]))&&t(p,A))return A;return new d(!1)}I=l(m,v)}for(R=j?m.next:I.next;!(y=n(R,I)).done;){try{A=Z(y.value)}catch(oe){g(I,"throw",oe)}if(typeof A=="object"&&A&&t(p,A))return A}return new d(!1)}},9212:function(h,O,e){var r=e(6916),n=e(9670),a=e(8173);h.exports=function(s,i,o){var t,l;n(s);try{if(!(t=a(s,"return"))){if(i==="throw")throw o;return o}t=r(t,s)}catch(u){l=!0,t=u}if(i==="throw")throw o;if(l)throw t;return n(t),o}},3061:function(h,O,e){var r=e(3383).IteratorPrototype,n=e(30),a=e(9114),s=e(8003),i=e(7497),o=function(){return this};h.exports=function(t,l,u,g){var f=l+" Iterator";return t.prototype=n(r,{next:a(+!g,u)}),s(t,f,!1,!0),i[f]=o,t}},1656:function(h,O,e){var r=e(2109),n=e(6916),a=e(1913),s=e(6530),i=e(614),o=e(3061),t=e(9518),l=e(7674),u=e(8003),g=e(8880),f=e(8052),d=e(5112),p=e(7497),m=e(3383),T=s.PROPER,c=s.CONFIGURABLE,I=m.IteratorPrototype,v=m.BUGGY_SAFARI_ITERATORS,N=d("iterator"),k="keys",A="values",R="entries",y=function(){return this};h.exports=function(U,L,j,H,ee,F,K){o(j,L,H);var Z,oe,le,de=function(fe){if(fe===ee&&Q)return Q;if(!v&&fe in z)return z[fe];switch(fe){case k:case A:case R:return function(){return new j(this,fe)}}return function(){return new j(this)}},Ee=L+" Iterator",re=!1,z=U.prototype,ue=z[N]||z["@@iterator"]||ee&&z[ee],Q=!v&&ue||de(ee),ne=L=="Array"&&z.entries||ue;if(ne&&(Z=t(ne.call(new U)))!==Object.prototype&&Z.next&&(a||t(Z)===I||(l?l(Z,I):i(Z[N])||f(Z,N,y)),u(Z,Ee,!0,!0),a&&(p[Ee]=y)),T&&ee==A&&ue&&ue.name!==A&&(!a&&c?g(z,"name",A):(re=!0,Q=function(){return n(ue,this)})),ee)if(oe={values:de(A),keys:F?Q:de(k),entries:de(R)},K)for(le in oe)(v||re||!(le in z))&&f(z,le,oe[le]);else r({target:L,proto:!0,forced:v||re},oe);return a&&!K||z[N]===Q||f(z,N,Q,{name:ee}),p[L]=Q,oe}},3383:function(h,O,e){var r,n,a,s=e(7293),i=e(614),o=e(111),t=e(30),l=e(9518),u=e(8052),g=e(5112),f=e(1913),d=g("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(n=l(l(a)))!==Object.prototype&&(r=n):p=!0),!o(r)||s(function(){var m={};return r[d].call(m)!==m})?r={}:f&&(r=t(r)),i(r[d])||u(r,d,function(){return this}),h.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7497:function(h){h.exports={}},6244:function(h,O,e){var r=e(7466);h.exports=function(n){return r(n.length)}},6339:function(h,O,e){var r=e(1702),n=e(7293),a=e(614),s=e(2597),i=e(9781),o=e(6530).CONFIGURABLE,t=e(2788),l=e(9909),u=l.enforce,g=l.get,f=String,d=Object.defineProperty,p=r("".slice),m=r("".replace),T=r([].join),c=i&&!n(function(){return d(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),v=h.exports=function(N,k,A){p(f(k),0,7)==="Symbol("&&(k="["+m(f(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),A&&A.getter&&(k="get "+k),A&&A.setter&&(k="set "+k),(!s(N,"name")||o&&N.name!==k)&&(i?d(N,"name",{value:k,configurable:!0}):N.name=k),c&&A&&s(A,"arity")&&N.length!==A.arity&&d(N,"length",{value:A.arity});try{A&&s(A,"constructor")&&A.constructor?i&&d(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch{}var R=u(N);return s(R,"source")||(R.source=T(I,typeof k=="string"?k:"")),N};Function.prototype.toString=v(function(){return a(this)&&g(this).source||t(this)},"toString")},4758:function(h){var O=Math.ceil,e=Math.floor;h.exports=Math.trunc||function(r){var n=+r;return(n>0?e:O)(n)}},5948:function(h,O,e){var r,n,a,s,i,o=e(7854),t=e(9974),l=e(1236).f,u=e(261).set,g=e(8572),f=e(6833),d=e(1528),p=e(1036),m=e(5268),T=o.MutationObserver||o.WebKitMutationObserver,c=o.document,I=o.process,v=o.Promise,N=l(o,"queueMicrotask"),k=N&&N.value;if(!k){var A=new g,R=function(){var y,U;for(m&&(y=I.domain)&&y.exit();U=A.get();)try{U()}catch(L){throw A.head&&r(),L}y&&y.enter()};f||m||p||!T||!c?!d&&v&&v.resolve?((s=v.resolve(void 0)).constructor=v,i=t(s.then,s),r=function(){i(R)}):m?r=function(){I.nextTick(R)}:(u=t(u,o),r=function(){u(R)}):(n=!0,a=c.createTextNode(""),new T(R).observe(a,{characterData:!0}),r=function(){a.data=n=!n}),k=function(y){A.head||r(),A.add(y)}}h.exports=k},8523:function(h,O,e){var r=e(9662),n=TypeError,a=function(s){var i,o;this.promise=new s(function(t,l){if(i!==void 0||o!==void 0)throw n("Bad Promise constructor");i=t,o=l}),this.resolve=r(i),this.reject=r(o)};h.exports.f=function(s){return new a(s)}},3929:function(h,O,e){var r=e(7850),n=TypeError;h.exports=function(a){if(r(a))throw n("The method doesn't accept regular expressions");return a}},1574:function(h,O,e){var r=e(9781),n=e(1702),a=e(6916),s=e(7293),i=e(1956),o=e(5181),t=e(5296),l=e(7908),u=e(8361),g=Object.assign,f=Object.defineProperty,d=n([].concat);h.exports=!g||s(function(){if(r&&g({b:1},g(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var p={},m={},T=Symbol(),c="abcdefghijklmnopqrst";return p[T]=7,c.split("").forEach(function(I){m[I]=I}),g({},p)[T]!=7||i(g({},m)).join("")!=c})?function(p,m){for(var T=l(p),c=arguments.length,I=1,v=o.f,N=t.f;c>I;)for(var k,A=u(arguments[I++]),R=v?d(i(A),v(A)):i(A),y=R.length,U=0;y>U;)k=R[U++],r&&!a(N,A,k)||(T[k]=A[k]);return T}:g},30:function(h,O,e){var r,n=e(9670),a=e(6048),s=e(748),i=e(3501),o=e(490),t=e(317),l=e(6200)("IE_PROTO"),u=function(){},g=function(p){return"<script>"+p+"<\/script>"},f=function(p){p.write(g("")),p.close();var m=p.parentWindow.Object;return p=null,m},d=function(){try{r=new ActiveXObject("htmlfile")}catch{}var p,m;d=typeof document<"u"?document.domain&&r?f(r):((m=t("iframe")).style.display="none",o.appendChild(m),m.src="javascript:",(p=m.contentWindow.document).open(),p.write(g("document.F=Object")),p.close(),p.F):f(r);for(var T=s.length;T--;)delete d.prototype[s[T]];return d()};i[l]=!0,h.exports=Object.create||function(p,m){var T;return p!==null?(u.prototype=n(p),T=new u,u.prototype=null,T[l]=p):T=d(),m===void 0?T:a.f(T,m)}},6048:function(h,O,e){var r=e(9781),n=e(3353),a=e(3070),s=e(9670),i=e(5656),o=e(1956);O.f=r&&!n?Object.defineProperties:function(t,l){s(t);for(var u,g=i(l),f=o(l),d=f.length,p=0;d>p;)a.f(t,u=f[p++],g[u]);return t}},3070:function(h,O,e){var r=e(9781),n=e(4664),a=e(3353),s=e(9670),i=e(4948),o=TypeError,t=Object.defineProperty,l=Object.getOwnPropertyDescriptor;O.f=r?a?function(u,g,f){if(s(u),g=i(g),s(f),typeof u=="function"&&g==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var d=l(u,g);d&&d.writable&&(u[g]=f.value,f={configurable:"configurable"in f?f.configurable:d.configurable,enumerable:"enumerable"in f?f.enumerable:d.enumerable,writable:!1})}return t(u,g,f)}:t:function(u,g,f){if(s(u),g=i(g),s(f),n)try{return t(u,g,f)}catch{}if("get"in f||"set"in f)throw o("Accessors not supported");return"value"in f&&(u[g]=f.value),u}},1236:function(h,O,e){var r=e(9781),n=e(6916),a=e(5296),s=e(9114),i=e(5656),o=e(4948),t=e(2597),l=e(4664),u=Object.getOwnPropertyDescriptor;O.f=r?u:function(g,f){if(g=i(g),f=o(f),l)try{return u(g,f)}catch{}if(t(g,f))return s(!n(a.f,g,f),g[f])}},1156:function(h,O,e){var r=e(4326),n=e(5656),a=e(8006).f,s=e(1589),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(o){return i&&r(o)=="Window"?function(t){try{return a(t)}catch{return s(i)}}(o):a(n(o))}},8006:function(h,O,e){var r=e(6324),n=e(748).concat("length","prototype");O.f=Object.getOwnPropertyNames||function(a){return r(a,n)}},5181:function(h,O){O.f=Object.getOwnPropertySymbols},9518:function(h,O,e){var r=e(2597),n=e(614),a=e(7908),s=e(6200),i=e(8544),o=s("IE_PROTO"),t=Object,l=t.prototype;h.exports=i?t.getPrototypeOf:function(u){var g=a(u);if(r(g,o))return g[o];var f=g.constructor;return n(f)&&g instanceof f?f.prototype:g instanceof t?l:null}},2050:function(h,O,e){var r=e(7293),n=e(111),a=e(4326),s=e(7556),i=Object.isExtensible,o=r(function(){});h.exports=o||s?function(t){return!!n(t)&&(!s||a(t)!="ArrayBuffer")&&(!i||i(t))}:i},7976:function(h,O,e){var r=e(1702);h.exports=r({}.isPrototypeOf)},6324:function(h,O,e){var r=e(1702),n=e(2597),a=e(5656),s=e(1318).indexOf,i=e(3501),o=r([].push);h.exports=function(t,l){var u,g=a(t),f=0,d=[];for(u in g)!n(i,u)&&n(g,u)&&o(d,u);for(;l.length>f;)n(g,u=l[f++])&&(~s(d,u)||o(d,u));return d}},1956:function(h,O,e){var r=e(6324),n=e(748);h.exports=Object.keys||function(a){return r(a,n)}},5296:function(h,O){var e={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!e.call({1:2},1);O.f=n?function(a){var s=r(this,a);return!!s&&s.enumerable}:e},7674:function(h,O,e){var r=e(5668),n=e(9670),a=e(6077);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,i=!1,o={};try{(s=r(Object.prototype,"__proto__","set"))(o,[]),i=o instanceof Array}catch{}return function(t,l){return n(t),a(l),i?s(t,l):t.__proto__=l,t}}():void 0)},4699:function(h,O,e){var r=e(9781),n=e(1702),a=e(1956),s=e(5656),i=n(e(5296).f),o=n([].push),t=function(l){return function(u){for(var g,f=s(u),d=a(f),p=d.length,m=0,T=[];p>m;)g=d[m++],r&&!i(f,g)||o(T,l?[g,f[g]]:f[g]);return T}};h.exports={entries:t(!0),values:t(!1)}},288:function(h,O,e){var r=e(1694),n=e(648);h.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},2140:function(h,O,e){var r=e(6916),n=e(614),a=e(111),s=TypeError;h.exports=function(i,o){var t,l;if(o==="string"&&n(t=i.toString)&&!a(l=r(t,i))||n(t=i.valueOf)&&!a(l=r(t,i))||o!=="string"&&n(t=i.toString)&&!a(l=r(t,i)))return l;throw s("Can't convert object to primitive value")}},3887:function(h,O,e){var r=e(5005),n=e(1702),a=e(8006),s=e(5181),i=e(9670),o=n([].concat);h.exports=r("Reflect","ownKeys")||function(t){var l=a.f(i(t)),u=s.f;return u?o(l,u(t)):l}},857:function(h,O,e){var r=e(7854);h.exports=r},2534:function(h){h.exports=function(O){try{return{error:!1,value:O()}}catch(e){return{error:!0,value:e}}}},3702:function(h,O,e){var r=e(7854),n=e(2492),a=e(614),s=e(4705),i=e(2788),o=e(5112),t=e(7871),l=e(3823),u=e(1913),g=e(7392),f=n&&n.prototype,d=o("species"),p=!1,m=a(r.PromiseRejectionEvent),T=s("Promise",function(){var c=i(n),I=c!==String(n);if(!I&&g===66||u&&(!f.catch||!f.finally))return!0;if(!g||g<51||!/native code/.test(c)){var v=new n(function(k){k(1)}),N=function(k){k(function(){},function(){})};if((v.constructor={})[d]=N,!(p=v.then(function(){})instanceof N))return!0}return!I&&(t||l)&&!m});h.exports={CONSTRUCTOR:T,REJECTION_EVENT:m,SUBCLASSING:p}},2492:function(h,O,e){var r=e(7854);h.exports=r.Promise},9478:function(h,O,e){var r=e(9670),n=e(111),a=e(8523);h.exports=function(s,i){if(r(s),n(i)&&i.constructor===s)return i;var o=a.f(s);return(0,o.resolve)(i),o.promise}},612:function(h,O,e){var r=e(2492),n=e(7072),a=e(3702).CONSTRUCTOR;h.exports=a||!n(function(s){r.all(s).then(void 0,function(){})})},8572:function(h){var O=function(){this.head=null,this.tail=null};O.prototype={add:function(e){var r={item:e,next:null},n=this.tail;n?n.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e)return(this.head=e.next)===null&&(this.tail=null),e.item}},h.exports=O},2261:function(h,O,e){var r,n,a=e(6916),s=e(1702),i=e(1340),o=e(7066),t=e(2999),l=e(2309),u=e(30),g=e(9909).get,f=e(9441),d=e(7168),p=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,T=m,c=s("".charAt),I=s("".indexOf),v=s("".replace),N=s("".slice),k=(n=/b*/g,a(m,r=/a/,"a"),a(m,n,"a"),r.lastIndex!==0||n.lastIndex!==0),A=t.BROKEN_CARET,R=/()??/.exec("")[1]!==void 0;(k||R||A||f||d)&&(T=function(y){var U,L,j,H,ee,F,K,Z=this,oe=g(Z),le=i(y),de=oe.raw;if(de)return de.lastIndex=Z.lastIndex,U=a(T,de,le),Z.lastIndex=de.lastIndex,U;var Ee=oe.groups,re=A&&Z.sticky,z=a(o,Z),ue=Z.source,Q=0,ne=le;if(re&&(z=v(z,"y",""),I(z,"g")===-1&&(z+="g"),ne=N(le,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&c(le,Z.lastIndex-1)!==`
`)&&(ue="(?: "+ue+")",ne=" "+ne,Q++),L=new RegExp("^(?:"+ue+")",z)),R&&(L=new RegExp("^"+ue+"$(?!\\s)",z)),k&&(j=Z.lastIndex),H=a(m,re?L:Z,ne),re?H?(H.input=N(H.input,Q),H[0]=N(H[0],Q),H.index=Z.lastIndex,Z.lastIndex+=H[0].length):Z.lastIndex=0:k&&H&&(Z.lastIndex=Z.global?H.index+H[0].length:j),R&&H&&H.length>1&&a(p,H[0],L,function(){for(ee=1;ee<arguments.length-2;ee++)arguments[ee]===void 0&&(H[ee]=void 0)}),H&&Ee)for(H.groups=F=u(null),ee=0;ee<Ee.length;ee++)F[(K=Ee[ee])[0]]=H[K[1]];return H}),h.exports=T},7066:function(h,O,e){var r=e(9670);h.exports=function(){var n=r(this),a="";return n.hasIndices&&(a+="d"),n.global&&(a+="g"),n.ignoreCase&&(a+="i"),n.multiline&&(a+="m"),n.dotAll&&(a+="s"),n.unicode&&(a+="u"),n.unicodeSets&&(a+="v"),n.sticky&&(a+="y"),a}},4706:function(h,O,e){var r=e(6916),n=e(2597),a=e(7976),s=e(7066),i=RegExp.prototype;h.exports=function(o){var t=o.flags;return t!==void 0||"flags"in i||n(o,"flags")||!a(i,o)?t:r(s,o)}},2999:function(h,O,e){var r=e(7293),n=e(7854).RegExp,a=r(function(){var o=n("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),s=a||r(function(){return!n("a","y").sticky}),i=a||r(function(){var o=n("^r","gy");return o.lastIndex=2,o.exec("str")!=null});h.exports={BROKEN_CARET:i,MISSED_STICKY:s,UNSUPPORTED_Y:a}},9441:function(h,O,e){var r=e(7293),n=e(7854).RegExp;h.exports=r(function(){var a=n(".","s");return!(a.dotAll&&a.exec(`
`)&&a.flags==="s")})},7168:function(h,O,e){var r=e(7293),n=e(7854).RegExp;h.exports=r(function(){var a=n("(?<a>b)","g");return a.exec("b").groups.a!=="b"||"b".replace(a,"$<a>c")!=="bc"})},4488:function(h,O,e){var r=e(8554),n=TypeError;h.exports=function(a){if(r(a))throw n("Can't call method on "+a);return a}},7152:function(h,O,e){var r,n=e(7854),a=e(2104),s=e(614),i=e(9363),o=e(8113),t=e(206),l=e(8053),u=n.Function,g=/MSIE .\./.test(o)||i&&((r=n.Bun.version.split(".")).length<3||r[0]==0&&(r[1]<3||r[1]==3&&r[2]==0));h.exports=function(f,d){var p=d?2:1;return g?function(m,T){var c=l(arguments.length,1)>p,I=s(m)?m:u(m),v=c?t(arguments,p):[],N=c?function(){a(I,this,v)}:I;return d?f(N,T):f(N)}:f}},6340:function(h,O,e){var r=e(5005),n=e(7045),a=e(5112),s=e(9781),i=a("species");h.exports=function(o){var t=r(o);s&&t&&!t[i]&&n(t,i,{configurable:!0,get:function(){return this}})}},8003:function(h,O,e){var r=e(3070).f,n=e(2597),a=e(5112)("toStringTag");h.exports=function(s,i,o){s&&!o&&(s=s.prototype),s&&!n(s,a)&&r(s,a,{configurable:!0,value:i})}},6200:function(h,O,e){var r=e(2309),n=e(9711),a=r("keys");h.exports=function(s){return a[s]||(a[s]=n(s))}},5465:function(h,O,e){var r=e(7854),n=e(3072),a="__core-js_shared__",s=r[a]||n(a,{});h.exports=s},2309:function(h,O,e){var r=e(1913),n=e(5465);(h.exports=function(a,s){return n[a]||(n[a]=s!==void 0?s:{})})("versions",[]).push({version:"3.29.1",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(h,O,e){var r=e(9670),n=e(9483),a=e(8554),s=e(5112)("species");h.exports=function(i,o){var t,l=r(i).constructor;return l===void 0||a(t=r(l)[s])?o:n(t)}},8710:function(h,O,e){var r=e(1702),n=e(9303),a=e(1340),s=e(4488),i=r("".charAt),o=r("".charCodeAt),t=r("".slice),l=function(u){return function(g,f){var d,p,m=a(s(g)),T=n(f),c=m.length;return T<0||T>=c?u?"":void 0:(d=o(m,T))<55296||d>56319||T+1===c||(p=o(m,T+1))<56320||p>57343?u?i(m,T):d:u?t(m,T,T+2):p-56320+(d-55296<<10)+65536}};h.exports={codeAt:l(!1),charAt:l(!0)}},3197:function(h,O,e){var r=e(1702),n=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=RangeError,t=r(s.exec),l=Math.floor,u=String.fromCharCode,g=r("".charCodeAt),f=r([].join),d=r([].push),p=r("".replace),m=r("".split),T=r("".toLowerCase),c=function(N){return N+22+75*(N<26)},I=function(N,k,A){var R=0;for(N=A?l(N/700):N>>1,N+=l(N/k);N>455;)N=l(N/35),R+=36;return l(R+36*N/(N+38))},v=function(N){var k=[];N=function(re){for(var z=[],ue=0,Q=re.length;ue<Q;){var ne=g(re,ue++);if(ne>=55296&&ne<=56319&&ue<Q){var fe=g(re,ue++);(64512&fe)==56320?d(z,((1023&ne)<<10)+(1023&fe)+65536):(d(z,ne),ue--)}else d(z,ne)}return z}(N);var A,R,y=N.length,U=128,L=0,j=72;for(A=0;A<N.length;A++)(R=N[A])<128&&d(k,u(R));var H=k.length,ee=H;for(H&&d(k,"-");ee<y;){var F=n;for(A=0;A<N.length;A++)(R=N[A])>=U&&R<F&&(F=R);var K=ee+1;if(F-U>l((n-L)/K))throw o(i);for(L+=(F-U)*K,U=F,A=0;A<N.length;A++){if((R=N[A])<U&&++L>n)throw o(i);if(R==U){for(var Z=L,oe=36;;){var le=oe<=j?1:oe>=j+26?26:oe-j;if(Z<le)break;var de=Z-le,Ee=36-le;d(k,u(c(le+de%Ee))),Z=l(de/Ee),oe+=36}d(k,u(c(Z))),j=I(L,K,ee==H),L=0,ee++}}L++,U++}return f(k,"")};h.exports=function(N){var k,A,R=[],y=m(p(T(N),s,"."),".");for(k=0;k<y.length;k++)A=y[k],d(R,t(a,A)?"xn--"+v(A):A);return f(R,".")}},3111:function(h,O,e){var r=e(1702),n=e(4488),a=e(1340),s=e(1361),i=r("".replace),o=RegExp("^["+s+"]+"),t=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(u){return function(g){var f=a(n(g));return 1&u&&(f=i(f,o,"")),2&u&&(f=i(f,t,"$1")),f}};h.exports={start:l(1),end:l(2),trim:l(3)}},6293:function(h,O,e){var r=e(7392),n=e(7293);h.exports=!!Object.getOwnPropertySymbols&&!n(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&r&&r<41})},6532:function(h,O,e){var r=e(6916),n=e(5005),a=e(5112),s=e(8052);h.exports=function(){var i=n("Symbol"),o=i&&i.prototype,t=o&&o.valueOf,l=a("toPrimitive");o&&!o[l]&&s(o,l,function(u){return r(t,this)},{arity:1})}},2015:function(h,O,e){var r=e(6293);h.exports=r&&!!Symbol.for&&!!Symbol.keyFor},261:function(h,O,e){var r,n,a,s,i=e(7854),o=e(2104),t=e(9974),l=e(614),u=e(2597),g=e(7293),f=e(490),d=e(206),p=e(317),m=e(8053),T=e(6833),c=e(5268),I=i.setImmediate,v=i.clearImmediate,N=i.process,k=i.Dispatch,A=i.Function,R=i.MessageChannel,y=i.String,U=0,L={};g(function(){r=i.location});var j=function(K){if(u(L,K)){var Z=L[K];delete L[K],Z()}},H=function(K){return function(){j(K)}},ee=function(K){j(K.data)},F=function(K){i.postMessage(y(K),r.protocol+"//"+r.host)};I&&v||(I=function(K){m(arguments.length,1);var Z=l(K)?K:A(K),oe=d(arguments,1);return L[++U]=function(){o(Z,void 0,oe)},n(U),U},v=function(K){delete L[K]},c?n=function(K){N.nextTick(H(K))}:k&&k.now?n=function(K){k.now(H(K))}:R&&!T?(s=(a=new R).port2,a.port1.onmessage=ee,n=t(s.postMessage,s)):i.addEventListener&&l(i.postMessage)&&!i.importScripts&&r&&r.protocol!=="file:"&&!g(F)?(n=F,i.addEventListener("message",ee,!1)):n="onreadystatechange"in p("script")?function(K){f.appendChild(p("script")).onreadystatechange=function(){f.removeChild(this),j(K)}}:function(K){setTimeout(H(K),0)}),h.exports={set:I,clear:v}},863:function(h,O,e){var r=e(1702);h.exports=r(1 .valueOf)},1400:function(h,O,e){var r=e(9303),n=Math.max,a=Math.min;h.exports=function(s,i){var o=r(s);return o<0?n(o+i,0):a(o,i)}},4599:function(h,O,e){var r=e(7593),n=TypeError;h.exports=function(a){var s=r(a,"number");if(typeof s=="number")throw n("Can't convert number to bigint");return BigInt(s)}},7067:function(h,O,e){var r=e(9303),n=e(7466),a=RangeError;h.exports=function(s){if(s===void 0)return 0;var i=r(s),o=n(i);if(i!==o)throw a("Wrong length or index");return o}},5656:function(h,O,e){var r=e(8361),n=e(4488);h.exports=function(a){return r(n(a))}},9303:function(h,O,e){var r=e(4758);h.exports=function(n){var a=+n;return a!=a||a===0?0:r(a)}},7466:function(h,O,e){var r=e(9303),n=Math.min;h.exports=function(a){return a>0?n(r(a),9007199254740991):0}},7908:function(h,O,e){var r=e(4488),n=Object;h.exports=function(a){return n(r(a))}},4590:function(h,O,e){var r=e(3002),n=RangeError;h.exports=function(a,s){var i=r(a);if(i%s)throw n("Wrong offset");return i}},3002:function(h,O,e){var r=e(9303),n=RangeError;h.exports=function(a){var s=r(a);if(s<0)throw n("The argument can't be less than 0");return s}},7593:function(h,O,e){var r=e(6916),n=e(111),a=e(2190),s=e(8173),i=e(2140),o=e(5112),t=TypeError,l=o("toPrimitive");h.exports=function(u,g){if(!n(u)||a(u))return u;var f,d=s(u,l);if(d){if(g===void 0&&(g="default"),f=r(d,u,g),!n(f)||a(f))return f;throw t("Can't convert object to primitive value")}return g===void 0&&(g="number"),i(u,g)}},4948:function(h,O,e){var r=e(7593),n=e(2190);h.exports=function(a){var s=r(a,"string");return n(s)?s:s+""}},1694:function(h,O,e){var r={};r[e(5112)("toStringTag")]="z",h.exports=String(r)==="[object z]"},1340:function(h,O,e){var r=e(648),n=String;h.exports=function(a){if(r(a)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return n(a)}},6330:function(h){var O=String;h.exports=function(e){try{return O(e)}catch{return"Object"}}},9843:function(h,O,e){var r=e(2109),n=e(7854),a=e(6916),s=e(9781),i=e(3832),o=e(260),t=e(3331),l=e(5787),u=e(9114),g=e(8880),f=e(5988),d=e(7466),p=e(7067),m=e(4590),T=e(4948),c=e(2597),I=e(648),v=e(111),N=e(2190),k=e(30),A=e(7976),R=e(7674),y=e(8006).f,U=e(7321),L=e(2092).forEach,j=e(6340),H=e(7045),ee=e(3070),F=e(1236),K=e(9909),Z=e(9587),oe=K.get,le=K.set,de=K.enforce,Ee=ee.f,re=F.f,z=Math.round,ue=n.RangeError,Q=t.ArrayBuffer,ne=Q.prototype,fe=t.DataView,Y=o.NATIVE_ARRAY_BUFFER_VIEWS,Oe=o.TYPED_ARRAY_TAG,Ae=o.TypedArray,Be=o.TypedArrayPrototype,Ce=o.aTypedArrayConstructor,Ue=o.isTypedArray,ke="BYTES_PER_ELEMENT",je="Wrong length",Ge=function(Se,D){Ce(Se);for(var q=0,w=D.length,X=new Se(w);w>q;)X[q]=D[q++];return X},xe=function(Se,D){H(Se,D,{configurable:!0,get:function(){return oe(this)[D]}})},De=function(Se){var D;return A(ne,Se)||(D=I(Se))=="ArrayBuffer"||D=="SharedArrayBuffer"},ge=function(Se,D){return Ue(Se)&&!N(D)&&D in Se&&f(+D)&&D>=0},be=function(Se,D){return D=T(D),ge(Se,D)?u(2,Se[D]):re(Se,D)},Ie=function(Se,D,q){return D=T(D),!(ge(Se,D)&&v(q)&&c(q,"value"))||c(q,"get")||c(q,"set")||q.configurable||c(q,"writable")&&!q.writable||c(q,"enumerable")&&!q.enumerable?Ee(Se,D,q):(Se[D]=q.value,Se)};s?(Y||(F.f=be,ee.f=Ie,xe(Be,"buffer"),xe(Be,"byteOffset"),xe(Be,"byteLength"),xe(Be,"length")),r({target:"Object",stat:!0,forced:!Y},{getOwnPropertyDescriptor:be,defineProperty:Ie}),h.exports=function(Se,D,q){var w=Se.match(/\d+/)[0]/8,X=Se+(q?"Clamped":"")+"Array",E="get"+Se,b="set"+Se,x=n[X],C=x,P=C&&C.prototype,_={},S=function(M,G){Ee(M,G,{get:function(){return function(te,ce){var ye=oe(te);return ye.view[E](ce*w+ye.byteOffset,!0)}(this,G)},set:function(te){return function(ce,ye,B){var J=oe(ce);q&&(B=(B=z(B))<0?0:B>255?255:255&B),J.view[b](ye*w+J.byteOffset,B,!0)}(this,G,te)},enumerable:!0})};Y?i&&(C=D(function(M,G,te,ce){return l(M,P),Z(v(G)?De(G)?ce!==void 0?new x(G,m(te,w),ce):te!==void 0?new x(G,m(te,w)):new x(G):Ue(G)?Ge(C,G):a(U,C,G):new x(p(G)),M,C)}),R&&R(C,Ae),L(y(x),function(M){M in C||g(C,M,x[M])}),C.prototype=P):(C=D(function(M,G,te,ce){l(M,P);var ye,B,J,ae=0,ie=0;if(v(G)){if(!De(G))return Ue(G)?Ge(C,G):a(U,C,G);ye=G,ie=m(te,w);var Me=G.byteLength;if(ce===void 0){if(Me%w||(B=Me-ie)<0)throw ue(je)}else if((B=d(ce)*w)+ie>Me)throw ue(je);J=B/w}else J=p(G),ye=new Q(B=J*w);for(le(M,{buffer:ye,byteOffset:ie,byteLength:B,length:J,view:new fe(ye)});ae<J;)S(M,ae++)}),R&&R(C,Ae),P=C.prototype=k(Be)),P.constructor!==C&&g(P,"constructor",C),de(P).TypedArrayConstructor=C,Oe&&g(P,Oe,X);var W=C!=x;_[X]=C,r({global:!0,constructor:!0,forced:W,sham:!Y},_),ke in C||g(C,ke,w),ke in P||g(P,ke,w),j(X)}):h.exports=function(){}},3832:function(h,O,e){var r=e(7854),n=e(7293),a=e(7072),s=e(260).NATIVE_ARRAY_BUFFER_VIEWS,i=r.ArrayBuffer,o=r.Int8Array;h.exports=!s||!n(function(){o(1)})||!n(function(){new o(-1)})||!a(function(t){new o,new o(null),new o(1.5),new o(t)},!0)||n(function(){return new o(new i(2),1,void 0).length!==1})},3074:function(h,O,e){var r=e(7745),n=e(6304);h.exports=function(a,s){return r(n(a),s)}},7321:function(h,O,e){var r=e(9974),n=e(6916),a=e(9483),s=e(7908),i=e(6244),o=e(4121),t=e(1246),l=e(7659),u=e(4067),g=e(260).aTypedArrayConstructor,f=e(4599);h.exports=function(d){var p,m,T,c,I,v,N,k,A=a(this),R=s(d),y=arguments.length,U=y>1?arguments[1]:void 0,L=U!==void 0,j=t(R);if(j&&!l(j))for(k=(N=o(R,j)).next,R=[];!(v=n(k,N)).done;)R.push(v.value);for(L&&y>2&&(U=r(U,arguments[2])),m=i(R),T=new(g(A))(m),c=u(T),p=0;m>p;p++)I=L?U(R[p],p):R[p],T[p]=c?f(I):+I;return T}},6304:function(h,O,e){var r=e(260),n=e(6707),a=r.aTypedArrayConstructor,s=r.getTypedArrayConstructor;h.exports=function(i){return a(n(i,s(i)))}},9711:function(h,O,e){var r=e(1702),n=0,a=Math.random(),s=r(1 .toString);h.exports=function(i){return"Symbol("+(i===void 0?"":i)+")_"+s(++n+a,36)}},5143:function(h,O,e){var r=e(7293),n=e(5112),a=e(9781),s=e(1913),i=n("iterator");h.exports=!r(function(){var o=new URL("b?a=1&b=2&c=3","http://a"),t=o.searchParams,l="";return o.pathname="c%20d",t.forEach(function(u,g){t.delete("b"),l+=g+u}),s&&!o.toJSON||!t.size&&(s||!a)||!t.sort||o.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||l!=="a1c3"||new URL("http://x",void 0).host!=="x"})},3307:function(h,O,e){var r=e(6293);h.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(h,O,e){var r=e(9781),n=e(7293);h.exports=r&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:function(h){var O=TypeError;h.exports=function(e,r){if(e<r)throw O("Not enough arguments");return e}},4811:function(h,O,e){var r=e(7854),n=e(614),a=r.WeakMap;h.exports=n(a)&&/native code/.test(String(a))},6800:function(h,O,e){var r=e(857),n=e(2597),a=e(6061),s=e(3070).f;h.exports=function(i){var o=r.Symbol||(r.Symbol={});n(o,i)||s(o,i,{value:a.f(i)})}},6061:function(h,O,e){var r=e(5112);O.f=r},5112:function(h,O,e){var r=e(7854),n=e(2309),a=e(2597),s=e(9711),i=e(6293),o=e(3307),t=r.Symbol,l=n("wks"),u=o?t.for||t:t&&t.withoutSetter||s;h.exports=function(g){return a(l,g)||(l[g]=i&&a(t,g)?t[g]:u("Symbol."+g)),l[g]}},1361:function(h){h.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},8264:function(h,O,e){var r=e(2109),n=e(7854),a=e(3331),s=e(6340),i=a.ArrayBuffer;r({global:!0,constructor:!0,forced:n.ArrayBuffer!==i},{ArrayBuffer:i}),s("ArrayBuffer")},9575:function(h,O,e){var r=e(2109),n=e(1470),a=e(7293),s=e(3331),i=e(9670),o=e(1400),t=e(7466),l=e(6707),u=s.ArrayBuffer,g=s.DataView,f=g.prototype,d=n(u.prototype.slice),p=n(f.getUint8),m=n(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(T,c){if(d&&c===void 0)return d(i(this),T);for(var I=i(this).byteLength,v=o(T,I),N=o(c===void 0?I:c,I),k=new(l(this,u))(t(N-v)),A=new g(this),R=new g(k),y=0;v<N;)m(R,y++,p(A,v++));return k}})},2222:function(h,O,e){var r=e(2109),n=e(7293),a=e(3157),s=e(111),i=e(7908),o=e(6244),t=e(7207),l=e(6135),u=e(5417),g=e(1194),f=e(5112),d=e(7392),p=f("isConcatSpreadable"),m=d>=51||!n(function(){var c=[];return c[p]=!1,c.concat()[0]!==c}),T=function(c){if(!s(c))return!1;var I=c[p];return I!==void 0?!!I:a(c)};r({target:"Array",proto:!0,arity:1,forced:!m||!g("concat")},{concat:function(c){var I,v,N,k,A,R=i(this),y=u(R,0),U=0;for(I=-1,N=arguments.length;I<N;I++)if(T(A=I===-1?R:arguments[I]))for(k=o(A),t(U+k),v=0;v<k;v++,U++)v in A&&l(y,U,A[v]);else t(U+1),l(y,U++,A);return y.length=U,y}})},7327:function(h,O,e){var r=e(2109),n=e(2092).filter;r({target:"Array",proto:!0,forced:!e(1194)("filter")},{filter:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}})},9554:function(h,O,e){var r=e(2109),n=e(8533);r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},1038:function(h,O,e){var r=e(2109),n=e(8457);r({target:"Array",stat:!0,forced:!e(7072)(function(a){Array.from(a)})},{from:n})},6699:function(h,O,e){var r=e(2109),n=e(1318).includes,a=e(7293),s=e(1223);r({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)}}),s("includes")},2772:function(h,O,e){var r=e(2109),n=e(1470),a=e(1318).indexOf,s=e(9341),i=n([].indexOf),o=!!i&&1/i([1],1,-0)<0;r({target:"Array",proto:!0,forced:o||!s("indexOf")},{indexOf:function(t){var l=arguments.length>1?arguments[1]:void 0;return o?i(this,t,l)||0:a(this,t,l)}})},9753:function(h,O,e){e(2109)({target:"Array",stat:!0},{isArray:e(3157)})},6992:function(h,O,e){var r=e(5656),n=e(1223),a=e(7497),s=e(9909),i=e(3070).f,o=e(1656),t=e(6178),l=e(1913),u=e(9781),g="Array Iterator",f=s.set,d=s.getterFor(g);h.exports=o(Array,"Array",function(m,T){f(this,{type:g,target:r(m),index:0,kind:T})},function(){var m=d(this),T=m.target,c=m.kind,I=m.index++;return!T||I>=T.length?(m.target=void 0,t(void 0,!0)):t(c=="keys"?I:c=="values"?T[I]:[I,T[I]],!1)},"values");var p=a.Arguments=a.Array;if(n("keys"),n("values"),n("entries"),!l&&u&&p.name!=="values")try{i(p,"name",{value:"values"})}catch{}},9600:function(h,O,e){var r=e(2109),n=e(1702),a=e(8361),s=e(5656),i=e(9341),o=n([].join);r({target:"Array",proto:!0,forced:a!=Object||!i("join",",")},{join:function(t){return o(s(this),t===void 0?",":t)}})},4986:function(h,O,e){var r=e(2109),n=e(6583);r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},1249:function(h,O,e){var r=e(2109),n=e(2092).map;r({target:"Array",proto:!0,forced:!e(1194)("map")},{map:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}})},5827:function(h,O,e){var r=e(2109),n=e(3671).left,a=e(9341),s=e(7392);r({target:"Array",proto:!0,forced:!e(5268)&&s>79&&s<83||!a("reduce")},{reduce:function(i){var o=arguments.length;return n(this,i,o,o>1?arguments[1]:void 0)}})},7042:function(h,O,e){var r=e(2109),n=e(3157),a=e(4411),s=e(111),i=e(1400),o=e(6244),t=e(5656),l=e(6135),u=e(5112),g=e(1194),f=e(206),d=g("slice"),p=u("species"),m=Array,T=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(c,I){var v,N,k,A=t(this),R=o(A),y=i(c,R),U=i(I===void 0?R:I,R);if(n(A)&&(v=A.constructor,(a(v)&&(v===m||n(v.prototype))||s(v)&&(v=v[p])===null)&&(v=void 0),v===m||v===void 0))return f(A,y,U);for(N=new(v===void 0?m:v)(T(U-y,0)),k=0;y<U;y++,k++)y in A&&l(N,k,A[y]);return N.length=k,N}})},5212:function(h,O,e){var r=e(2109),n=e(2092).some;r({target:"Array",proto:!0,forced:!e(9341)("some")},{some:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}})},561:function(h,O,e){var r=e(2109),n=e(7908),a=e(1400),s=e(9303),i=e(6244),o=e(3658),t=e(7207),l=e(5417),u=e(6135),g=e(5117),f=e(1194)("splice"),d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(m,T){var c,I,v,N,k,A,R=n(this),y=i(R),U=a(m,y),L=arguments.length;for(L===0?c=I=0:L===1?(c=0,I=y-U):(c=L-2,I=p(d(s(T),0),y-U)),t(y+c-I),v=l(R,I),N=0;N<I;N++)(k=U+N)in R&&u(v,N,R[k]);if(v.length=I,c<I){for(N=U;N<y-I;N++)A=N+c,(k=N+I)in R?R[A]=R[k]:g(R,A);for(N=y;N>y-I+c;N--)g(R,N-1)}else if(c>I)for(N=y-I;N>U;N--)A=N+c-1,(k=N+I-1)in R?R[A]=R[k]:g(R,A);for(N=0;N<c;N++)R[N+U]=arguments[N+2];return o(R,y-I+c),v}})},3843:function(h,O,e){var r=e(2109),n=e(1702),a=Date,s=n(a.prototype.getTime);r({target:"Date",stat:!0},{now:function(){return s(new a)}})},3710:function(h,O,e){var r=e(1702),n=e(8052),a=Date.prototype,s="Invalid Date",i=r(a.toString),o=r(a.getTime);String(new Date(NaN))!=s&&n(a,"toString",function(){var t=o(this);return t==t?i(this):s})},4812:function(h,O,e){var r=e(2109),n=e(7065);r({target:"Function",proto:!0,forced:Function.bind!==n},{bind:n})},8309:function(h,O,e){var r=e(9781),n=e(6530).EXISTS,a=e(1702),s=e(7045),i=Function.prototype,o=a(i.toString),t=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(t.exec);r&&!n&&s(i,"name",{configurable:!0,get:function(){try{return l(t,o(this))[1]}catch{return""}}})},8862:function(h,O,e){var r=e(2109),n=e(5005),a=e(2104),s=e(6916),i=e(1702),o=e(7293),t=e(614),l=e(2190),u=e(206),g=e(8044),f=e(6293),d=String,p=n("JSON","stringify"),m=i(/./.exec),T=i("".charAt),c=i("".charCodeAt),I=i("".replace),v=i(1 .toString),N=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,R=!f||o(function(){var j=n("Symbol")();return p([j])!="[null]"||p({a:j})!="{}"||p(Object(j))!="{}"}),y=o(function(){return p("\uDF06\uD834")!=='"\\udf06\\ud834"'||p("\uDEAD")!=='"\\udead"'}),U=function(j,H){var ee=u(arguments),F=g(H);if(t(F)||j!==void 0&&!l(j))return ee[1]=function(K,Z){if(t(F)&&(Z=s(F,this,d(K),Z)),!l(Z))return Z},a(p,null,ee)},L=function(j,H,ee){var F=T(ee,H-1),K=T(ee,H+1);return m(k,j)&&!m(A,K)||m(A,j)&&!m(k,F)?"\\u"+v(c(j,0),16):j};p&&r({target:"JSON",stat:!0,arity:3,forced:R||y},{stringify:function(j,H,ee){var F=u(arguments),K=a(R?U:p,null,F);return y&&typeof K=="string"?I(K,N,L):K}})},9098:function(h,O,e){e(7710)("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e(5631))},1532:function(h,O,e){e(9098)},9653:function(h,O,e){var r=e(2109),n=e(1913),a=e(9781),s=e(7854),i=e(857),o=e(1702),t=e(4705),l=e(2597),u=e(9587),g=e(7976),f=e(2190),d=e(7593),p=e(7293),m=e(8006).f,T=e(1236).f,c=e(3070).f,I=e(863),v=e(3111).trim,N=s.Number,k=i.Number,A=N.prototype,R=s.TypeError,y=o("".slice),U=o("".charCodeAt),L=function(Z){var oe=d(Z,"number");return typeof oe=="bigint"?oe:j(oe)},j=function(Z){var oe,le,de,Ee,re,z,ue,Q,ne=d(Z,"number");if(f(ne))throw R("Cannot convert a Symbol value to a number");if(typeof ne=="string"&&ne.length>2){if(ne=v(ne),(oe=U(ne,0))===43||oe===45){if((le=U(ne,2))===88||le===120)return NaN}else if(oe===48){switch(U(ne,1)){case 66:case 98:de=2,Ee=49;break;case 79:case 111:de=8,Ee=55;break;default:return+ne}for(z=(re=y(ne,2)).length,ue=0;ue<z;ue++)if((Q=U(re,ue))<48||Q>Ee)return NaN;return parseInt(re,de)}}return+ne},H=t("Number",!N(" 0o1")||!N("0b1")||N("+0x1")),ee=function(Z){return g(A,Z)&&p(function(){I(Z)})},F=function(Z){var oe=arguments.length<1?0:N(L(Z));return ee(this)?u(Object(oe),this,F):oe};F.prototype=A,H&&!n&&(A.constructor=F),r({global:!0,constructor:!0,wrap:!0,forced:H},{Number:F});var K=function(Z,oe){for(var le,de=a?m(oe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ee=0;de.length>Ee;Ee++)l(oe,le=de[Ee])&&!l(Z,le)&&c(Z,le,T(oe,le))};n&&k&&K(i.Number,k),(H||n)&&K(i.Number,N)},3161:function(h,O,e){e(2109)({target:"Number",stat:!0},{isInteger:e(5988)})},9601:function(h,O,e){var r=e(2109),n=e(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},9720:function(h,O,e){var r=e(2109),n=e(4699).entries;r({target:"Object",stat:!0},{entries:function(a){return n(a)}})},9660:function(h,O,e){var r=e(2109),n=e(6293),a=e(7293),s=e(5181),i=e(7908);r({target:"Object",stat:!0,forced:!n||a(function(){s.f(1)})},{getOwnPropertySymbols:function(o){var t=s.f;return t?t(i(o)):[]}})},7941:function(h,O,e){var r=e(2109),n=e(7908),a=e(1956);r({target:"Object",stat:!0,forced:e(7293)(function(){a(1)})},{keys:function(s){return a(n(s))}})},1539:function(h,O,e){var r=e(1694),n=e(8052),a=e(288);r||n(Object.prototype,"toString",a,{unsafe:!0})},821:function(h,O,e){var r=e(2109),n=e(6916),a=e(9662),s=e(8523),i=e(2534),o=e(408);r({target:"Promise",stat:!0,forced:e(612)},{all:function(t){var l=this,u=s.f(l),g=u.resolve,f=u.reject,d=i(function(){var p=a(l.resolve),m=[],T=0,c=1;o(t,function(I){var v=T++,N=!1;c++,n(p,l,I).then(function(k){N||(N=!0,m[v]=k,--c||g(m))},f)}),--c||g(m)});return d.error&&f(d.value),u.promise}})},4164:function(h,O,e){var r=e(2109),n=e(1913),a=e(3702).CONSTRUCTOR,s=e(2492),i=e(5005),o=e(614),t=e(8052),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(g){return this.then(void 0,g)}}),!n&&o(s)){var u=i("Promise").prototype.catch;l.catch!==u&&t(l,"catch",u,{unsafe:!0})}},3401:function(h,O,e){var r,n,a,s=e(2109),i=e(1913),o=e(5268),t=e(7854),l=e(6916),u=e(8052),g=e(7674),f=e(8003),d=e(6340),p=e(9662),m=e(614),T=e(111),c=e(5787),I=e(6707),v=e(261).set,N=e(5948),k=e(842),A=e(2534),R=e(8572),y=e(9909),U=e(2492),L=e(3702),j=e(8523),H="Promise",ee=L.CONSTRUCTOR,F=L.REJECTION_EVENT,K=L.SUBCLASSING,Z=y.getterFor(H),oe=y.set,le=U&&U.prototype,de=U,Ee=le,re=t.TypeError,z=t.document,ue=t.process,Q=j.f,ne=Q,fe=!!(z&&z.createEvent&&t.dispatchEvent),Y="unhandledrejection",Oe=function(ge){var be;return!(!T(ge)||!m(be=ge.then))&&be},Ae=function(ge,be){var Ie,Se,D,q=be.value,w=be.state==1,X=w?ge.ok:ge.fail,E=ge.resolve,b=ge.reject,x=ge.domain;try{X?(w||(be.rejection===2&&je(be),be.rejection=1),X===!0?Ie=q:(x&&x.enter(),Ie=X(q),x&&(x.exit(),D=!0)),Ie===ge.promise?b(re("Promise-chain cycle")):(Se=Oe(Ie))?l(Se,Ie,E,b):E(Ie)):b(q)}catch(C){x&&!D&&x.exit(),b(C)}},Be=function(ge,be){ge.notified||(ge.notified=!0,N(function(){for(var Ie,Se=ge.reactions;Ie=Se.get();)Ae(Ie,ge);ge.notified=!1,be&&!ge.rejection&&Ue(ge)}))},Ce=function(ge,be,Ie){var Se,D;fe?((Se=z.createEvent("Event")).promise=be,Se.reason=Ie,Se.initEvent(ge,!1,!0),t.dispatchEvent(Se)):Se={promise:be,reason:Ie},!F&&(D=t["on"+ge])?D(Se):ge===Y&&k("Unhandled promise rejection",Ie)},Ue=function(ge){l(v,t,function(){var be,Ie=ge.facade,Se=ge.value;if(ke(ge)&&(be=A(function(){o?ue.emit("unhandledRejection",Se,Ie):Ce(Y,Ie,Se)}),ge.rejection=o||ke(ge)?2:1,be.error))throw be.value})},ke=function(ge){return ge.rejection!==1&&!ge.parent},je=function(ge){l(v,t,function(){var be=ge.facade;o?ue.emit("rejectionHandled",be):Ce("rejectionhandled",be,ge.value)})},Ge=function(ge,be,Ie){return function(Se){ge(be,Se,Ie)}},xe=function(ge,be,Ie){ge.done||(ge.done=!0,Ie&&(ge=Ie),ge.value=be,ge.state=2,Be(ge,!0))},De=function(ge,be,Ie){if(!ge.done){ge.done=!0,Ie&&(ge=Ie);try{if(ge.facade===be)throw re("Promise can't be resolved itself");var Se=Oe(be);Se?N(function(){var D={done:!1};try{l(Se,be,Ge(De,D,ge),Ge(xe,D,ge))}catch(q){xe(D,q,ge)}}):(ge.value=be,ge.state=1,Be(ge,!1))}catch(D){xe({done:!1},D,ge)}}};if(ee&&(Ee=(de=function(ge){c(this,Ee),p(ge),l(r,this);var be=Z(this);try{ge(Ge(De,be),Ge(xe,be))}catch(Ie){xe(be,Ie)}}).prototype,(r=function(ge){oe(this,{type:H,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:void 0})}).prototype=u(Ee,"then",function(ge,be){var Ie=Z(this),Se=Q(I(this,de));return Ie.parent=!0,Se.ok=!m(ge)||ge,Se.fail=m(be)&&be,Se.domain=o?ue.domain:void 0,Ie.state==0?Ie.reactions.add(Se):N(function(){Ae(Se,Ie)}),Se.promise}),n=function(){var ge=new r,be=Z(ge);this.promise=ge,this.resolve=Ge(De,be),this.reject=Ge(xe,be)},j.f=Q=function(ge){return ge===de||ge===void 0?new n(ge):ne(ge)},!i&&m(U)&&le!==Object.prototype)){a=le.then,K||u(le,"then",function(ge,be){var Ie=this;return new de(function(Se,D){l(a,Ie,Se,D)}).then(ge,be)},{unsafe:!0});try{delete le.constructor}catch{}g&&g(le,Ee)}s({global:!0,constructor:!0,wrap:!0,forced:ee},{Promise:de}),f(de,H,!1,!0),d(H)},8674:function(h,O,e){e(3401),e(821),e(4164),e(6027),e(683),e(6294)},6027:function(h,O,e){var r=e(2109),n=e(6916),a=e(9662),s=e(8523),i=e(2534),o=e(408);r({target:"Promise",stat:!0,forced:e(612)},{race:function(t){var l=this,u=s.f(l),g=u.reject,f=i(function(){var d=a(l.resolve);o(t,function(p){n(d,l,p).then(u.resolve,g)})});return f.error&&g(f.value),u.promise}})},683:function(h,O,e){var r=e(2109),n=e(6916),a=e(8523);r({target:"Promise",stat:!0,forced:e(3702).CONSTRUCTOR},{reject:function(s){var i=a.f(this);return n(i.reject,void 0,s),i.promise}})},6294:function(h,O,e){var r=e(2109),n=e(5005),a=e(1913),s=e(2492),i=e(3702).CONSTRUCTOR,o=e(9478),t=n("Promise"),l=a&&!i;r({target:"Promise",stat:!0,forced:a||i},{resolve:function(u){return o(l&&this===t?s:this,u)}})},4916:function(h,O,e){var r=e(2109),n=e(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},9714:function(h,O,e){var r=e(6530).PROPER,n=e(8052),a=e(9670),s=e(1340),i=e(7293),o=e(4706),t="toString",l=RegExp.prototype.toString,u=i(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),g=r&&l.name!=t;(u||g)&&n(RegExp.prototype,t,function(){var f=a(this);return"/"+s(f.source)+"/"+s(o(f))},{unsafe:!0})},2023:function(h,O,e){var r=e(2109),n=e(1702),a=e(3929),s=e(4488),i=e(1340),o=e(4964),t=n("".indexOf);r({target:"String",proto:!0,forced:!o("includes")},{includes:function(l){return!!~t(i(s(this)),i(a(l)),arguments.length>1?arguments[1]:void 0)}})},8783:function(h,O,e){var r=e(8710).charAt,n=e(1340),a=e(9909),s=e(1656),i=e(6178),o="String Iterator",t=a.set,l=a.getterFor(o);s(String,"String",function(u){t(this,{type:o,string:n(u),index:0})},function(){var u,g=l(this),f=g.string,d=g.index;return d>=f.length?i(void 0,!0):(u=r(f,d),g.index+=u.length,i(u,!1))})},4032:function(h,O,e){var r=e(2109),n=e(7854),a=e(6916),s=e(1702),i=e(1913),o=e(9781),t=e(6293),l=e(7293),u=e(2597),g=e(7976),f=e(9670),d=e(5656),p=e(4948),m=e(1340),T=e(9114),c=e(30),I=e(1956),v=e(8006),N=e(1156),k=e(5181),A=e(1236),R=e(3070),y=e(6048),U=e(5296),L=e(8052),j=e(7045),H=e(2309),ee=e(6200),F=e(3501),K=e(9711),Z=e(5112),oe=e(6061),le=e(6800),de=e(6532),Ee=e(8003),re=e(9909),z=e(2092).forEach,ue=ee("hidden"),Q="Symbol",ne=re.set,fe=re.getterFor(Q),Y=Object.prototype,Oe=n.Symbol,Ae=Oe&&Oe.prototype,Be=n.TypeError,Ce=n.QObject,Ue=A.f,ke=R.f,je=N.f,Ge=U.f,xe=s([].push),De=H("symbols"),ge=H("op-symbols"),be=H("wks"),Ie=!Ce||!Ce.prototype||!Ce.prototype.findChild,Se=o&&l(function(){return c(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!=7})?function(C,P,_){var S=Ue(Y,P);S&&delete Y[P],ke(C,P,_),S&&C!==Y&&ke(Y,P,S)}:ke,D=function(C,P){var _=De[C]=c(Ae);return ne(_,{type:Q,tag:C,description:P}),o||(_.description=P),_},q=function(C,P,_){C===Y&&q(ge,P,_),f(C);var S=p(P);return f(_),u(De,S)?(_.enumerable?(u(C,ue)&&C[ue][S]&&(C[ue][S]=!1),_=c(_,{enumerable:T(0,!1)})):(u(C,ue)||ke(C,ue,T(1,{})),C[ue][S]=!0),Se(C,S,_)):ke(C,S,_)},w=function(C,P){f(C);var _=d(P),S=I(_).concat(x(_));return z(S,function(W){o&&!a(X,_,W)||q(C,W,_[W])}),C},X=function(C){var P=p(C),_=a(Ge,this,P);return!(this===Y&&u(De,P)&&!u(ge,P))&&(!(_||!u(this,P)||!u(De,P)||u(this,ue)&&this[ue][P])||_)},E=function(C,P){var _=d(C),S=p(P);if(_!==Y||!u(De,S)||u(ge,S)){var W=Ue(_,S);return!W||!u(De,S)||u(_,ue)&&_[ue][S]||(W.enumerable=!0),W}},b=function(C){var P=je(d(C)),_=[];return z(P,function(S){u(De,S)||u(F,S)||xe(_,S)}),_},x=function(C){var P=C===Y,_=je(P?ge:d(C)),S=[];return z(_,function(W){!u(De,W)||P&&!u(Y,W)||xe(S,De[W])}),S};t||(Oe=function(){if(g(Ae,this))throw Be("Symbol is not a constructor");var C=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,P=K(C),_=function(S){this===Y&&a(_,ge,S),u(this,ue)&&u(this[ue],P)&&(this[ue][P]=!1),Se(this,P,T(1,S))};return o&&Ie&&Se(Y,P,{configurable:!0,set:_}),D(P,C)},L(Ae=Oe.prototype,"toString",function(){return fe(this).tag}),L(Oe,"withoutSetter",function(C){return D(K(C),C)}),U.f=X,R.f=q,y.f=w,A.f=E,v.f=N.f=b,k.f=x,oe.f=function(C){return D(Z(C),C)},o&&(j(Ae,"description",{configurable:!0,get:function(){return fe(this).description}}),i||L(Y,"propertyIsEnumerable",X,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!t,sham:!t},{Symbol:Oe}),z(I(be),function(C){le(C)}),r({target:Q,stat:!0,forced:!t},{useSetter:function(){Ie=!0},useSimple:function(){Ie=!1}}),r({target:"Object",stat:!0,forced:!t,sham:!o},{create:function(C,P){return P===void 0?c(C):w(c(C),P)},defineProperty:q,defineProperties:w,getOwnPropertyDescriptor:E}),r({target:"Object",stat:!0,forced:!t},{getOwnPropertyNames:b}),de(),Ee(Oe,Q),F[ue]=!0},1817:function(h,O,e){var r=e(2109),n=e(9781),a=e(7854),s=e(1702),i=e(2597),o=e(614),t=e(7976),l=e(1340),u=e(7045),g=e(9920),f=a.Symbol,d=f&&f.prototype;if(n&&o(f)&&(!("description"in d)||f().description!==void 0)){var p={},m=function(){var A=arguments.length<1||arguments[0]===void 0?void 0:l(arguments[0]),R=t(d,this)?new f(A):A===void 0?f():f(A);return A===""&&(p[R]=!0),R};g(m,f),m.prototype=d,d.constructor=m;var T=String(f("test"))=="Symbol(test)",c=s(d.valueOf),I=s(d.toString),v=/^Symbol\((.*)\)[^)]+$/,N=s("".replace),k=s("".slice);u(d,"description",{configurable:!0,get:function(){var A=c(this);if(i(p,A))return"";var R=I(A),y=T?k(R,7,-1):N(R,v,"$1");return y===""?void 0:y}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},763:function(h,O,e){var r=e(2109),n=e(5005),a=e(2597),s=e(1340),i=e(2309),o=e(2015),t=i("string-to-symbol-registry"),l=i("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!o},{for:function(u){var g=s(u);if(a(t,g))return t[g];var f=n("Symbol")(g);return t[g]=f,l[f]=g,f}})},2165:function(h,O,e){e(6800)("iterator")},2526:function(h,O,e){e(4032),e(763),e(6620),e(8862),e(9660)},6620:function(h,O,e){var r=e(2109),n=e(2597),a=e(2190),s=e(6330),i=e(2309),o=e(2015),t=i("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!o},{keyFor:function(l){if(!a(l))throw TypeError(s(l)+" is not a symbol");if(n(t,l))return t[l]}})},2990:function(h,O,e){var r=e(1702),n=e(260),a=r(e(1048)),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(i,o){return a(s(this),i,o,arguments.length>2?arguments[2]:void 0)})},8927:function(h,O,e){var r=e(260),n=e(2092).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},3105:function(h,O,e){var r=e(260),n=e(1285),a=e(4599),s=e(648),i=e(6916),o=e(1702),t=e(7293),l=r.aTypedArray,u=r.exportTypedArrayMethod,g=o("".slice);u("fill",function(f){var d=arguments.length;l(this);var p=g(s(this),0,3)==="Big"?a(f):+f;return i(n,this,p,d>1?arguments[1]:void 0,d>2?arguments[2]:void 0)},t(function(){var f=0;return new Int8Array(2).fill({valueOf:function(){return f++}}),f!==1}))},5035:function(h,O,e){var r=e(260),n=e(2092).filter,a=e(3074),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(i){var o=n(s(this),i,arguments.length>1?arguments[1]:void 0);return a(this,o)})},7174:function(h,O,e){var r=e(260),n=e(2092).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},4345:function(h,O,e){var r=e(260),n=e(2092).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},2846:function(h,O,e){var r=e(260),n=e(2092).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(s){n(a(this),s,arguments.length>1?arguments[1]:void 0)})},8145:function(h,O,e){var r=e(3832);(0,e(260).exportTypedArrayStaticMethod)("from",e(7321),r)},4731:function(h,O,e){var r=e(260),n=e(1318).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},7209:function(h,O,e){var r=e(260),n=e(1318).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},6319:function(h,O,e){var r=e(7854),n=e(7293),a=e(1702),s=e(260),i=e(6992),o=e(5112)("iterator"),t=r.Uint8Array,l=a(i.values),u=a(i.keys),g=a(i.entries),f=s.aTypedArray,d=s.exportTypedArrayMethod,p=t&&t.prototype,m=!n(function(){p[o].call([1])}),T=!!p&&p.values&&p[o]===p.values&&p.values.name==="values",c=function(){return l(f(this))};d("entries",function(){return g(f(this))},m),d("keys",function(){return u(f(this))},m),d("values",c,m||!T,{name:"values"}),d(o,c,m||!T,{name:"values"})},8867:function(h,O,e){var r=e(260),n=e(1702),a=r.aTypedArray,s=r.exportTypedArrayMethod,i=n([].join);s("join",function(o){return i(a(this),o)})},7789:function(h,O,e){var r=e(260),n=e(2104),a=e(6583),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(i){var o=arguments.length;return n(a,s(this),o>1?[i,arguments[1]]:[i])})},3739:function(h,O,e){var r=e(260),n=e(2092).map,a=e(6304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",function(i){return n(s(this),i,arguments.length>1?arguments[1]:void 0,function(o,t){return new(a(o))(t)})})},4483:function(h,O,e){var r=e(260),n=e(3671).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(s){var i=arguments.length;return n(a(this),s,i,i>1?arguments[1]:void 0)})},9368:function(h,O,e){var r=e(260),n=e(3671).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(s){var i=arguments.length;return n(a(this),s,i,i>1?arguments[1]:void 0)})},2056:function(h,O,e){var r=e(260),n=r.aTypedArray,a=r.exportTypedArrayMethod,s=Math.floor;a("reverse",function(){for(var i,o=this,t=n(o).length,l=s(t/2),u=0;u<l;)i=o[u],o[u++]=o[--t],o[t]=i;return o})},3462:function(h,O,e){var r=e(7854),n=e(6916),a=e(260),s=e(6244),i=e(4590),o=e(7908),t=e(7293),l=r.RangeError,u=r.Int8Array,g=u&&u.prototype,f=g&&g.set,d=a.aTypedArray,p=a.exportTypedArrayMethod,m=!t(function(){var c=new Uint8ClampedArray(2);return n(f,c,{length:1,0:3},1),c[1]!==3}),T=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&t(function(){var c=new u(2);return c.set(1),c.set("2",1),c[0]!==0||c[1]!==2});p("set",function(c){d(this);var I=i(arguments.length>1?arguments[1]:void 0,1),v=o(c);if(m)return n(f,this,v,I);var N=this.length,k=s(v),A=0;if(k+I>N)throw l("Wrong length");for(;A<k;)this[I+A]=v[A++]},!m||T)},678:function(h,O,e){var r=e(260),n=e(6304),a=e(7293),s=e(206),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",function(o,t){for(var l=s(i(this),o,t),u=n(this),g=0,f=l.length,d=new u(f);f>g;)d[g]=l[g++];return d},a(function(){new Int8Array(1).slice()}))},7462:function(h,O,e){var r=e(260),n=e(2092).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(s){return n(a(this),s,arguments.length>1?arguments[1]:void 0)})},3824:function(h,O,e){var r=e(7854),n=e(1470),a=e(7293),s=e(9662),i=e(4362),o=e(260),t=e(8886),l=e(256),u=e(7392),g=e(8008),f=o.aTypedArray,d=o.exportTypedArrayMethod,p=r.Uint16Array,m=p&&n(p.prototype.sort),T=!(!m||a(function(){m(new p(2),null)})&&a(function(){m(new p(2),{})})),c=!!m&&!a(function(){if(u)return u<74;if(t)return t<67;if(l)return!0;if(g)return g<602;var I,v,N=new p(516),k=Array(516);for(I=0;I<516;I++)v=I%4,N[I]=515-I,k[I]=I-2*v+3;for(m(N,function(A,R){return(A/4|0)-(R/4|0)}),I=0;I<516;I++)if(N[I]!==k[I])return!0});d("sort",function(I){return I!==void 0&&s(I),c?m(this,I):i(f(this),function(v){return function(N,k){return v!==void 0?+v(N,k)||0:k!=k?-1:N!=N?1:N===0&&k===0?1/N>0&&1/k<0?1:-1:N>k}}(I))},!c||T)},5021:function(h,O,e){var r=e(260),n=e(7466),a=e(1400),s=e(6304),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",function(o,t){var l=i(this),u=l.length,g=a(o,u);return new(s(l))(l.buffer,l.byteOffset+g*l.BYTES_PER_ELEMENT,n((t===void 0?u:a(t,u))-g))})},2974:function(h,O,e){var r=e(7854),n=e(2104),a=e(260),s=e(7293),i=e(206),o=r.Int8Array,t=a.aTypedArray,l=a.exportTypedArrayMethod,u=[].toLocaleString,g=!!o&&s(function(){u.call(new o(1))});l("toLocaleString",function(){return n(u,g?i(t(this)):t(this),i(arguments))},s(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!s(function(){o.prototype.toLocaleString.call([1,2])}))},5016:function(h,O,e){var r=e(260).exportTypedArrayMethod,n=e(7293),a=e(7854),s=e(1702),i=a.Uint8Array,o=i&&i.prototype||{},t=[].toString,l=s([].join);n(function(){t.call({})})&&(t=function(){return l(this)});var u=o.toString!=t;r("toString",t,u)},2472:function(h,O,e){e(9843)("Uint8",function(r){return function(n,a,s){return r(this,n,a,s)}})},4747:function(h,O,e){var r=e(7854),n=e(8324),a=e(8509),s=e(8533),i=e(8880),o=function(l){if(l&&l.forEach!==s)try{i(l,"forEach",s)}catch{l.forEach=s}};for(var t in n)n[t]&&o(r[t]&&r[t].prototype);o(a)},3948:function(h,O,e){var r=e(7854),n=e(8324),a=e(8509),s=e(6992),i=e(8880),o=e(5112),t=o("iterator"),l=o("toStringTag"),u=s.values,g=function(d,p){if(d){if(d[t]!==u)try{i(d,t,u)}catch{d[t]=u}if(d[l]||i(d,l,p),n[p]){for(var m in s)if(d[m]!==s[m])try{i(d,m,s[m])}catch{d[m]=s[m]}}}};for(var f in n)g(r[f]&&r[f].prototype,f);g(a,"DOMTokenList")},6815:function(h,O,e){var r=e(2109),n=e(7854),a=e(7152)(n.setInterval,!0);r({global:!0,bind:!0,forced:n.setInterval!==a},{setInterval:a})},8417:function(h,O,e){var r=e(2109),n=e(7854),a=e(7152)(n.setTimeout,!0);r({global:!0,bind:!0,forced:n.setTimeout!==a},{setTimeout:a})},2564:function(h,O,e){e(6815),e(8417)},5556:function(h,O,e){e(6992);var r=e(2109),n=e(7854),a=e(6916),s=e(1702),i=e(9781),o=e(5143),t=e(8052),l=e(7045),u=e(9190),g=e(8003),f=e(3061),d=e(9909),p=e(5787),m=e(614),T=e(2597),c=e(9974),I=e(648),v=e(9670),N=e(111),k=e(1340),A=e(30),R=e(9114),y=e(4121),U=e(1246),L=e(8053),j=e(5112),H=e(4362),ee=j("iterator"),F="URLSearchParams",K="URLSearchParamsIterator",Z=d.set,oe=d.getterFor(F),le=d.getterFor(K),de=Object.getOwnPropertyDescriptor,Ee=function(G){if(!i)return n[G];var te=de(n,G);return te&&te.value},re=Ee("fetch"),z=Ee("Request"),ue=Ee("Headers"),Q=z&&z.prototype,ne=ue&&ue.prototype,fe=n.RegExp,Y=n.TypeError,Oe=n.decodeURIComponent,Ae=n.encodeURIComponent,Be=s("".charAt),Ce=s([].join),Ue=s([].push),ke=s("".replace),je=s([].shift),Ge=s([].splice),xe=s("".split),De=s("".slice),ge=/\+/g,be=Array(4),Ie=function(G){return be[G-1]||(be[G-1]=fe("((?:%[\\da-f]{2}){"+G+"})","gi"))},Se=function(G){try{return Oe(G)}catch{return G}},D=function(G){var te=ke(G,ge," "),ce=4;try{return Oe(te)}catch{for(;ce;)te=ke(te,Ie(ce--),Se);return te}},q=/[!'()~]|%20/g,w={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},X=function(G){return w[G]},E=function(G){return ke(Ae(G),q,X)},b=f(function(G,te){Z(this,{type:K,iterator:y(oe(G).entries),kind:te})},"Iterator",function(){var G=le(this),te=G.kind,ce=G.iterator.next(),ye=ce.value;return ce.done||(ce.value=te==="keys"?ye.key:te==="values"?ye.value:[ye.key,ye.value]),ce},!0),x=function(G){this.entries=[],this.url=null,G!==void 0&&(N(G)?this.parseObject(G):this.parseQuery(typeof G=="string"?Be(G,0)==="?"?De(G,1):G:k(G)))};x.prototype={type:F,bindURL:function(G){this.url=G,this.update()},parseObject:function(G){var te,ce,ye,B,J,ae,ie,Me=U(G);if(Me)for(ce=(te=y(G,Me)).next;!(ye=a(ce,te)).done;){if(J=(B=y(v(ye.value))).next,(ae=a(J,B)).done||(ie=a(J,B)).done||!a(J,B).done)throw Y("Expected sequence with length 2");Ue(this.entries,{key:k(ae.value),value:k(ie.value)})}else for(var Ze in G)T(G,Ze)&&Ue(this.entries,{key:Ze,value:k(G[Ze])})},parseQuery:function(G){if(G)for(var te,ce,ye=xe(G,"&"),B=0;B<ye.length;)(te=ye[B++]).length&&(ce=xe(te,"="),Ue(this.entries,{key:D(je(ce)),value:D(Ce(ce,"="))}))},serialize:function(){for(var G,te=this.entries,ce=[],ye=0;ye<te.length;)G=te[ye++],Ue(ce,E(G.key)+"="+E(G.value));return Ce(ce,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var C=function(){p(this,P);var G=arguments.length>0?arguments[0]:void 0,te=Z(this,new x(G));i||(this.length=te.entries.length)},P=C.prototype;if(u(P,{append:function(G,te){L(arguments.length,2);var ce=oe(this);Ue(ce.entries,{key:k(G),value:k(te)}),i||this.length++,ce.updateURL()},delete:function(G){L(arguments.length,1);for(var te=oe(this),ce=te.entries,ye=k(G),B=0;B<ce.length;)ce[B].key===ye?Ge(ce,B,1):B++;i||(this.length=ce.length),te.updateURL()},get:function(G){L(arguments.length,1);for(var te=oe(this).entries,ce=k(G),ye=0;ye<te.length;ye++)if(te[ye].key===ce)return te[ye].value;return null},getAll:function(G){L(arguments.length,1);for(var te=oe(this).entries,ce=k(G),ye=[],B=0;B<te.length;B++)te[B].key===ce&&Ue(ye,te[B].value);return ye},has:function(G){L(arguments.length,1);for(var te=oe(this).entries,ce=k(G),ye=0;ye<te.length;)if(te[ye++].key===ce)return!0;return!1},set:function(G,te){L(arguments.length,1);for(var ce,ye=oe(this),B=ye.entries,J=!1,ae=k(G),ie=k(te),Me=0;Me<B.length;Me++)(ce=B[Me]).key===ae&&(J?Ge(B,Me--,1):(J=!0,ce.value=ie));J||Ue(B,{key:ae,value:ie}),i||(this.length=B.length),ye.updateURL()},sort:function(){var G=oe(this);H(G.entries,function(te,ce){return te.key>ce.key?1:-1}),G.updateURL()},forEach:function(G){for(var te,ce=oe(this).entries,ye=c(G,arguments.length>1?arguments[1]:void 0),B=0;B<ce.length;)ye((te=ce[B++]).value,te.key,this)},keys:function(){return new b(this,"keys")},values:function(){return new b(this,"values")},entries:function(){return new b(this,"entries")}},{enumerable:!0}),t(P,ee,P.entries,{name:"entries"}),t(P,"toString",function(){return oe(this).serialize()},{enumerable:!0}),i&&l(P,"size",{get:function(){return oe(this).entries.length},configurable:!0,enumerable:!0}),g(C,F),r({global:!0,constructor:!0,forced:!o},{URLSearchParams:C}),!o&&m(ue)){var _=s(ne.has),S=s(ne.set),W=function(G){if(N(G)){var te,ce=G.body;if(I(ce)===F)return te=G.headers?new ue(G.headers):new ue,_(te,"content-type")||S(te,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(G,{body:R(0,k(ce)),headers:R(0,te)})}return G};if(m(re)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(G){return re(G,arguments.length>1?W(arguments[1]):{})}}),m(z)){var M=function(G){return p(this,Q),new z(G,arguments.length>1?W(arguments[1]):{})};Q.constructor=M,M.prototype=Q,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:M})}}h.exports={URLSearchParams:C,getState:oe}},1637:function(h,O,e){e(5556)},8789:function(h,O,e){e(8783);var r,n=e(2109),a=e(9781),s=e(5143),i=e(7854),o=e(9974),t=e(1702),l=e(8052),u=e(7045),g=e(5787),f=e(2597),d=e(1574),p=e(8457),m=e(1589),T=e(8710).codeAt,c=e(3197),I=e(1340),v=e(8003),N=e(8053),k=e(5556),A=e(9909),R=A.set,y=A.getterFor("URL"),U=k.URLSearchParams,L=k.getState,j=i.URL,H=i.TypeError,ee=i.parseInt,F=Math.floor,K=Math.pow,Z=t("".charAt),oe=t(/./.exec),le=t([].join),de=t(1 .toString),Ee=t([].pop),re=t([].push),z=t("".replace),ue=t([].shift),Q=t("".split),ne=t("".slice),fe=t("".toLowerCase),Y=t([].unshift),Oe="Invalid scheme",Ae="Invalid host",Be="Invalid port",Ce=/[a-z]/i,Ue=/[\d+-.a-z]/i,ke=/\d/,je=/^0x/i,Ge=/^[0-7]+$/,xe=/^\d+$/,De=/^[\da-f]+$/i,ge=/[\0\t\n\r #%/:<>?@[\\\]^|]/,be=/[\0\t\n\r #/:<>?@[\\\]^|]/,Ie=/^[\u0000-\u0020]+/,Se=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,D=/[\t\n\r]/g,q=function(se){var _e,ve,Je,me;if(typeof se=="number"){for(_e=[],ve=0;ve<4;ve++)Y(_e,se%256),se=F(se/256);return le(_e,".")}if(typeof se=="object"){for(_e="",Je=function(et){for(var Qe=null,$e=1,he=null,Ne=0,nt=0;nt<8;nt++)et[nt]!==0?(Ne>$e&&(Qe=he,$e=Ne),he=null,Ne=0):(he===null&&(he=nt),++Ne);return Ne>$e&&(Qe=he,$e=Ne),Qe}(se),ve=0;ve<8;ve++)me&&se[ve]===0||(me&&(me=!1),Je===ve?(_e+=ve?":":"::",me=!0):(_e+=de(se[ve],16),ve<7&&(_e+=":")));return"["+_e+"]"}return se},w={},X=d({},w,{" ":1,'"':1,"<":1,">":1,"`":1}),E=d({},X,{"#":1,"?":1,"{":1,"}":1}),b=d({},E,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),x=function(se,_e){var ve=T(se,0);return ve>32&&ve<127&&!f(_e,se)?se:encodeURIComponent(se)},C={ftp:21,file:null,http:80,https:443,ws:80,wss:443},P=function(se,_e){var ve;return se.length==2&&oe(Ce,Z(se,0))&&((ve=Z(se,1))==":"||!_e&&ve=="|")},_=function(se){var _e;return se.length>1&&P(ne(se,0,2))&&(se.length==2||(_e=Z(se,2))==="/"||_e==="\\"||_e==="?"||_e==="#")},S=function(se){return se==="."||fe(se)==="%2e"},W={},M={},G={},te={},ce={},ye={},B={},J={},ae={},ie={},Me={},Ze={},Re={},Ke={},pe={},Xe={},qe={},ze={},it={},at={},V={},Pe=function(se,_e,ve){var Je,me,et,Qe=I(se);if(_e){if(me=this.parse(Qe))throw H(me);this.searchParams=null}else{if(ve!==void 0&&(Je=new Pe(ve,!0)),me=this.parse(Qe,null,Je))throw H(me);(et=L(new U)).bindURL(this),this.searchParams=et}};Pe.prototype={type:"URL",parse:function(se,_e,ve){var Je,me,et,Qe,$e,he=this,Ne=_e||W,nt=0,We="",Ve=!1,Ye=!1,rt=!1;for(se=I(se),_e||(he.scheme="",he.username="",he.password="",he.host=null,he.port=null,he.path=[],he.query=null,he.fragment=null,he.cannotBeABaseURL=!1,se=z(se,Ie,""),se=z(se,Se,"$1")),se=z(se,D,""),Je=p(se);nt<=Je.length;){switch(me=Je[nt],Ne){case W:if(!me||!oe(Ce,me)){if(_e)return Oe;Ne=G;continue}We+=fe(me),Ne=M;break;case M:if(me&&(oe(Ue,me)||me=="+"||me=="-"||me=="."))We+=fe(me);else{if(me!=":"){if(_e)return Oe;We="",Ne=G,nt=0;continue}if(_e&&(he.isSpecial()!=f(C,We)||We=="file"&&(he.includesCredentials()||he.port!==null)||he.scheme=="file"&&!he.host))return;if(he.scheme=We,_e)return void(he.isSpecial()&&C[he.scheme]==he.port&&(he.port=null));We="",he.scheme=="file"?Ne=Ke:he.isSpecial()&&ve&&ve.scheme==he.scheme?Ne=te:he.isSpecial()?Ne=J:Je[nt+1]=="/"?(Ne=ce,nt++):(he.cannotBeABaseURL=!0,re(he.path,""),Ne=it)}break;case G:if(!ve||ve.cannotBeABaseURL&&me!="#")return Oe;if(ve.cannotBeABaseURL&&me=="#"){he.scheme=ve.scheme,he.path=m(ve.path),he.query=ve.query,he.fragment="",he.cannotBeABaseURL=!0,Ne=V;break}Ne=ve.scheme=="file"?Ke:ye;continue;case te:if(me!="/"||Je[nt+1]!="/"){Ne=ye;continue}Ne=ae,nt++;break;case ce:if(me=="/"){Ne=ie;break}Ne=ze;continue;case ye:if(he.scheme=ve.scheme,me==r)he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.query=ve.query;else if(me=="/"||me=="\\"&&he.isSpecial())Ne=B;else if(me=="?")he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.query="",Ne=at;else{if(me!="#"){he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.path.length--,Ne=ze;continue}he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,he.path=m(ve.path),he.query=ve.query,he.fragment="",Ne=V}break;case B:if(!he.isSpecial()||me!="/"&&me!="\\"){if(me!="/"){he.username=ve.username,he.password=ve.password,he.host=ve.host,he.port=ve.port,Ne=ze;continue}Ne=ie}else Ne=ae;break;case J:if(Ne=ae,me!="/"||Z(We,nt+1)!="/")continue;nt++;break;case ae:if(me!="/"&&me!="\\"){Ne=ie;continue}break;case ie:if(me=="@"){Ve&&(We="%40"+We),Ve=!0,et=p(We);for(var ot=0;ot<et.length;ot++){var st=et[ot];if(st!=":"||rt){var lt=x(st,b);rt?he.password+=lt:he.username+=lt}else rt=!0}We=""}else if(me==r||me=="/"||me=="?"||me=="#"||me=="\\"&&he.isSpecial()){if(Ve&&We=="")return"Invalid authority";nt-=p(We).length+1,We="",Ne=Me}else We+=me;break;case Me:case Ze:if(_e&&he.scheme=="file"){Ne=Xe;continue}if(me!=":"||Ye){if(me==r||me=="/"||me=="?"||me=="#"||me=="\\"&&he.isSpecial()){if(he.isSpecial()&&We=="")return Ae;if(_e&&We==""&&(he.includesCredentials()||he.port!==null))return;if(Qe=he.parseHost(We))return Qe;if(We="",Ne=qe,_e)return;continue}me=="["?Ye=!0:me=="]"&&(Ye=!1),We+=me}else{if(We=="")return Ae;if(Qe=he.parseHost(We))return Qe;if(We="",Ne=Re,_e==Ze)return}break;case Re:if(!oe(ke,me)){if(me==r||me=="/"||me=="?"||me=="#"||me=="\\"&&he.isSpecial()||_e){if(We!=""){var ut=ee(We,10);if(ut>65535)return Be;he.port=he.isSpecial()&&ut===C[he.scheme]?null:ut,We=""}if(_e)return;Ne=qe;continue}return Be}We+=me;break;case Ke:if(he.scheme="file",me=="/"||me=="\\")Ne=pe;else{if(!ve||ve.scheme!="file"){Ne=ze;continue}if(me==r)he.host=ve.host,he.path=m(ve.path),he.query=ve.query;else if(me=="?")he.host=ve.host,he.path=m(ve.path),he.query="",Ne=at;else{if(me!="#"){_(le(m(Je,nt),""))||(he.host=ve.host,he.path=m(ve.path),he.shortenPath()),Ne=ze;continue}he.host=ve.host,he.path=m(ve.path),he.query=ve.query,he.fragment="",Ne=V}}break;case pe:if(me=="/"||me=="\\"){Ne=Xe;break}ve&&ve.scheme=="file"&&!_(le(m(Je,nt),""))&&(P(ve.path[0],!0)?re(he.path,ve.path[0]):he.host=ve.host),Ne=ze;continue;case Xe:if(me==r||me=="/"||me=="\\"||me=="?"||me=="#"){if(!_e&&P(We))Ne=ze;else if(We==""){if(he.host="",_e)return;Ne=qe}else{if(Qe=he.parseHost(We))return Qe;if(he.host=="localhost"&&(he.host=""),_e)return;We="",Ne=qe}continue}We+=me;break;case qe:if(he.isSpecial()){if(Ne=ze,me!="/"&&me!="\\")continue}else if(_e||me!="?")if(_e||me!="#"){if(me!=r&&(Ne=ze,me!="/"))continue}else he.fragment="",Ne=V;else he.query="",Ne=at;break;case ze:if(me==r||me=="/"||me=="\\"&&he.isSpecial()||!_e&&(me=="?"||me=="#")){if(($e=fe($e=We))===".."||$e==="%2e."||$e===".%2e"||$e==="%2e%2e"?(he.shortenPath(),me=="/"||me=="\\"&&he.isSpecial()||re(he.path,"")):S(We)?me=="/"||me=="\\"&&he.isSpecial()||re(he.path,""):(he.scheme=="file"&&!he.path.length&&P(We)&&(he.host&&(he.host=""),We=Z(We,0)+":"),re(he.path,We)),We="",he.scheme=="file"&&(me==r||me=="?"||me=="#"))for(;he.path.length>1&&he.path[0]==="";)ue(he.path);me=="?"?(he.query="",Ne=at):me=="#"&&(he.fragment="",Ne=V)}else We+=x(me,E);break;case it:me=="?"?(he.query="",Ne=at):me=="#"?(he.fragment="",Ne=V):me!=r&&(he.path[0]+=x(me,w));break;case at:_e||me!="#"?me!=r&&(me=="'"&&he.isSpecial()?he.query+="%27":he.query+=me=="#"?"%23":x(me,w)):(he.fragment="",Ne=V);break;case V:me!=r&&(he.fragment+=x(me,X))}nt++}},parseHost:function(se){var _e,ve,Je;if(Z(se,0)=="["){if(Z(se,se.length-1)!="]"||(_e=function(me){var et,Qe,$e,he,Ne,nt,We,Ve=[0,0,0,0,0,0,0,0],Ye=0,rt=null,ot=0,st=function(){return Z(me,ot)};if(st()==":"){if(Z(me,1)!=":")return;ot+=2,rt=++Ye}for(;st();){if(Ye==8)return;if(st()!=":"){for(et=Qe=0;Qe<4&&oe(De,st());)et=16*et+ee(st(),16),ot++,Qe++;if(st()=="."){if(Qe==0||(ot-=Qe,Ye>6))return;for($e=0;st();){if(he=null,$e>0){if(!(st()=="."&&$e<4))return;ot++}if(!oe(ke,st()))return;for(;oe(ke,st());){if(Ne=ee(st(),10),he===null)he=Ne;else{if(he==0)return;he=10*he+Ne}if(he>255)return;ot++}Ve[Ye]=256*Ve[Ye]+he,++$e!=2&&$e!=4||Ye++}if($e!=4)return;break}if(st()==":"){if(ot++,!st())return}else if(st())return;Ve[Ye++]=et}else{if(rt!==null)return;ot++,rt=++Ye}}if(rt!==null)for(nt=Ye-rt,Ye=7;Ye!=0&&nt>0;)We=Ve[Ye],Ve[Ye--]=Ve[rt+nt-1],Ve[rt+--nt]=We;else if(Ye!=8)return;return Ve}(ne(se,1,-1)),!_e))return Ae;this.host=_e}else if(this.isSpecial()){if(se=c(se),oe(ge,se)||(_e=function(me){var et,Qe,$e,he,Ne,nt,We,Ve=Q(me,".");if(Ve.length&&Ve[Ve.length-1]==""&&Ve.length--,(et=Ve.length)>4)return me;for(Qe=[],$e=0;$e<et;$e++){if((he=Ve[$e])=="")return me;if(Ne=10,he.length>1&&Z(he,0)=="0"&&(Ne=oe(je,he)?16:8,he=ne(he,Ne==8?1:2)),he==="")nt=0;else{if(!oe(Ne==10?xe:Ne==8?Ge:De,he))return me;nt=ee(he,Ne)}re(Qe,nt)}for($e=0;$e<et;$e++)if(nt=Qe[$e],$e==et-1){if(nt>=K(256,5-et))return null}else if(nt>255)return null;for(We=Ee(Qe),$e=0;$e<Qe.length;$e++)We+=Qe[$e]*K(256,3-$e);return We}(se),_e===null))return Ae;this.host=_e}else{if(oe(be,se))return Ae;for(_e="",ve=p(se),Je=0;Je<ve.length;Je++)_e+=x(ve[Je],w);this.host=_e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return f(C,this.scheme)},shortenPath:function(){var se=this.path,_e=se.length;!_e||this.scheme=="file"&&_e==1&&P(se[0],!0)||se.length--},serialize:function(){var se=this,_e=se.scheme,ve=se.username,Je=se.password,me=se.host,et=se.port,Qe=se.path,$e=se.query,he=se.fragment,Ne=_e+":";return me!==null?(Ne+="//",se.includesCredentials()&&(Ne+=ve+(Je?":"+Je:"")+"@"),Ne+=q(me),et!==null&&(Ne+=":"+et)):_e=="file"&&(Ne+="//"),Ne+=se.cannotBeABaseURL?Qe[0]:Qe.length?"/"+le(Qe,"/"):"",$e!==null&&(Ne+="?"+$e),he!==null&&(Ne+="#"+he),Ne},setHref:function(se){var _e=this.parse(se);if(_e)throw H(_e);this.searchParams.update()},getOrigin:function(){var se=this.scheme,_e=this.port;if(se=="blob")try{return new Te(se.path[0]).origin}catch{return"null"}return se!="file"&&this.isSpecial()?se+"://"+q(this.host)+(_e!==null?":"+_e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(se){this.parse(I(se)+":",W)},getUsername:function(){return this.username},setUsername:function(se){var _e=p(I(se));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var ve=0;ve<_e.length;ve++)this.username+=x(_e[ve],b)}},getPassword:function(){return this.password},setPassword:function(se){var _e=p(I(se));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var ve=0;ve<_e.length;ve++)this.password+=x(_e[ve],b)}},getHost:function(){var se=this.host,_e=this.port;return se===null?"":_e===null?q(se):q(se)+":"+_e},setHost:function(se){this.cannotBeABaseURL||this.parse(se,Me)},getHostname:function(){var se=this.host;return se===null?"":q(se)},setHostname:function(se){this.cannotBeABaseURL||this.parse(se,Ze)},getPort:function(){var se=this.port;return se===null?"":I(se)},setPort:function(se){this.cannotHaveUsernamePasswordPort()||((se=I(se))==""?this.port=null:this.parse(se,Re))},getPathname:function(){var se=this.path;return this.cannotBeABaseURL?se[0]:se.length?"/"+le(se,"/"):""},setPathname:function(se){this.cannotBeABaseURL||(this.path=[],this.parse(se,qe))},getSearch:function(){var se=this.query;return se?"?"+se:""},setSearch:function(se){(se=I(se))==""?this.query=null:(Z(se,0)=="?"&&(se=ne(se,1)),this.query="",this.parse(se,at)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var se=this.fragment;return se?"#"+se:""},setHash:function(se){(se=I(se))!=""?(Z(se,0)=="#"&&(se=ne(se,1)),this.fragment="",this.parse(se,V)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Te=function(se){var _e=g(this,we),ve=N(arguments.length,1)>1?arguments[1]:void 0,Je=R(_e,new Pe(se,!1,ve));a||(_e.href=Je.serialize(),_e.origin=Je.getOrigin(),_e.protocol=Je.getProtocol(),_e.username=Je.getUsername(),_e.password=Je.getPassword(),_e.host=Je.getHost(),_e.hostname=Je.getHostname(),_e.port=Je.getPort(),_e.pathname=Je.getPathname(),_e.search=Je.getSearch(),_e.searchParams=Je.getSearchParams(),_e.hash=Je.getHash())},we=Te.prototype,Le=function(se,_e){return{get:function(){return y(this)[se]()},set:_e&&function(ve){return y(this)[_e](ve)},configurable:!0,enumerable:!0}};if(a&&(u(we,"href",Le("serialize","setHref")),u(we,"origin",Le("getOrigin")),u(we,"protocol",Le("getProtocol","setProtocol")),u(we,"username",Le("getUsername","setUsername")),u(we,"password",Le("getPassword","setPassword")),u(we,"host",Le("getHost","setHost")),u(we,"hostname",Le("getHostname","setHostname")),u(we,"port",Le("getPort","setPort")),u(we,"pathname",Le("getPathname","setPathname")),u(we,"search",Le("getSearch","setSearch")),u(we,"searchParams",Le("getSearchParams")),u(we,"hash",Le("getHash","setHash"))),l(we,"toJSON",function(){return y(this).serialize()},{enumerable:!0}),l(we,"toString",function(){return y(this).serialize()},{enumerable:!0}),j){var Fe=j.createObjectURL,He=j.revokeObjectURL;Fe&&l(Te,"createObjectURL",o(Fe,j)),He&&l(Te,"revokeObjectURL",o(He,j))}v(Te,"URL"),n({global:!0,constructor:!0,forced:!s,sham:!a},{URL:Te})},285:function(h,O,e){e(8789)},3720:function(h){h.exports=e;var O=null;try{O=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(y,U,L){this.low=0|y,this.high=0|U,this.unsigned=!!L}function r(y){return(y&&y.__isLong__)===!0}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=r;var n={},a={};function s(y,U){var L,j,H;return U?(H=0<=(y>>>=0)&&y<256)&&(j=a[y])?j:(L=o(y,(0|y)<0?-1:0,!0),H&&(a[y]=L),L):(H=-128<=(y|=0)&&y<128)&&(j=n[y])?j:(L=o(y,y<0?-1:0,!1),H&&(n[y]=L),L)}function i(y,U){if(isNaN(y))return U?T:m;if(U){if(y<0)return T;if(y>=f)return k}else{if(y<=-d)return A;if(y+1>=d)return N}return y<0?i(-y,U).neg():o(y%g|0,y/g|0,U)}function o(y,U,L){return new e(y,U,L)}e.fromInt=s,e.fromNumber=i,e.fromBits=o;var t=Math.pow;function l(y,U,L){if(y.length===0)throw Error("empty string");if(y==="NaN"||y==="Infinity"||y==="+Infinity"||y==="-Infinity")return m;if(typeof U=="number"?(L=U,U=!1):U=!!U,(L=L||10)<2||36<L)throw RangeError("radix");var j;if((j=y.indexOf("-"))>0)throw Error("interior hyphen");if(j===0)return l(y.substring(1),U,L).neg();for(var H=i(t(L,8)),ee=m,F=0;F<y.length;F+=8){var K=Math.min(8,y.length-F),Z=parseInt(y.substring(F,F+K),L);if(K<8){var oe=i(t(L,K));ee=ee.mul(oe).add(i(Z))}else ee=(ee=ee.mul(H)).add(i(Z))}return ee.unsigned=U,ee}function u(y,U){return typeof y=="number"?i(y,U):typeof y=="string"?l(y,U):o(y.low,y.high,typeof U=="boolean"?U:y.unsigned)}e.fromString=l,e.fromValue=u;var g=4294967296,f=g*g,d=f/2,p=s(1<<24),m=s(0);e.ZERO=m;var T=s(0,!0);e.UZERO=T;var c=s(1);e.ONE=c;var I=s(1,!0);e.UONE=I;var v=s(-1);e.NEG_ONE=v;var N=o(-1,2147483647,!1);e.MAX_VALUE=N;var k=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=k;var A=o(0,-2147483648,!1);e.MIN_VALUE=A;var R=e.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},R.toString=function(y){if((y=y||10)<2||36<y)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(A)){var U=i(y),L=this.div(U),j=L.mul(U).sub(this);return L.toString(y)+j.toInt().toString(y)}return"-"+this.neg().toString(y)}for(var H=i(t(y,6),this.unsigned),ee=this,F="";;){var K=ee.div(H),Z=(ee.sub(K.mul(H)).toInt()>>>0).toString(y);if((ee=K).isZero())return Z+F;for(;Z.length<6;)Z="0"+Z;F=""+Z+F}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var y=this.high!=0?this.high:this.low,U=31;U>0&&!(y&1<<U);U--);return this.high!=0?U+33:U+1},R.isZero=function(){return this.high===0&&this.low===0},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return(1&this.low)==1},R.isEven=function(){return(1&this.low)==0},R.equals=function(y){return r(y)||(y=u(y)),(this.unsigned===y.unsigned||this.high>>>31!=1||y.high>>>31!=1)&&this.high===y.high&&this.low===y.low},R.eq=R.equals,R.notEquals=function(y){return!this.eq(y)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(y){return this.comp(y)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(y){return this.comp(y)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(y){return this.comp(y)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(y){return this.comp(y)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(y){if(r(y)||(y=u(y)),this.eq(y))return 0;var U=this.isNegative(),L=y.isNegative();return U&&!L?-1:!U&&L?1:this.unsigned?y.high>>>0>this.high>>>0||y.high===this.high&&y.low>>>0>this.low>>>0?-1:1:this.sub(y).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(c)},R.neg=R.negate,R.add=function(y){r(y)||(y=u(y));var U=this.high>>>16,L=65535&this.high,j=this.low>>>16,H=65535&this.low,ee=y.high>>>16,F=65535&y.high,K=y.low>>>16,Z=0,oe=0,le=0,de=0;return le+=(de+=H+(65535&y.low))>>>16,oe+=(le+=j+K)>>>16,Z+=(oe+=L+F)>>>16,Z+=U+ee,o((le&=65535)<<16|(de&=65535),(Z&=65535)<<16|(oe&=65535),this.unsigned)},R.subtract=function(y){return r(y)||(y=u(y)),this.add(y.neg())},R.sub=R.subtract,R.multiply=function(y){if(this.isZero())return m;if(r(y)||(y=u(y)),O)return o(O.mul(this.low,this.high,y.low,y.high),O.get_high(),this.unsigned);if(y.isZero())return m;if(this.eq(A))return y.isOdd()?A:m;if(y.eq(A))return this.isOdd()?A:m;if(this.isNegative())return y.isNegative()?this.neg().mul(y.neg()):this.neg().mul(y).neg();if(y.isNegative())return this.mul(y.neg()).neg();if(this.lt(p)&&y.lt(p))return i(this.toNumber()*y.toNumber(),this.unsigned);var U=this.high>>>16,L=65535&this.high,j=this.low>>>16,H=65535&this.low,ee=y.high>>>16,F=65535&y.high,K=y.low>>>16,Z=65535&y.low,oe=0,le=0,de=0,Ee=0;return de+=(Ee+=H*Z)>>>16,le+=(de+=j*Z)>>>16,de&=65535,le+=(de+=H*K)>>>16,oe+=(le+=L*Z)>>>16,le&=65535,oe+=(le+=j*K)>>>16,le&=65535,oe+=(le+=H*F)>>>16,oe+=U*Z+L*K+j*F+H*ee,o((de&=65535)<<16|(Ee&=65535),(oe&=65535)<<16|(le&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(y){if(r(y)||(y=u(y)),y.isZero())throw Error("division by zero");var U,L,j;if(O)return this.unsigned||this.high!==-2147483648||y.low!==-1||y.high!==-1?o((this.unsigned?O.div_u:O.div_s)(this.low,this.high,y.low,y.high),O.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?T:m;if(this.unsigned){if(y.unsigned||(y=y.toUnsigned()),y.gt(this))return T;if(y.gt(this.shru(1)))return I;j=T}else{if(this.eq(A))return y.eq(c)||y.eq(v)?A:y.eq(A)?c:(U=this.shr(1).div(y).shl(1)).eq(m)?y.isNegative()?c:v:(L=this.sub(y.mul(U)),j=U.add(L.div(y)));if(y.eq(A))return this.unsigned?T:m;if(this.isNegative())return y.isNegative()?this.neg().div(y.neg()):this.neg().div(y).neg();if(y.isNegative())return this.div(y.neg()).neg();j=m}for(L=this;L.gte(y);){U=Math.max(1,Math.floor(L.toNumber()/y.toNumber()));for(var H=Math.ceil(Math.log(U)/Math.LN2),ee=H<=48?1:t(2,H-48),F=i(U),K=F.mul(y);K.isNegative()||K.gt(L);)K=(F=i(U-=ee,this.unsigned)).mul(y);F.isZero()&&(F=c),j=j.add(F),L=L.sub(K)}return j},R.div=R.divide,R.modulo=function(y){return r(y)||(y=u(y)),O?o((this.unsigned?O.rem_u:O.rem_s)(this.low,this.high,y.low,y.high),O.get_high(),this.unsigned):this.sub(this.div(y).mul(y))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return o(~this.low,~this.high,this.unsigned)},R.and=function(y){return r(y)||(y=u(y)),o(this.low&y.low,this.high&y.high,this.unsigned)},R.or=function(y){return r(y)||(y=u(y)),o(this.low|y.low,this.high|y.high,this.unsigned)},R.xor=function(y){return r(y)||(y=u(y)),o(this.low^y.low,this.high^y.high,this.unsigned)},R.shiftLeft=function(y){return r(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?o(this.low<<y,this.high<<y|this.low>>>32-y,this.unsigned):o(0,this.low<<y-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(y){return r(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?o(this.low>>>y|this.high<<32-y,this.high>>y,this.unsigned):o(this.high>>y-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(y){if(r(y)&&(y=y.toInt()),(y&=63)==0)return this;var U=this.high;return y<32?o(this.low>>>y|U<<32-y,U>>>y,this.unsigned):o(y===32?U:U>>>y-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},R.toBytes=function(y){return y?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var y=this.high,U=this.low;return[255&U,U>>>8&255,U>>>16&255,U>>>24,255&y,y>>>8&255,y>>>16&255,y>>>24]},R.toBytesBE=function(){var y=this.high,U=this.low;return[y>>>24,y>>>16&255,y>>>8&255,255&y,U>>>24,U>>>16&255,U>>>8&255,255&U]},e.fromBytes=function(y,U,L){return L?e.fromBytesLE(y,U):e.fromBytesBE(y,U)},e.fromBytesLE=function(y,U){return new e(y[0]|y[1]<<8|y[2]<<16|y[3]<<24,y[4]|y[5]<<8|y[6]<<16|y[7]<<24,U)},e.fromBytesBE=function(y,U){return new e(y[4]<<24|y[5]<<16|y[6]<<8|y[7],y[0]<<24|y[1]<<16|y[2]<<8|y[3],U)}},3281:function(h,O,e){h.exports=e(9050)},2967:function(h){h.exports=r;var O,e=/\/|\./;function r(n,a){e.test(n)||(n="google/protobuf/"+n+".proto",a={nested:{google:{nested:{protobuf:{nested:a}}}}}),r[n]=a}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:O={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:O}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(n){return r[n]||null}},3996:function(h,O,e){var r=O,n=e(7025),a=e(9935);function s(o,t,l,u){if(t.resolvedType)if(t.resolvedType instanceof n){o("switch(d%s){",u);for(var g=t.resolvedType.values,f=Object.keys(g),d=0;d<f.length;++d)t.repeated&&g[f[d]]===t.typeDefault&&o("default:"),o("case%j:",f[d])("case %i:",g[f[d]])("m%s=%j",u,g[f[d]])("break");o("}")}else o('if(typeof d%s!=="object")',u)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",u,l,u);else{var p=!1;switch(t.type){case"double":case"float":o("m%s=Number(d%s)",u,u);break;case"uint32":case"fixed32":o("m%s=d%s>>>0",u,u);break;case"int32":case"sint32":case"sfixed32":o("m%s=d%s|0",u,u);break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",u,u,p)('else if(typeof d%s==="string")',u)("m%s=parseInt(d%s,10)",u,u)('else if(typeof d%s==="number")',u)("m%s=d%s",u,u)('else if(typeof d%s==="object")',u)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",u,u,u,p?"true":"");break;case"bytes":o('if(typeof d%s==="string")',u)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",u,u,u)("else if(d%s.length)",u)("m%s=d%s",u,u);break;case"string":o("m%s=String(d%s)",u,u);break;case"bool":o("m%s=Boolean(d%s)",u,u)}}return o}function i(o,t,l,u){if(t.resolvedType)t.resolvedType instanceof n?o("d%s=o.enums===String?types[%i].values[m%s]:m%s",u,l,u,u):o("d%s=types[%i].toObject(m%s,o)",u,l,u);else{var g=!1;switch(t.type){case"double":case"float":o("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",u,u,u,u);break;case"uint64":g=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o('if(typeof m%s==="number")',u)("d%s=o.longs===String?String(m%s):m%s",u,u,u)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",u,u,u,u,g?"true":"",u);break;case"bytes":o("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",u,u,u,u,u);break;default:o("d%s=m%s",u,u)}}return o}r.fromObject=function(o){var t=o.fieldsArray,l=a.codegen(["d"],o.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return l("return new this.ctor");l("var m=new this.ctor");for(var u=0;u<t.length;++u){var g=t[u].resolve(),f=a.safeProp(g.name);g.map?(l("if(d%s){",f)('if(typeof d%s!=="object")',f)("throw TypeError(%j)",g.fullName+": object expected")("m%s={}",f)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",f),s(l,g,u,f+"[ks[i]]")("}")("}")):g.repeated?(l("if(d%s){",f)("if(!Array.isArray(d%s))",f)("throw TypeError(%j)",g.fullName+": array expected")("m%s=[]",f)("for(var i=0;i<d%s.length;++i){",f),s(l,g,u,f+"[i]")("}")("}")):(g.resolvedType instanceof n||l("if(d%s!=null){",f),s(l,g,u,f),g.resolvedType instanceof n||l("}"))}return l("return m")},r.toObject=function(o){var t=o.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var l=a.codegen(["m","o"],o.name+"$toObject")("if(!o)")("o={}")("var d={}"),u=[],g=[],f=[],d=0;d<t.length;++d)t[d].partOf||(t[d].resolve().repeated?u:t[d].map?g:f).push(t[d]);if(u.length){for(l("if(o.arrays||o.defaults){"),d=0;d<u.length;++d)l("d%s=[]",a.safeProp(u[d].name));l("}")}if(g.length){for(l("if(o.objects||o.defaults){"),d=0;d<g.length;++d)l("d%s={}",a.safeProp(g[d].name));l("}")}if(f.length){for(l("if(o.defaults){"),d=0;d<f.length;++d){var p=f[d],m=a.safeProp(p.name);if(p.resolvedType instanceof n)l("d%s=o.enums===String?%j:%j",m,p.resolvedType.valuesById[p.typeDefault],p.typeDefault);else if(p.long)l("if(util.Long){")("var n=new util.Long(%i,%i,%j)",p.typeDefault.low,p.typeDefault.high,p.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",m)("}else")("d%s=o.longs===String?%j:%i",m,p.typeDefault.toString(),p.typeDefault.toNumber());else if(p.bytes){var T="["+Array.prototype.slice.call(p.typeDefault).join(",")+"]";l("if(o.bytes===String)d%s=%j",m,String.fromCharCode.apply(String,p.typeDefault))("else{")("d%s=%s",m,T)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",m,m)("}")}else l("d%s=%j",m,p.typeDefault)}l("}")}var c=!1;for(d=0;d<t.length;++d){p=t[d];var I=o._fieldsArray.indexOf(p);m=a.safeProp(p.name),p.map?(c||(c=!0,l("var ks2")),l("if(m%s&&(ks2=Object.keys(m%s)).length){",m,m)("d%s={}",m)("for(var j=0;j<ks2.length;++j){"),i(l,p,I,m+"[ks2[j]]")("}")):p.repeated?(l("if(m%s&&m%s.length){",m,m)("d%s=[]",m)("for(var j=0;j<m%s.length;++j){",m),i(l,p,I,m+"[j]")("}")):(l("if(m%s!=null&&m.hasOwnProperty(%j)){",m,p.name),i(l,p,I,m),p.partOf&&l("if(o.oneofs)")("d%s=%j",a.safeProp(p.partOf.name),p.name)),l("}")}return l("return d")}},5305:function(h,O,e){h.exports=function(i){var o=a.codegen(["r","l"],i.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(i.fieldsArray.filter(function(d){return d.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");i.group&&o("if((t&7)===4)")("break"),o("switch(t>>>3){");for(var t=0;t<i.fieldsArray.length;++t){var l=i._fieldsArray[t].resolve(),u=l.resolvedType instanceof r?"int32":l.type,g="m"+a.safeProp(l.name);o("case %i:",l.id),l.map?(o("if(%s===util.emptyObject)",g)("%s={}",g)("var c2 = r.uint32()+r.pos"),n.defaults[l.keyType]!==void 0?o("k=%j",n.defaults[l.keyType]):o("k=null"),n.defaults[u]!==void 0?o("value=%j",n.defaults[u]):o("value=null"),o("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",l.keyType)("case 2:"),n.basic[u]===void 0?o("value=types[%i].decode(r,r.uint32())",t):o("value=r.%s()",u),o("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),n.long[l.keyType]!==void 0?o('%s[typeof k==="object"?util.longToHash(k):k]=value',g):o("%s[k]=value",g)):l.repeated?(o("if(!(%s&&%s.length))",g,g)("%s=[]",g),n.packed[u]!==void 0&&o("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",g,u)("}else"),n.basic[u]===void 0?o(l.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",g,t):o("%s.push(r.%s())",g,u)):n.basic[u]===void 0?o(l.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",g,t):o("%s=r.%s()",g,u),o("break")}for(o("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<i._fieldsArray.length;++t){var f=i._fieldsArray[t];f.required&&o("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",s(f))}return o("return m")};var r=e(7025),n=e(7063),a=e(9935);function s(i){return"missing required '"+i.name+"'"}},4928:function(h,O,e){h.exports=function(i){for(var o,t=a.codegen(["m","w"],i.name+"$encode")("if(!w)")("w=Writer.create()"),l=i.fieldsArray.slice().sort(a.compareFieldsById),u=0;u<l.length;++u){var g=l[u].resolve(),f=i._fieldsArray.indexOf(g),d=g.resolvedType instanceof r?"int32":g.type,p=n.basic[d];o="m"+a.safeProp(g.name),g.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,g.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(g.id<<3|2)>>>0,8|n.mapKey[g.keyType],g.keyType),p===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,o):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,d,o),t("}")("}")):g.repeated?(t("if(%s!=null&&%s.length){",o,o),g.packed&&n.packed[d]!==void 0?t("w.uint32(%i).fork()",(g.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",d,o)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",o),p===void 0?s(t,g,f,o+"[i]"):t("w.uint32(%i).%s(%s[i])",(g.id<<3|p)>>>0,d,o)),t("}")):(g.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,g.name),p===void 0?s(t,g,f,o):t("w.uint32(%i).%s(%s)",(g.id<<3|p)>>>0,d,o))}return t("return w")};var r=e(7025),n=e(7063),a=e(9935);function s(i,o,t,l){return o.resolvedType.group?i("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,l,(o.id<<3|3)>>>0,(o.id<<3|4)>>>0):i("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,l,(o.id<<3|2)>>>0)}},7025:function(h,O,e){h.exports=s;var r=e(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="Enum";var n=e(9313),a=e(9935);function s(i,o,t,l,u){if(r.call(this,i,t),o&&typeof o!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=l,this.comments=u||{},this.reserved=void 0,o)for(var g=Object.keys(o),f=0;f<g.length;++f)typeof o[g[f]]=="number"&&(this.valuesById[this.values[g[f]]=o[g[f]]]=g[f])}s.fromJSON=function(i,o){var t=new s(i,o.values,o.options,o.comment,o.comments);return t.reserved=o.reserved,t},s.prototype.toJSON=function(i){var o=!!i&&!!i.keepComments;return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",o?this.comment:void 0,"comments",o?this.comments:void 0])},s.prototype.add=function(i,o,t){if(!a.isString(i))throw TypeError("name must be a string");if(!a.isInteger(o))throw TypeError("id must be an integer");if(this.values[i]!==void 0)throw Error("duplicate name '"+i+"' in "+this);if(this.isReservedId(o))throw Error("id "+o+" is reserved in "+this);if(this.isReservedName(i))throw Error("name '"+i+"' is reserved in "+this);if(this.valuesById[o]!==void 0){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+o+" in "+this);this.values[i]=o}else this.valuesById[this.values[i]=o]=i;return this.comments[i]=t||null,this},s.prototype.remove=function(i){if(!a.isString(i))throw TypeError("name must be a string");var o=this.values[i];if(o==null)throw Error("name '"+i+"' does not exist in "+this);return delete this.valuesById[o],delete this.values[i],delete this.comments[i],this},s.prototype.isReservedId=function(i){return n.isReservedId(this.reserved,i)},s.prototype.isReservedName=function(i){return n.isReservedName(this.reserved,i)}},3548:function(h,O,e){h.exports=t;var r=e(3243);((t.prototype=Object.create(r.prototype)).constructor=t).className="Field";var n,a=e(7025),s=e(7063),i=e(9935),o=/^required|optional|repeated$/;function t(l,u,g,f,d,p,m){if(i.isObject(f)?(m=d,p=f,f=d=void 0):i.isObject(d)&&(m=p,p=d,d=void 0),r.call(this,l,p),!i.isInteger(u)||u<0)throw TypeError("id must be a non-negative integer");if(!i.isString(g))throw TypeError("type must be a string");if(f!==void 0&&!o.test(f=f.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(d!==void 0&&!i.isString(d))throw TypeError("extend must be a string");f==="proto3_optional"&&(f="optional"),this.rule=f&&f!=="optional"?f:void 0,this.type=g,this.id=u,this.extend=d||void 0,this.required=f==="required",this.optional=!this.required,this.repeated=f==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!i.Long&&s.long[g]!==void 0,this.bytes=g==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=m}t.fromJSON=function(l,u){return new t(l,u.id,u.type,u.rule,u.extend,u.options,u.comment)},Object.defineProperty(t.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),t.prototype.setOption=function(l,u,g){return l==="packed"&&(this._packed=null),r.prototype.setOption.call(this,l,u,g)},t.prototype.toJSON=function(l){var u=!!l&&!!l.keepComments;return i.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",u?this.comment:void 0])},t.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===void 0&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==!0&&(this.options.packed===void 0||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=i.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var l;i.base64.test(this.typeDefault)?i.base64.decode(this.typeDefault,l=i.newBuffer(i.base64.length(this.typeDefault)),0):i.utf8.write(this.typeDefault,l=i.newBuffer(i.utf8.length(this.typeDefault)),0),this.typeDefault=l}return this.map?this.defaultValue=i.emptyObject:this.repeated?this.defaultValue=i.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},t.d=function(l,u,g,f){return typeof u=="function"?u=i.decorateType(u).name:u&&typeof u=="object"&&(u=i.decorateEnum(u).name),function(d,p){i.decorateType(d.constructor).add(new t(p,l,u,g,{default:f}))}},t._configure=function(l){n=l}},8836:function(h,O,e){var r=h.exports=e(9482);r.build="light",r.load=function(n,a,s){return typeof a=="function"?(s=a,a=new r.Root):a||(a=new r.Root),a.load(n,s)},r.loadSync=function(n,a){return a||(a=new r.Root),a.loadSync(n)},r.encoder=e(4928),r.decoder=e(5305),r.verifier=e(4497),r.converter=e(3996),r.ReflectionObject=e(3243),r.Namespace=e(9313),r.Root=e(9424),r.Enum=e(7025),r.Type=e(7645),r.Field=e(3548),r.OneOf=e(7598),r.MapField=e(6039),r.Service=e(7513),r.Method=e(4429),r.Message=e(8368),r.wrappers=e(1667),r.types=e(7063),r.util=e(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:function(h,O,e){var r=O;function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=e(1173),r.BufferWriter=e(3155),r.Reader=e(1408),r.BufferReader=e(593),r.util=e(9693),r.rpc=e(5994),r.roots=e(5054),r.configure=n,n()},9050:function(h,O,e){var r=h.exports=e(8836);r.build="full",r.tokenize=e(626),r.parse=e(2228),r.common=e(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:function(h,O,e){h.exports=s;var r=e(3548);((s.prototype=Object.create(r.prototype)).constructor=s).className="MapField";var n=e(7063),a=e(9935);function s(i,o,t,l,u,g){if(r.call(this,i,o,l,void 0,void 0,u,g),!a.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(i,o){return new s(i,o.id,o.keyType,o.type,o.options,o.comment)},s.prototype.toJSON=function(i){var o=!!i&&!!i.keepComments;return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(n.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},s.d=function(i,o,t){return typeof t=="function"?t=a.decorateType(t).name:t&&typeof t=="object"&&(t=a.decorateEnum(t).name),function(l,u){a.decorateType(l.constructor).add(new s(u,i,o,t))}}},8368:function(h,O,e){h.exports=n;var r=e(9693);function n(a){if(a)for(var s=Object.keys(a),i=0;i<s.length;++i)this[s[i]]=a[s[i]]}n.create=function(a){return this.$type.create(a)},n.encode=function(a,s){return this.$type.encode(a,s)},n.encodeDelimited=function(a,s){return this.$type.encodeDelimited(a,s)},n.decode=function(a){return this.$type.decode(a)},n.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},n.verify=function(a){return this.$type.verify(a)},n.fromObject=function(a){return this.$type.fromObject(a)},n.toObject=function(a,s){return this.$type.toObject(a,s)},n.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:function(h,O,e){h.exports=a;var r=e(3243);((a.prototype=Object.create(r.prototype)).constructor=a).className="Method";var n=e(9935);function a(s,i,o,t,l,u,g,f,d){if(n.isObject(l)?(g=l,l=u=void 0):n.isObject(u)&&(g=u,u=void 0),i!==void 0&&!n.isString(i))throw TypeError("type must be a string");if(!n.isString(o))throw TypeError("requestType must be a string");if(!n.isString(t))throw TypeError("responseType must be a string");r.call(this,s,g),this.type=i||"rpc",this.requestType=o,this.requestStream=!!l||void 0,this.responseType=t,this.responseStream=!!u||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f,this.parsedOptions=d}a.fromJSON=function(s,i){return new a(s,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},a.prototype.toJSON=function(s){var i=!!s&&!!s.keepComments;return n.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",i?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:function(h,O,e){h.exports=u;var r=e(3243);((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var n,a,s,i=e(3548),o=e(7598),t=e(9935);function l(f,d){if(f&&f.length){for(var p={},m=0;m<f.length;++m)p[f[m].name]=f[m].toJSON(d);return p}}function u(f,d){r.call(this,f,d),this.nested=void 0,this._nestedArray=null}function g(f){return f._nestedArray=null,f}u.fromJSON=function(f,d){return new u(f,d.options).addJSON(d.nested)},u.arrayToJSON=l,u.isReservedId=function(f,d){if(f){for(var p=0;p<f.length;++p)if(typeof f[p]!="string"&&f[p][0]<=d&&f[p][1]>d)return!0}return!1},u.isReservedName=function(f,d){if(f){for(var p=0;p<f.length;++p)if(f[p]===d)return!0}return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=t.toArray(this.nested))}}),u.prototype.toJSON=function(f){return t.toObject(["options",this.options,"nested",l(this.nestedArray,f)])},u.prototype.addJSON=function(f){if(f)for(var d,p=Object.keys(f),m=0;m<p.length;++m)d=f[p[m]],this.add((d.fields!==void 0?n.fromJSON:d.values!==void 0?s.fromJSON:d.methods!==void 0?a.fromJSON:d.id!==void 0?i.fromJSON:u.fromJSON)(p[m],d));return this},u.prototype.get=function(f){return this.nested&&this.nested[f]||null},u.prototype.getEnum=function(f){if(this.nested&&this.nested[f]instanceof s)return this.nested[f].values;throw Error("no such enum: "+f)},u.prototype.add=function(f){if(!(f instanceof i&&f.extend!==void 0||f instanceof n||f instanceof s||f instanceof a||f instanceof u||f instanceof o))throw TypeError("object must be a valid nested object");if(this.nested){var d=this.get(f.name);if(d){if(!(d instanceof u&&f instanceof u)||d instanceof n||d instanceof a)throw Error("duplicate name '"+f.name+"' in "+this);for(var p=d.nestedArray,m=0;m<p.length;++m)f.add(p[m]);this.remove(d),this.nested||(this.nested={}),f.setOptions(d.options,!0)}}else this.nested={};return this.nested[f.name]=f,f.onAdd(this),g(this)},u.prototype.remove=function(f){if(!(f instanceof r))throw TypeError("object must be a ReflectionObject");if(f.parent!==this)throw Error(f+" is not a member of "+this);return delete this.nested[f.name],Object.keys(this.nested).length||(this.nested=void 0),f.onRemove(this),g(this)},u.prototype.define=function(f,d){if(t.isString(f))f=f.split(".");else if(!Array.isArray(f))throw TypeError("illegal path");if(f&&f.length&&f[0]==="")throw Error("path must be relative");for(var p=this;f.length>0;){var m=f.shift();if(p.nested&&p.nested[m]){if(!((p=p.nested[m])instanceof u))throw Error("path conflicts with non-namespace objects")}else p.add(p=new u(m))}return d&&p.addJSON(d),p},u.prototype.resolveAll=function(){for(var f=this.nestedArray,d=0;d<f.length;)f[d]instanceof u?f[d++].resolveAll():f[d++].resolve();return this.resolve()},u.prototype.lookup=function(f,d,p){if(typeof d=="boolean"?(p=d,d=void 0):d&&!Array.isArray(d)&&(d=[d]),t.isString(f)&&f.length){if(f===".")return this.root;f=f.split(".")}else if(!f.length)return this;if(f[0]==="")return this.root.lookup(f.slice(1),d);var m=this.get(f[0]);if(m){if(f.length===1){if(!d||d.indexOf(m.constructor)>-1)return m}else if(m instanceof u&&(m=m.lookup(f.slice(1),d,!0)))return m}else for(var T=0;T<this.nestedArray.length;++T)if(this._nestedArray[T]instanceof u&&(m=this._nestedArray[T].lookup(f,d,!0)))return m;return this.parent===null||p?null:this.parent.lookup(f,d)},u.prototype.lookupType=function(f){var d=this.lookup(f,[n]);if(!d)throw Error("no such type: "+f);return d},u.prototype.lookupEnum=function(f){var d=this.lookup(f,[s]);if(!d)throw Error("no such Enum '"+f+"' in "+this);return d},u.prototype.lookupTypeOrEnum=function(f){var d=this.lookup(f,[n,s]);if(!d)throw Error("no such Type or Enum '"+f+"' in "+this);return d},u.prototype.lookupService=function(f){var d=this.lookup(f,[a]);if(!d)throw Error("no such Service '"+f+"' in "+this);return d},u._configure=function(f,d,p){n=f,a=d,s=p}},3243:function(h,O,e){h.exports=a,a.className="ReflectionObject";var r,n=e(9935);function a(s,i){if(!n.isString(s))throw TypeError("name must be a string");if(i&&!n.isObject(i))throw TypeError("options must be an object");this.options=i,this.parsedOptions=null,this.name=s,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var s=this;s.parent!==null;)s=s.parent;return s}},fullName:{get:function(){for(var s=[this.name],i=this.parent;i;)s.unshift(i.name),i=i.parent;return s.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(s){this.parent&&this.parent!==s&&this.parent.remove(this),this.parent=s,this.resolved=!1;var i=s.root;i instanceof r&&i._handleAdd(this)},a.prototype.onRemove=function(s){var i=s.root;i instanceof r&&i._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},a.prototype.getOption=function(s){if(this.options)return this.options[s]},a.prototype.setOption=function(s,i,o){return o&&this.options&&this.options[s]!==void 0||((this.options||(this.options={}))[s]=i),this},a.prototype.setParsedOption=function(s,i,o){this.parsedOptions||(this.parsedOptions=[]);var t=this.parsedOptions;if(o){var l=t.find(function(f){return Object.prototype.hasOwnProperty.call(f,s)});if(l){var u=l[s];n.setProperty(u,o,i)}else(l={})[s]=n.setProperty({},o,i),t.push(l)}else{var g={};g[s]=i,t.push(g)}return this},a.prototype.setOptions=function(s,i){if(s)for(var o=Object.keys(s),t=0;t<o.length;++t)this.setOption(o[t],s[o[t]],i);return this},a.prototype.toString=function(){var s=this.constructor.className,i=this.fullName;return i.length?s+" "+i:s},a._configure=function(s){r=s}},7598:function(h,O,e){h.exports=s;var r=e(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="OneOf";var n=e(3548),a=e(9935);function s(o,t,l,u){if(Array.isArray(t)||(l=t,t=void 0),r.call(this,o,l),t!==void 0&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=u}function i(o){if(o.parent)for(var t=0;t<o.fieldsArray.length;++t)o.fieldsArray[t].parent||o.parent.add(o.fieldsArray[t])}s.fromJSON=function(o,t){return new s(o,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(o){var t=!!o&&!!o.keepComments;return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(o){if(!(o instanceof n))throw TypeError("field must be a Field");return o.parent&&o.parent!==this.parent&&o.parent.remove(o),this.oneof.push(o.name),this.fieldsArray.push(o),o.partOf=this,i(this),this},s.prototype.remove=function(o){if(!(o instanceof n))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(o);if(t<0)throw Error(o+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(o.name))>-1&&this.oneof.splice(t,1),o.partOf=null,this},s.prototype.onAdd=function(o){r.prototype.onAdd.call(this,o);for(var t=0;t<this.oneof.length;++t){var l=o.get(this.oneof[t]);l&&!l.partOf&&(l.partOf=this,this.fieldsArray.push(l))}i(this)},s.prototype.onRemove=function(o){for(var t,l=0;l<this.fieldsArray.length;++l)(t=this.fieldsArray[l]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,o)},s.d=function(){for(var o=new Array(arguments.length),t=0;t<arguments.length;)o[t]=arguments[t++];return function(l,u){a.decorateType(l.constructor).add(new s(u,o)),Object.defineProperty(l,u,{get:a.oneOfGetter(o),set:a.oneOfSetter(o)})}}},2228:function(h,O,e){h.exports=R,R.filename=null,R.defaults={keepCase:!1};var r=e(626),n=e(9424),a=e(7645),s=e(3548),i=e(6039),o=e(7598),t=e(7025),l=e(7513),u=e(4429),g=e(7063),f=e(9935),d=/^[1-9][0-9]*$/,p=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,T=/^-?0[x][0-9a-fA-F]+$/,c=/^0[0-7]+$/,I=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,N=/^[a-zA-Z_][a-zA-Z_0-9]*$/,k=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,A=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function R(y,U,L){U instanceof n||(L=U,U=new n),L||(L=R.defaults);var j,H,ee,F,K,Z=L.preferTrailingComment||!1,oe=r(y,L.alternateCommentMode||!1),le=oe.next,de=oe.push,Ee=oe.peek,re=oe.skip,z=oe.cmnt,ue=!0,Q=!1,ne=U,fe=L.keepCase?function(D){return D}:f.camelCase;function Y(D,q,w){var X=R.filename;return w||(R.filename=null),Error("illegal "+(q||"token")+" '"+D+"' ("+(X?X+", ":"")+"line "+oe.line+")")}function Oe(){var D,q=[];do{if((D=le())!=='"'&&D!=="'")throw Y(D);q.push(le()),re(D),D=Ee()}while(D==='"'||D==="'");return q.join("")}function Ae(D){var q=le();switch(q){case"'":case'"':return de(q),Oe();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(w,X){var E=1;switch(w.charAt(0)==="-"&&(E=-1,w=w.substring(1)),w){case"inf":case"INF":case"Inf":return E*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(w))return E*parseInt(w,10);if(m.test(w))return E*parseInt(w,16);if(c.test(w))return E*parseInt(w,8);if(v.test(w))return E*parseFloat(w);throw Y(w,"number",!0)}(q)}catch{if(D&&k.test(q))return q;throw Y(q,"value")}}function Be(D,q){var w,X;do!q||(w=Ee())!=='"'&&w!=="'"?D.push([X=Ce(le()),re("to",!0)?Ce(le()):X]):D.push(Oe());while(re(",",!0));re(";")}function Ce(D,q){switch(D){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!q&&D.charAt(0)==="-")throw Y(D,"id");if(p.test(D))return parseInt(D,10);if(T.test(D))return parseInt(D,16);if(I.test(D))return parseInt(D,8);throw Y(D,"id")}function Ue(){if(j!==void 0)throw Y("package");if(j=le(),!k.test(j))throw Y(j,"name");ne=ne.define(j),re(";")}function ke(){var D,q=Ee();switch(q){case"weak":D=ee||(ee=[]),le();break;case"public":le();default:D=H||(H=[])}q=Oe(),re(";"),D.push(q)}function je(){if(re("="),F=Oe(),!(Q=F==="proto3")&&F!=="proto2")throw Y(F,"syntax");re(";")}function Ge(D,q){switch(q){case"option":return ge(D,q),re(";"),!0;case"message":return function(w,X){if(!N.test(X=le()))throw Y(X,"type name");var E=new a(X);xe(E,function(b){if(!Ge(E,b))switch(b){case"map":(function(x){re("<");var C=le();if(g.mapKey[C]===void 0)throw Y(C,"type");re(",");var P=le();if(!k.test(P))throw Y(P,"type");re(">");var _=le();if(!N.test(_))throw Y(_,"name");re("=");var S=new i(fe(_),Ce(le()),C,P);xe(S,function(W){if(W!=="option")throw Y(W);ge(S,W),re(";")},function(){Se(S)}),x.add(S)})(E);break;case"required":case"repeated":De(E,b);break;case"optional":De(E,Q?"proto3_optional":"optional");break;case"oneof":(function(x,C){if(!N.test(C=le()))throw Y(C,"name");var P=new o(fe(C));xe(P,function(_){_==="option"?(ge(P,_),re(";")):(de(_),De(P,"optional"))}),x.add(P)})(E,b);break;case"extensions":Be(E.extensions||(E.extensions=[]));break;case"reserved":Be(E.reserved||(E.reserved=[]),!0);break;default:if(!Q||!k.test(b))throw Y(b);de(b),De(E,"optional")}}),w.add(E)}(D,q),!0;case"enum":return function(w,X){if(!N.test(X=le()))throw Y(X,"name");var E=new t(X);xe(E,function(b){switch(b){case"option":ge(E,b),re(";");break;case"reserved":Be(E.reserved||(E.reserved=[]),!0);break;default:(function(x,C){if(!N.test(C))throw Y(C,"name");re("=");var P=Ce(le(),!0),_={};xe(_,function(S){if(S!=="option")throw Y(S);ge(_,S),re(";")},function(){Se(_)}),x.add(C,P,_.comment)})(E,b)}}),w.add(E)}(D,q),!0;case"service":return function(w,X){if(!N.test(X=le()))throw Y(X,"service name");var E=new l(X);xe(E,function(b){if(!Ge(E,b)){if(b!=="rpc")throw Y(b);(function(x,C){var P=z(),_=C;if(!N.test(C=le()))throw Y(C,"name");var S,W,M,G,te=C;if(re("("),re("stream",!0)&&(W=!0),!k.test(C=le())||(S=C,re(")"),re("returns"),re("("),re("stream",!0)&&(G=!0),!k.test(C=le())))throw Y(C);M=C,re(")");var ce=new u(te,_,S,M,W,G);ce.comment=P,xe(ce,function(ye){if(ye!=="option")throw Y(ye);ge(ce,ye),re(";")}),x.add(ce)})(E,b)}}),w.add(E)}(D,q),!0;case"extend":return function(w,X){if(!k.test(X=le()))throw Y(X,"reference");var E=X;xe(null,function(b){switch(b){case"required":case"repeated":De(w,b,E);break;case"optional":De(w,Q?"proto3_optional":"optional",E);break;default:if(!Q||!k.test(b))throw Y(b);de(b),De(w,"optional",E)}})}(D,q),!0}return!1}function xe(D,q,w){var X=oe.line;if(D&&(typeof D.comment!="string"&&(D.comment=z()),D.filename=R.filename),re("{",!0)){for(var E;(E=le())!=="}";)q(E);re(";",!0)}else w&&w(),re(";"),D&&(typeof D.comment!="string"||Z)&&(D.comment=z(X)||D.comment)}function De(D,q,w){var X=le();if(X!=="group"){if(!k.test(X))throw Y(X,"type");var E=le();if(!N.test(E))throw Y(E,"name");E=fe(E),re("=");var b=new s(E,Ce(le()),X,q,w);if(xe(b,function(C){if(C!=="option")throw Y(C);ge(b,C),re(";")},function(){Se(b)}),q==="proto3_optional"){var x=new o("_"+E);b.setOption("proto3_optional",!0),x.add(b),D.add(x)}else D.add(b);Q||!b.repeated||g.packed[X]===void 0&&g.basic[X]!==void 0||b.setOption("packed",!1,!0)}else(function(C,P){var _=le();if(!N.test(_))throw Y(_,"name");var S=f.lcFirst(_);_===S&&(_=f.ucFirst(_)),re("=");var W=Ce(le()),M=new a(_);M.group=!0;var G=new s(S,W,_,P);G.filename=R.filename,xe(M,function(te){switch(te){case"option":ge(M,te),re(";");break;case"required":case"repeated":De(M,te);break;case"optional":De(M,Q?"proto3_optional":"optional");break;default:throw Y(te)}}),C.add(M).add(G)})(D,q)}function ge(D,q){var w=re("(",!0);if(!k.test(q=le()))throw Y(q,"name");var X,E=q,b=E;w&&(re(")"),b=E="("+E+")",q=Ee(),A.test(q)&&(X=q.substr(1),E+=q,le())),re("="),function(x,C,P,_){x.setParsedOption&&x.setParsedOption(C,P,_)}(D,b,be(D,E),X)}function be(D,q){if(re("{",!0)){for(var w={};!re("}",!0);){if(!N.test(K=le()))throw Y(K,"name");var X,E=K;Ee()==="{"?X=be(D,q+"."+K):(re(":"),Ee()==="{"?X=be(D,q+"."+K):(X=Ae(!0),Ie(D,q+"."+K,X)));var b=w[E];b&&(X=[].concat(b).concat(X)),w[E]=X,re(",",!0)}return w}var x=Ae(!0);return Ie(D,q,x),x}function Ie(D,q,w){D.setOption&&D.setOption(q,w)}function Se(D){if(re("[",!0)){do ge(D,"option");while(re(",",!0));re("]")}return D}for(;(K=le())!==null;)switch(K){case"package":if(!ue)throw Y(K);Ue();break;case"import":if(!ue)throw Y(K);ke();break;case"syntax":if(!ue)throw Y(K);je();break;case"option":ge(ne,K),re(";");break;default:if(Ge(ne,K)){ue=!1;continue}throw Y(K)}return R.filename=null,{package:j,imports:H,weakImports:ee,syntax:F,root:U}}},1408:function(h,O,e){h.exports=o;var r,n=e(9693),a=n.LongBits,s=n.utf8;function i(p,m){return RangeError("index out of range: "+p.pos+" + "+(m||1)+" > "+p.len)}function o(p){this.buf=p,this.pos=0,this.len=p.length}var t,l=typeof Uint8Array<"u"?function(p){if(p instanceof Uint8Array||Array.isArray(p))return new o(p);throw Error("illegal buffer")}:function(p){if(Array.isArray(p))return new o(p);throw Error("illegal buffer")},u=function(){return n.Buffer?function(p){return(o.create=function(m){return n.Buffer.isBuffer(m)?new r(m):l(m)})(p)}:l};function g(){var p=new a(0,0),m=0;if(!(this.len-this.pos>4)){for(;m<3;++m){if(this.pos>=this.len)throw i(this);if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(127&this.buf[this.pos++])<<7*m)>>>0,p}for(;m<4;++m)if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(127&this.buf[this.pos])<<28)>>>0,p.hi=(p.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return p;if(m=0,this.len-this.pos>4){for(;m<5;++m)if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return p}else for(;m<5;++m){if(this.pos>=this.len)throw i(this);if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}function f(p,m){return(p[m-4]|p[m-3]<<8|p[m-2]<<16|p[m-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw i(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}o.create=u(),o.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,o.prototype.uint32=(t=4294967295,function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return t}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var p=this.uint32();return p>>>1^-(1&p)|0},o.prototype.bool=function(){return this.uint32()!==0},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return f(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return 0|f(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var p=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,p},o.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var p=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,p},o.prototype.bytes=function(){var p=this.uint32(),m=this.pos,T=this.pos+p;if(T>this.len)throw i(this,p);return this.pos+=p,Array.isArray(this.buf)?this.buf.slice(m,T):m===T?new this.buf.constructor(0):this._slice.call(this.buf,m,T)},o.prototype.string=function(){var p=this.bytes();return s.read(p,0,p.length)},o.prototype.skip=function(p){if(typeof p=="number"){if(this.pos+p>this.len)throw i(this,p);this.pos+=p}else do if(this.pos>=this.len)throw i(this);while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=7&this.uint32())!=4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},o._configure=function(p){r=p,o.create=u(),r._configure();var m=n.Long?"toLong":"toNumber";n.merge(o.prototype,{int64:function(){return g.call(this)[m](!1)},uint64:function(){return g.call(this)[m](!0)},sint64:function(){return g.call(this).zzDecode()[m](!1)},fixed64:function(){return d.call(this)[m](!0)},sfixed64:function(){return d.call(this)[m](!1)}})}},593:function(h,O,e){h.exports=a;var r=e(1408);(a.prototype=Object.create(r.prototype)).constructor=a;var n=e(9693);function a(s){r.call(this,s)}a._configure=function(){n.Buffer&&(a.prototype._slice=n.Buffer.prototype.slice)},a.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},a._configure()},9424:function(h,O,e){h.exports=u;var r=e(9313);((u.prototype=Object.create(r.prototype)).constructor=u).className="Root";var n,a,s,i=e(3548),o=e(7025),t=e(7598),l=e(9935);function u(p){r.call(this,"",p),this.deferred=[],this.files=[]}function g(){}u.fromJSON=function(p,m){return m||(m=new u),p.options&&m.setOptions(p.options),m.addJSON(p.nested)},u.prototype.resolvePath=l.path.resolve,u.prototype.fetch=l.fetch,u.prototype.load=function p(m,T,c){typeof T=="function"&&(c=T,T=void 0);var I=this;if(!c)return l.asPromise(p,I,m,T);var v=c===g;function N(j,H){if(c){var ee=c;if(c=null,v)throw j;ee(j,H)}}function k(j){var H=j.lastIndexOf("google/protobuf/");if(H>-1){var ee=j.substring(H);if(ee in s)return ee}return null}function A(j,H){try{if(l.isString(H)&&H.charAt(0)==="{"&&(H=JSON.parse(H)),l.isString(H)){a.filename=j;var ee,F=a(H,I,T),K=0;if(F.imports)for(;K<F.imports.length;++K)(ee=k(F.imports[K])||I.resolvePath(j,F.imports[K]))&&R(ee);if(F.weakImports)for(K=0;K<F.weakImports.length;++K)(ee=k(F.weakImports[K])||I.resolvePath(j,F.weakImports[K]))&&R(ee,!0)}else I.setOptions(H.options).addJSON(H.nested)}catch(Z){N(Z)}v||y||N(null,I)}function R(j,H){if(!(I.files.indexOf(j)>-1))if(I.files.push(j),j in s)v?A(j,s[j]):(++y,setTimeout(function(){--y,A(j,s[j])}));else if(v){var ee;try{ee=l.fs.readFileSync(j).toString("utf8")}catch(F){return void(H||N(F))}A(j,ee)}else++y,I.fetch(j,function(F,K){--y,c&&(F?H?y||N(null,I):N(F):A(j,K))})}var y=0;l.isString(m)&&(m=[m]);for(var U,L=0;L<m.length;++L)(U=I.resolvePath("",m[L]))&&R(U);if(v)return I;y||N(null,I)},u.prototype.loadSync=function(p,m){if(!l.isNode)throw Error("not supported");return this.load(p,m,g)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(p){return"'extend "+p.extend+"' in "+p.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function d(p,m){var T=m.parent.lookup(m.extend);if(T){var c=new i(m.fullName,m.id,m.type,m.rule,void 0,m.options);return c.declaringField=m,m.extensionField=c,T.add(c),!0}return!1}u.prototype._handleAdd=function(p){if(p instanceof i)p.extend===void 0||p.extensionField||d(0,p)||this.deferred.push(p);else if(p instanceof o)f.test(p.name)&&(p.parent[p.name]=p.values);else if(!(p instanceof t)){if(p instanceof n)for(var m=0;m<this.deferred.length;)d(0,this.deferred[m])?this.deferred.splice(m,1):++m;for(var T=0;T<p.nestedArray.length;++T)this._handleAdd(p._nestedArray[T]);f.test(p.name)&&(p.parent[p.name]=p)}},u.prototype._handleRemove=function(p){if(p instanceof i){if(p.extend!==void 0)if(p.extensionField)p.extensionField.parent.remove(p.extensionField),p.extensionField=null;else{var m=this.deferred.indexOf(p);m>-1&&this.deferred.splice(m,1)}}else if(p instanceof o)f.test(p.name)&&delete p.parent[p.name];else if(p instanceof r){for(var T=0;T<p.nestedArray.length;++T)this._handleRemove(p._nestedArray[T]);f.test(p.name)&&delete p.parent[p.name]}},u._configure=function(p,m,T){n=p,a=m,s=T}},5054:function(h){h.exports={}},5994:function(h,O,e){O.Service=e(7948)},7948:function(h,O,e){h.exports=n;var r=e(9693);function n(a,s,i){if(typeof a!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!s,this.responseDelimited=!!i}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function a(s,i,o,t,l){if(!t)throw TypeError("request must be specified");var u=this;if(!l)return r.asPromise(a,u,s,i,o,t);if(u.rpcImpl)try{return u.rpcImpl(s,i[u.requestDelimited?"encodeDelimited":"encode"](t).finish(),function(g,f){if(g)return u.emit("error",g,s),l(g);if(f!==null){if(!(f instanceof o))try{f=o[u.responseDelimited?"decodeDelimited":"decode"](f)}catch(d){return u.emit("error",d,s),l(d)}return u.emit("data",f,s),l(null,f)}u.end(!0)})}catch(g){return u.emit("error",g,s),void setTimeout(function(){l(g)},0)}else setTimeout(function(){l(Error("already ended"))},0)},n.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:function(h,O,e){h.exports=i;var r=e(9313);((i.prototype=Object.create(r.prototype)).constructor=i).className="Service";var n=e(4429),a=e(9935),s=e(5994);function i(t,l){r.call(this,t,l),this.methods={},this._methodsArray=null}function o(t){return t._methodsArray=null,t}i.fromJSON=function(t,l){var u=new i(t,l.options);if(l.methods)for(var g=Object.keys(l.methods),f=0;f<g.length;++f)u.add(n.fromJSON(g[f],l.methods[g[f]]));return l.nested&&u.addJSON(l.nested),u.comment=l.comment,u},i.prototype.toJSON=function(t){var l=r.prototype.toJSON.call(this,t),u=!!t&&!!t.keepComments;return a.toObject(["options",l&&l.options||void 0,"methods",r.arrayToJSON(this.methodsArray,t)||{},"nested",l&&l.nested||void 0,"comment",u?this.comment:void 0])},Object.defineProperty(i.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),i.prototype.get=function(t){return this.methods[t]||r.prototype.get.call(this,t)},i.prototype.resolveAll=function(){for(var t=this.methodsArray,l=0;l<t.length;++l)t[l].resolve();return r.prototype.resolve.call(this)},i.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof n?(this.methods[t.name]=t,t.parent=this,o(this)):r.prototype.add.call(this,t)},i.prototype.remove=function(t){if(t instanceof n){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,o(this)}return r.prototype.remove.call(this,t)},i.prototype.create=function(t,l,u){for(var g,f=new s.Service(t,l,u),d=0;d<this.methodsArray.length;++d){var p=a.lcFirst((g=this._methodsArray[d]).resolve().name).replace(/[^$\w_]/g,"");f[p]=a.codegen(["r","c"],a.isReserved(p)?p+"_":p)("return this.rpcCall(m,q,s,r,c)")({m:g,q:g.resolvedRequestType.ctor,s:g.resolvedResponseType.ctor})}return f}},626:function(h){h.exports=u;var O=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,n=/^ *[*/]+ */,a=/^\s*\*?\/*/,s=/\n/g,i=/\s/,o=/\\(.?)/g,t={0:"\0",r:"\r",n:`
`,t:"	"};function l(g){return g.replace(o,function(f,d){switch(d){case"\\":case"":return d;default:return t[d]||""}})}function u(g,f){g=g.toString();var d=0,p=g.length,m=1,T=null,c=null,I=0,v=!1,N=!1,k=[],A=null;function R(K){return Error("illegal "+K+" (line "+m+")")}function y(K){return g.charAt(K)}function U(K,Z,oe){T=g.charAt(K++),I=m,v=!1,N=oe;var le,de=K-(f?2:3);do if(--de<0||(le=g.charAt(de))===`
`){v=!0;break}while(le===" "||le==="	");for(var Ee=g.substring(K,Z).split(s),re=0;re<Ee.length;++re)Ee[re]=Ee[re].replace(f?a:n,"").trim();c=Ee.join(`
`).trim()}function L(K){var Z=j(K),oe=g.substring(K,Z);return/^\s*\/{1,2}/.test(oe)}function j(K){for(var Z=K;Z<p&&y(Z)!==`
`;)Z++;return Z}function H(){if(k.length>0)return k.shift();if(A)return function(){var ue=A==="'"?r:e;ue.lastIndex=d-1;var Q=ue.exec(g);if(!Q)throw R("string");return d=ue.lastIndex,ee(A),A=null,l(Q[1])}();var K,Z,oe,le,de,Ee=d===0;do{if(d===p)return null;for(K=!1;i.test(oe=y(d));)if(oe===`
`&&(Ee=!0,++m),++d===p)return null;if(y(d)==="/"){if(++d===p)throw R("comment");if(y(d)==="/")if(f){if(le=d,de=!1,L(d)){de=!0;do{if((d=j(d))===p)break;d++}while(L(d))}else d=Math.min(p,j(d)+1);de&&U(le,d,Ee),m++,K=!0}else{for(de=y(le=d+1)==="/";y(++d)!==`
`;)if(d===p)return null;++d,de&&U(le,d-1,Ee),++m,K=!0}else{if((oe=y(d))!=="*")return"/";le=d+1,de=f||y(le)==="*";do{if(oe===`
`&&++m,++d===p)throw R("comment");Z=oe,oe=y(d)}while(Z!=="*"||oe!=="/");++d,de&&U(le,d-2,Ee),K=!0}}}while(K);var re=d;if(O.lastIndex=0,!O.test(y(re++)))for(;re<p&&!O.test(y(re));)++re;var z=g.substring(d,d=re);return z!=='"'&&z!=="'"||(A=z),z}function ee(K){k.push(K)}function F(){if(!k.length){var K=H();if(K===null)return null;ee(K)}return k[0]}return Object.defineProperty({next:H,peek:F,push:ee,skip:function(K,Z){var oe=F();if(oe===K)return H(),!0;if(!Z)throw R("token '"+oe+"', '"+K+"' expected");return!1},cmnt:function(K){var Z=null;return K===void 0?I===m-1&&(f||T==="*"||v)&&(Z=N?c:null):(I<K&&F(),I!==K||v||!f&&T!=="/"||(Z=N?null:c)),Z}},"line",{get:function(){return m}})}u.unescape=l},7645:function(h,O,e){h.exports=c;var r=e(9313);((c.prototype=Object.create(r.prototype)).constructor=c).className="Type";var n=e(7025),a=e(7598),s=e(3548),i=e(6039),o=e(7513),t=e(8368),l=e(1408),u=e(1173),g=e(9935),f=e(4928),d=e(5305),p=e(4497),m=e(3996),T=e(1667);function c(v,N){r.call(this,v,N),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function I(v){return v._fieldsById=v._fieldsArray=v._oneofsArray=null,delete v.encode,delete v.decode,delete v.verify,v}Object.defineProperties(c.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var v=Object.keys(this.fields),N=0;N<v.length;++N){var k=this.fields[v[N]],A=k.id;if(this._fieldsById[A])throw Error("duplicate id "+A+" in "+this);this._fieldsById[A]=k}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=g.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=g.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=c.generateConstructor(this)())},set:function(v){var N=v.prototype;N instanceof t||((v.prototype=new t).constructor=v,g.merge(v.prototype,N)),v.$type=v.prototype.$type=this,g.merge(v,t,!0),this._ctor=v;for(var k=0;k<this.fieldsArray.length;++k)this._fieldsArray[k].resolve();var A={};for(k=0;k<this.oneofsArray.length;++k)A[this._oneofsArray[k].resolve().name]={get:g.oneOfGetter(this._oneofsArray[k].oneof),set:g.oneOfSetter(this._oneofsArray[k].oneof)};k&&Object.defineProperties(v.prototype,A)}}}),c.generateConstructor=function(v){for(var N,k=g.codegen(["p"],v.name),A=0;A<v.fieldsArray.length;++A)(N=v._fieldsArray[A]).map?k("this%s={}",g.safeProp(N.name)):N.repeated&&k("this%s=[]",g.safeProp(N.name));return k("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},c.fromJSON=function(v,N){var k=new c(v,N.options);k.extensions=N.extensions,k.reserved=N.reserved;for(var A=Object.keys(N.fields),R=0;R<A.length;++R)k.add((N.fields[A[R]].keyType!==void 0?i.fromJSON:s.fromJSON)(A[R],N.fields[A[R]]));if(N.oneofs)for(A=Object.keys(N.oneofs),R=0;R<A.length;++R)k.add(a.fromJSON(A[R],N.oneofs[A[R]]));if(N.nested)for(A=Object.keys(N.nested),R=0;R<A.length;++R){var y=N.nested[A[R]];k.add((y.id!==void 0?s.fromJSON:y.fields!==void 0?c.fromJSON:y.values!==void 0?n.fromJSON:y.methods!==void 0?o.fromJSON:r.fromJSON)(A[R],y))}return N.extensions&&N.extensions.length&&(k.extensions=N.extensions),N.reserved&&N.reserved.length&&(k.reserved=N.reserved),N.group&&(k.group=!0),N.comment&&(k.comment=N.comment),k},c.prototype.toJSON=function(v){var N=r.prototype.toJSON.call(this,v),k=!!v&&!!v.keepComments;return g.toObject(["options",N&&N.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,v),"fields",r.arrayToJSON(this.fieldsArray.filter(function(A){return!A.declaringField}),v)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",N&&N.nested||void 0,"comment",k?this.comment:void 0])},c.prototype.resolveAll=function(){for(var v=this.fieldsArray,N=0;N<v.length;)v[N++].resolve();var k=this.oneofsArray;for(N=0;N<k.length;)k[N++].resolve();return r.prototype.resolveAll.call(this)},c.prototype.get=function(v){return this.fields[v]||this.oneofs&&this.oneofs[v]||this.nested&&this.nested[v]||null},c.prototype.add=function(v){if(this.get(v.name))throw Error("duplicate name '"+v.name+"' in "+this);if(v instanceof s&&v.extend===void 0){if(this._fieldsById?this._fieldsById[v.id]:this.fieldsById[v.id])throw Error("duplicate id "+v.id+" in "+this);if(this.isReservedId(v.id))throw Error("id "+v.id+" is reserved in "+this);if(this.isReservedName(v.name))throw Error("name '"+v.name+"' is reserved in "+this);return v.parent&&v.parent.remove(v),this.fields[v.name]=v,v.message=this,v.onAdd(this),I(this)}return v instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[v.name]=v,v.onAdd(this),I(this)):r.prototype.add.call(this,v)},c.prototype.remove=function(v){if(v instanceof s&&v.extend===void 0){if(!this.fields||this.fields[v.name]!==v)throw Error(v+" is not a member of "+this);return delete this.fields[v.name],v.parent=null,v.onRemove(this),I(this)}if(v instanceof a){if(!this.oneofs||this.oneofs[v.name]!==v)throw Error(v+" is not a member of "+this);return delete this.oneofs[v.name],v.parent=null,v.onRemove(this),I(this)}return r.prototype.remove.call(this,v)},c.prototype.isReservedId=function(v){return r.isReservedId(this.reserved,v)},c.prototype.isReservedName=function(v){return r.isReservedName(this.reserved,v)},c.prototype.create=function(v){return new this.ctor(v)},c.prototype.setup=function(){for(var v=this.fullName,N=[],k=0;k<this.fieldsArray.length;++k)N.push(this._fieldsArray[k].resolve().resolvedType);this.encode=f(this)({Writer:u,types:N,util:g}),this.decode=d(this)({Reader:l,types:N,util:g}),this.verify=p(this)({types:N,util:g}),this.fromObject=m.fromObject(this)({types:N,util:g}),this.toObject=m.toObject(this)({types:N,util:g});var A=T[v];if(A){var R=Object.create(this);R.fromObject=this.fromObject,this.fromObject=A.fromObject.bind(R),R.toObject=this.toObject,this.toObject=A.toObject.bind(R)}return this},c.prototype.encode=function(v,N){return this.setup().encode(v,N)},c.prototype.encodeDelimited=function(v,N){return this.encode(v,N&&N.len?N.fork():N).ldelim()},c.prototype.decode=function(v,N){return this.setup().decode(v,N)},c.prototype.decodeDelimited=function(v){return v instanceof l||(v=l.create(v)),this.decode(v,v.uint32())},c.prototype.verify=function(v){return this.setup().verify(v)},c.prototype.fromObject=function(v){return this.setup().fromObject(v)},c.prototype.toObject=function(v,N){return this.setup().toObject(v,N)},c.d=function(v){return function(N){g.decorateType(N,v)}}},7063:function(h,O,e){var r=O,n=e(9935),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(i,o){var t=0,l={};for(o|=0;t<i.length;)l[a[t+o]]=i[t++];return l}r.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),r.long=s([0,0,0,1,1],7),r.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:function(h,O,e){var r,n,a=h.exports=e(9693),s=e(5054);a.codegen=e(5124),a.fetch=e(9054),a.path=e(8626),a.fs=a.inquire("fs"),a.toArray=function(u){if(u){for(var g=Object.keys(u),f=new Array(g.length),d=0;d<g.length;)f[d]=u[g[d++]];return f}return[]},a.toObject=function(u){for(var g={},f=0;f<u.length;){var d=u[f++],p=u[f++];p!==void 0&&(g[d]=p)}return g};var i=/\\/g,o=/"/g;a.isReserved=function(u){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(u)},a.safeProp=function(u){return!/^[$\w_]+$/.test(u)||a.isReserved(u)?'["'+u.replace(i,"\\\\").replace(o,'\\"')+'"]':"."+u},a.ucFirst=function(u){return u.charAt(0).toUpperCase()+u.substring(1)};var t=/_([a-z])/g;a.camelCase=function(u){return u.substring(0,1)+u.substring(1).replace(t,function(g,f){return f.toUpperCase()})},a.compareFieldsById=function(u,g){return u.id-g.id},a.decorateType=function(u,g){if(u.$type)return g&&u.$type.name!==g&&(a.decorateRoot.remove(u.$type),u.$type.name=g,a.decorateRoot.add(u.$type)),u.$type;r||(r=e(7645));var f=new r(g||u.name);return a.decorateRoot.add(f),f.ctor=u,Object.defineProperty(u,"$type",{value:f,enumerable:!1}),Object.defineProperty(u.prototype,"$type",{value:f,enumerable:!1}),f};var l=0;a.decorateEnum=function(u){if(u.$type)return u.$type;n||(n=e(7025));var g=new n("Enum"+l++,u);return a.decorateRoot.add(g),Object.defineProperty(u,"$type",{value:g,enumerable:!1}),g},a.setProperty=function(u,g,f){if(typeof u!="object")throw TypeError("dst must be an object");if(!g)throw TypeError("path must be specified");return function d(p,m,T){var c=m.shift();if(c==="__proto__")return p;if(m.length>0)p[c]=d(p[c]||{},m,T);else{var I=p[c];I&&(T=[].concat(I).concat(T)),p[c]=T}return p}(u,g=g.split("."),f)},Object.defineProperty(a,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(e(9424)))}})},1945:function(h,O,e){h.exports=n;var r=e(9693);function n(o,t){this.lo=o>>>0,this.hi=t>>>0}var a=n.zero=new n(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(o){if(o===0)return a;var t=o<0;t&&(o=-o);var l=o>>>0,u=(o-l)/4294967296>>>0;return t&&(u=~u>>>0,l=~l>>>0,++l>4294967295&&(l=0,++u>4294967295&&(u=0))),new n(l,u)},n.from=function(o){if(typeof o=="number")return n.fromNumber(o);if(r.isString(o)){if(!r.Long)return n.fromNumber(parseInt(o,10));o=r.Long.fromString(o)}return o.low||o.high?new n(o.low>>>0,o.high>>>0):a},n.prototype.toNumber=function(o){if(!o&&this.hi>>>31){var t=1+~this.lo>>>0,l=~this.hi>>>0;return t||(l=l+1>>>0),-(t+4294967296*l)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(o){return r.Long?new r.Long(0|this.lo,0|this.hi,!!o):{low:0|this.lo,high:0|this.hi,unsigned:!!o}};var i=String.prototype.charCodeAt;n.fromHash=function(o){return o===s?a:new n((i.call(o,0)|i.call(o,1)<<8|i.call(o,2)<<16|i.call(o,3)<<24)>>>0,(i.call(o,4)|i.call(o,5)<<8|i.call(o,6)<<16|i.call(o,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var o=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o)>>>0,this.lo=(this.lo<<1^o)>>>0,this},n.prototype.zzDecode=function(){var o=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^o)>>>0,this.hi=(this.hi>>>1^o)>>>0,this},n.prototype.length=function(){var o=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,l=this.hi>>>24;return l===0?t===0?o<16384?o<128?1:2:o<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:l<128?9:10}},9693:function(h,O,e){var r=O;function n(s,i,o){for(var t=Object.keys(i),l=0;l<t.length;++l)s[t[l]]!==void 0&&o||(s[t[l]]=i[t[l]]);return s}function a(s){function i(o,t){if(!(this instanceof i))return new i(o,t);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&n(this,t)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return s}}),i.prototype.toString=function(){return this.name+": "+this.message},i}r.asPromise=e(4537),r.base64=e(7419),r.EventEmitter=e(9211),r.float=e(945),r.inquire=e(7199),r.utf8=e(4997),r.pool=e(6662),r.LongBits=e(1945),r.isNode=!!(e.g!==void 0&&e.g&&e.g.process&&e.g.process.versions&&e.g.process.versions.node),r.global=r.isNode&&e.g||typeof window<"u"&&window||typeof self<"u"&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},r.isString=function(s){return typeof s=="string"||s instanceof String},r.isObject=function(s){return s&&typeof s=="object"},r.isset=r.isSet=function(s,i){var o=s[i];return!(o==null||!s.hasOwnProperty(i))&&(typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},r.Buffer=function(){try{var s=r.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(s){return typeof s=="number"?r.Buffer?r._Buffer_allocUnsafe(s):new r.Array(s):r.Buffer?r._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},r.Array=typeof Uint8Array<"u"?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(s){return s?r.LongBits.from(s).toHash():r.LongBits.zeroHash},r.longFromHash=function(s,i){var o=r.LongBits.fromHash(s);return r.Long?r.Long.fromBits(o.lo,o.hi,i):o.toNumber(!!i)},r.merge=n,r.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(s){for(var i={},o=0;o<s.length;++o)i[s[o]]=1;return function(){for(var t=Object.keys(this),l=t.length-1;l>-1;--l)if(i[t[l]]===1&&this[t[l]]!==void 0&&this[t[l]]!==null)return t[l]}},r.oneOfSetter=function(s){return function(i){for(var o=0;o<s.length;++o)s[o]!==i&&delete this[s[o]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var s=r.Buffer;s?(r._Buffer_from=s.from!==Uint8Array.from&&s.from||function(i,o){return new s(i,o)},r._Buffer_allocUnsafe=s.allocUnsafe||function(i){return new s(i)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:function(h,O,e){h.exports=function(o){var t=n.codegen(["m"],o.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),l={};o.oneofsArray.length&&t("var p={}");for(var u=0;u<o.fieldsArray.length;++u){var g=o._fieldsArray[u].resolve(),f="m"+n.safeProp(g.name);if(g.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",f,g.name),g.map)t("if(!util.isObject(%s))",f)("return%j",a(g,"object"))("var k=Object.keys(%s)",f)("for(var i=0;i<k.length;++i){"),i(t,g,"k[i]"),s(t,g,u,f+"[k[i]]")("}");else if(g.repeated)t("if(!Array.isArray(%s))",f)("return%j",a(g,"array"))("for(var i=0;i<%s.length;++i){",f),s(t,g,u,f+"[i]")("}");else{if(g.partOf){var d=n.safeProp(g.partOf.name);l[g.partOf.name]===1&&t("if(p%s===1)",d)("return%j",g.partOf.name+": multiple values"),l[g.partOf.name]=1,t("p%s=1",d)}s(t,g,u,f)}g.optional&&t("}")}return t("return null")};var r=e(7025),n=e(9935);function a(o,t){return o.name+": "+t+(o.repeated&&t!=="array"?"[]":o.map&&t!=="object"?"{k:"+o.keyType+"}":"")+" expected"}function s(o,t,l,u){if(t.resolvedType)if(t.resolvedType instanceof r){o("switch(%s){",u)("default:")("return%j",a(t,"enum value"));for(var g=Object.keys(t.resolvedType.values),f=0;f<g.length;++f)o("case %i:",t.resolvedType.values[g[f]]);o("break")("}")}else o("{")("var e=types[%i].verify(%s);",l,u)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.isInteger(%s))",u)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",u,u,u,u)("return%j",a(t,"integer|Long"));break;case"float":case"double":o('if(typeof %s!=="number")',u)("return%j",a(t,"number"));break;case"bool":o('if(typeof %s!=="boolean")',u)("return%j",a(t,"boolean"));break;case"string":o("if(!util.isString(%s))",u)("return%j",a(t,"string"));break;case"bytes":o('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',u,u,u)("return%j",a(t,"buffer"))}return o}function i(o,t,l){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":o("if(!util.key32Re.test(%s))",l)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":o("if(!util.key64Re.test(%s))",l)("return%j",a(t,"integer|Long key"));break;case"bool":o("if(!util.key2Re.test(%s))",l)("return%j",a(t,"boolean key"))}return o}},1667:function(h,O,e){var r=O,n=e(8368);r[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var s=a["@type"].substring(a["@type"].lastIndexOf("/")+1),i=this.lookup(s);if(i){var o=a["@type"].charAt(0)==="."?a["@type"].substr(1):a["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:i.encode(i.fromObject(a)).finish()})}}return this.fromObject(a)},toObject:function(a,s){var i="",o="";if(s&&s.json&&a.type_url&&a.value){o=a.type_url.substring(a.type_url.lastIndexOf("/")+1),i=a.type_url.substring(0,a.type_url.lastIndexOf("/")+1);var t=this.lookup(o);t&&(a=t.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof n){var l=a.$type.toObject(a,s);return i===""&&(i="type.googleapis.com/"),o=i+(a.$type.fullName[0]==="."?a.$type.fullName.substr(1):a.$type.fullName),l["@type"]=o,l}return this.toObject(a,s)}}},1173:function(h,O,e){h.exports=u;var r,n=e(9693),a=n.LongBits,s=n.base64,i=n.utf8;function o(c,I,v){this.fn=c,this.len=I,this.next=void 0,this.val=v}function t(){}function l(c){this.head=c.head,this.tail=c.tail,this.len=c.len,this.next=c.states}function u(){this.len=0,this.head=new o(t,0,0),this.tail=this.head,this.states=null}var g=function(){return n.Buffer?function(){return(u.create=function(){return new r})()}:function(){return new u}};function f(c,I,v){I[v]=255&c}function d(c,I){this.len=c,this.next=void 0,this.val=I}function p(c,I,v){for(;c.hi;)I[v++]=127&c.lo|128,c.lo=(c.lo>>>7|c.hi<<25)>>>0,c.hi>>>=7;for(;c.lo>127;)I[v++]=127&c.lo|128,c.lo=c.lo>>>7;I[v++]=c.lo}function m(c,I,v){I[v]=255&c,I[v+1]=c>>>8&255,I[v+2]=c>>>16&255,I[v+3]=c>>>24}u.create=g(),u.alloc=function(c){return new n.Array(c)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(c,I,v){return this.tail=this.tail.next=new o(c,I,v),this.len+=I,this},d.prototype=Object.create(o.prototype),d.prototype.fn=function(c,I,v){for(;c>127;)I[v++]=127&c|128,c>>>=7;I[v]=c},u.prototype.uint32=function(c){return this.len+=(this.tail=this.tail.next=new d((c>>>=0)<128?1:c<16384?2:c<2097152?3:c<268435456?4:5,c)).len,this},u.prototype.int32=function(c){return c<0?this._push(p,10,a.fromNumber(c)):this.uint32(c)},u.prototype.sint32=function(c){return this.uint32((c<<1^c>>31)>>>0)},u.prototype.uint64=function(c){var I=a.from(c);return this._push(p,I.length(),I)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(c){var I=a.from(c).zzEncode();return this._push(p,I.length(),I)},u.prototype.bool=function(c){return this._push(f,1,c?1:0)},u.prototype.fixed32=function(c){return this._push(m,4,c>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(c){var I=a.from(c);return this._push(m,4,I.lo)._push(m,4,I.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(c){return this._push(n.float.writeFloatLE,4,c)},u.prototype.double=function(c){return this._push(n.float.writeDoubleLE,8,c)};var T=n.Array.prototype.set?function(c,I,v){I.set(c,v)}:function(c,I,v){for(var N=0;N<c.length;++N)I[v+N]=c[N]};u.prototype.bytes=function(c){var I=c.length>>>0;if(!I)return this._push(f,1,0);if(n.isString(c)){var v=u.alloc(I=s.length(c));s.decode(c,v,0),c=v}return this.uint32(I)._push(T,I,c)},u.prototype.string=function(c){var I=i.length(c);return I?this.uint32(I)._push(i.write,I,c):this._push(f,1,0)},u.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new o(t,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(t,0,0),this.len=0),this},u.prototype.ldelim=function(){var c=this.head,I=this.tail,v=this.len;return this.reset().uint32(v),v&&(this.tail.next=c.next,this.tail=I,this.len+=v),this},u.prototype.finish=function(){for(var c=this.head.next,I=this.constructor.alloc(this.len),v=0;c;)c.fn(c.val,I,v),v+=c.len,c=c.next;return I},u._configure=function(c){r=c,u.create=g(),r._configure()}},3155:function(h,O,e){h.exports=a;var r=e(1173);(a.prototype=Object.create(r.prototype)).constructor=a;var n=e(9693);function a(){r.call(this)}function s(i,o,t){i.length<40?n.utf8.write(i,o,t):o.utf8Write?o.utf8Write(i,t):o.write(i,t)}a._configure=function(){a.alloc=n._Buffer_allocUnsafe,a.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(i,o,t){o.set(i,t)}:function(i,o,t){if(i.copy)i.copy(o,t,0,i.length);else for(var l=0;l<i.length;)o[t++]=i[l++]}},a.prototype.bytes=function(i){n.isString(i)&&(i=n._Buffer_from(i,"base64"));var o=i.length>>>0;return this.uint32(o),o&&this._push(a.writeBytesBuffer,o,i),this},a.prototype.string=function(i){var o=n.Buffer.byteLength(i);return this.uint32(o),o&&this._push(s,o,i),this},a._configure()}},__webpack_module_cache__={},deferred;function __webpack_require__(h){var O=__webpack_module_cache__[h];if(O!==void 0)return O.exports;var e=__webpack_module_cache__[h]={exports:{}};return __webpack_modules__[h].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},deferred=[],__webpack_require__.O=function(h,O,e,r){if(!O){var n=1/0;for(o=0;o<deferred.length;o++){O=deferred[o][0],e=deferred[o][1],r=deferred[o][2];for(var a=!0,s=0;s<O.length;s++)(!1&r||n>=r)&&Object.keys(__webpack_require__.O).every(function(t){return __webpack_require__.O[t](O[s])})?O.splice(s--,1):(a=!1,r<n&&(n=r));if(a){deferred.splice(o--,1);var i=e();i!==void 0&&(h=i)}}return h}r=r||0;for(var o=deferred.length;o>0&&deferred[o-1][2]>r;o--)deferred[o]=deferred[o-1];deferred[o]=[O,e,r]},__webpack_require__.n=function(h){var O=h&&h.__esModule?function(){return h.default}:function(){return h};return __webpack_require__.d(O,{a:O}),O},__webpack_require__.d=function(h,O){for(var e in O)__webpack_require__.o(O,e)&&!__webpack_require__.o(h,e)&&Object.defineProperty(h,e,{enumerable:!0,get:O[e]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=function(h,O){return Object.prototype.hasOwnProperty.call(h,O)},__webpack_require__.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},function(){var h={65:0};__webpack_require__.O.j=function(r){return h[r]===0};var O=function(r,n){var a,s,i=n[0],o=n[1],t=n[2],l=0;if(i.some(function(g){return h[g]!==0})){for(a in o)__webpack_require__.o(o,a)&&(__webpack_require__.m[a]=o[a]);if(t)var u=t(__webpack_require__)}for(r&&r(n);l<i.length;l++)s=i[l],__webpack_require__.o(h,s)&&h[s]&&h[s][0](),h[s]=0;return __webpack_require__.O(u)},e=this.webpackChunkwebsdk=this.webpackChunkwebsdk||[];e.forEach(O.bind(null,0)),e.push=O.bind(null,e.push.bind(e))}();var __webpack_exports__={};return function(){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Ee}}),__webpack_require__(9601),__webpack_require__(1539),__webpack_require__(8674),__webpack_require__(2526),__webpack_require__(1817),__webpack_require__(2165),__webpack_require__(6992),__webpack_require__(8783),__webpack_require__(3948),__webpack_require__(8309),__webpack_require__(1532),__webpack_require__(9554),__webpack_require__(4747),__webpack_require__(7941),__webpack_require__(4812),__webpack_require__(3710),__webpack_require__(3843),__webpack_require__(9653),__webpack_require__(2564),__webpack_require__(7327),__webpack_require__(1038),__webpack_require__(9575),__webpack_require__(2472),__webpack_require__(2990),__webpack_require__(8927),__webpack_require__(3105),__webpack_require__(5035),__webpack_require__(4345),__webpack_require__(7174),__webpack_require__(2846),__webpack_require__(4731),__webpack_require__(7209),__webpack_require__(6319),__webpack_require__(8867),__webpack_require__(7789),__webpack_require__(3739),__webpack_require__(9368),__webpack_require__(4483),__webpack_require__(2056),__webpack_require__(3462),__webpack_require__(678),__webpack_require__(7462),__webpack_require__(3824),__webpack_require__(5021),__webpack_require__(2974),__webpack_require__(5016),__webpack_require__(5827);var h=__webpack_require__(3281),O=__webpack_require__.n(h),e=__webpack_require__(3720),r=__webpack_require__.n(e),n=__webpack_require__(2449),a=__webpack_require__(4370),s=__webpack_require__(7360),i=__webpack_require__(1070),o=function(){function re(z,ue,Q){this.handlerData={},this.handlerData={},z.addEventHandler=this.addEventHandler.bind(this),z.removeEventHandler=this.removeEventHandler.bind(this)}return re.prototype.addEventHandler=function(z,ue){this.handlerData[z]=ue},re.prototype.removeEventHandler=function(z){delete this.handlerData[z]},re.prototype.dispatch=function(z,ue){for(var Q in s.kg.debug("dispatch event: "+z,ue||""),this.handlerData){var ne=this.handlerData[Q][z];ne&&ne(ue)}},re}(),t=(__webpack_require__(2222),__webpack_require__(2772),{biz:"",debug:!1,token:""}),l="https://data-reporting.agora.io/report",u="https://data-reporting.sh.agoralab.co/report",g=(__webpack_require__(6699),__webpack_require__(2023),__webpack_require__(2071)),f=__webpack_require__(1595),d=function(re){var z=Number(f.C8[re]);return z===f.C8.USER_LOGIN?"MANUALLOGIN":z===f.C8.MSYNC_SENDMESSAGE?"SENDMESSAGE":z>f.C8.UNKNOWOPERATION&&z<f.C8.REST_OPERATE?"REST":z>f.C8.REST_OPERATE&&z<f.C8.MSYNC_OPERATE?"MESSAGE":z>f.C8.MSYNC_OPERATE&&z<f.C8.ROSTER_OPERATE?"ROSTER":z>f.C8.ROSTER_OPERATE&&z<f.C8.USER_OPERATE?"USER":z>f.C8.USER_OPERATE&&z<f.C8.GROUP_OPERATE?"GROUP":z>f.C8.GROUP_OPERATE&&z<f.C8.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},p=function(){return new Date().getTime()},m=function(re){return[a.iw.BAIDU,a.iw.WX,a.iw.DD,a.iw.ZFB,a.iw.TT,a.iw.QUICK_APP,a.iw.UNI].includes(re.platform)},T=function(){return re=1,z=99999,re=Math.ceil(re),z=Math.floor(z),Math.floor(Math.random()*(z-re))+re;var re,z},c={},I=(__webpack_require__(561),__webpack_require__(1249),function(re,z){var ue={};for(var Q in re)Object.prototype.hasOwnProperty.call(re,Q)&&z.indexOf(Q)<0&&(ue[Q]=re[Q]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function"){var ne=0;for(Q=Object.getOwnPropertySymbols(re);ne<Q.length;ne++)z.indexOf(Q[ne])<0&&Object.prototype.propertyIsEnumerable.call(re,Q[ne])&&(ue[Q[ne]]=re[Q[ne]])}return ue}),v=1e3,N=function(){function re(z){this.eventQueue=[],this.stock=v,this.config=z,this.governor()}return re.prototype.add=function(z){this.stock<=0?console.warn("Event Report limit ".concat(v," per minute")):(this.eventQueue.push(z),this.consume(),this.stock-=1)},re.prototype.consume=function(){var z=this;this.eventQueue.length!==0&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout(function(){var ue,Q=z.eventQueue.splice(0,10),ne=Q.filter(function(Y){return Y.appId===Q[0].appId}),fe=Q.filter(function(Y){return Y.appId!==Q[0].appId});(ue=z.eventQueue).unshift.apply(ue,fe),z.batchSend(ne)},1e3))},re.prototype.governor=function(){var z=this,ue=setInterval(function(){z.stock=v},6e4);typeof addEventListener<"u"&&addEventListener("beforeunload",function(){clearInterval(ue)})},re.prototype.batchSend=function(z){var ue,Q;if(z===void 0&&(z=[]),z.length!==0)try{var ne=z.map(function(fe){fe.biz,fe.appId;var Y=fe.eventId,Oe=I(fe,["biz","appId","eventId"]);return{eventId:Number(Y),body:Oe}});(function(fe,Y){try{var Oe=Y.biz,Ae=Y.appId,Be=Y.data,Ce=Y.debug,Ue=Y.onSuccess;if(!Oe)throw new Error("biz is not defined");c.global||(c=a.P6.getEnvInfo());var ke=c;if(m(ke)){var je={url:Ce?u:l,data:Be,method:"POST",success:function(){Ue==null||Ue()},fail:function(){},complete:function(){}},Ge={token:fe,appid:Ae??"",sendts:"".concat(Math.floor(new Date().getTime()/1e3)),biz:Oe,debug:"".concat(Ce)};if(ke.platform==="zfb"||ke.platform==="dd"?je.headers=Ge:je.header=Ge,ke.platform==="dd")return ke.global.httpRequest(je);ke.global.request(je)}else{var xe=new XMLHttpRequest;xe.onreadystatechange=function(){xe.readyState===2&&(Ue==null||Ue())},xe.open("POST",Ce?u:l),xe.setRequestHeader("Content-Type","application/json"),xe.setRequestHeader("token",fe),xe.setRequestHeader("appid",Ae??""),xe.setRequestHeader("sendts","".concat(Math.floor(new Date().getTime()/1e3))),xe.setRequestHeader("biz",Oe),xe.setRequestHeader("debug","".concat(Ce)),xe.send(JSON.stringify(Be))}}catch(De){console.error(De)}})(this.config.token,{biz:(ue=z[0])===null||ue===void 0?void 0:ue.biz,appId:(Q=z[0])===null||Q===void 0?void 0:Q.appId,data:ne,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(fe){console.error(fe)}},re}(),k=function(){return k=Object.assign||function(re){for(var z,ue=1,Q=arguments.length;ue<Q;ue++)for(var ne in z=arguments[ue])Object.prototype.hasOwnProperty.call(z,ne)&&(re[ne]=z[ne]);return re},k.apply(this,arguments)},A=new(function(){function re(z){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=t,z&&this.init(z)}return re.prototype.init=function(z){var ue;if(z===void 0&&(z={}),!z.biz||!z.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=(ue=z.appId)!==null&&ue!==void 0?ue:"",this.biz=z.biz,this.config=k(k({},t),z),this.eventQueue=new N(this.config),this.log(z),this.inited=!0}catch(Q){console.error(Q)}},re.prototype.send=function(z,ue,Q){var ne;if(ue===void 0&&(ue={}),this.inited){var fe=k(k({},ue),{eventId:Number(z),biz:this.biz,appId:(ne=Q==null?void 0:Q.appId)!==null&&ne!==void 0?ne:this.appId});this.eventQueue.add(fe),this.log(fe)}else console.error("Event Report: init is not called")},re.prototype.log=function(z){try{if(this.config.debug){var ue=z.payload,Q=function(ne,fe){var Y={};for(var Oe in ne)Object.prototype.hasOwnProperty.call(ne,Oe)&&fe.indexOf(Oe)<0&&(Y[Oe]=ne[Oe]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ae=0;for(Oe=Object.getOwnPropertySymbols(ne);Ae<Oe.length;Ae++)fe.indexOf(Oe[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ne,Oe[Ae])&&(Y[Oe[Ae]]=ne[Oe[Ae]])}return Y}(z,["payload"]);console.log("%c Event Report: ".concat(this.config.biz," "),"background: #8A97FC; color: #fff"),console.table(Q),ue&&(console.info("payload:"),console.table(ue))}}catch(ne){console.error(ne)}},re}()),R=function(){return R=Object.assign||function(re){for(var z,ue=1,Q=arguments.length;ue<Q;ue++)for(var ne in z=arguments[ue])Object.prototype.hasOwnProperty.call(z,ne)&&(re[ne]=z[ne]);return re},R.apply(this,arguments)},y={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},U=function(){function re(z){this.platform=a.P6.getEnvInfo(),this.isReportDt=z.isReport||!1,this.isCollectDt=!0,m(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel=g.yK,this.options=function(ue,Q){Q.platform||(Q=a.P6.getEnvInfo());var ne=ue.org,fe=ue.appkey,Y=ue.deviceId,Oe=ue.sdkVersion,Ae=(navigator==null?void 0:navigator.userAgent)||"".concat(Q.platform,"_mini_program");return{org:ne,appkey:fe,deviceId:Y,sdkServiceId:"sid_".concat(a.P6.getUniqueId(),"_").concat(T()),did:Ae,sdkVersion:Oe,os:g.Wc,sdkProduct:f.aC.web}}(z,this.platform),this.sid=this.options.sdkServiceId,this.init(z)}return re.getInstance=function(){return re.instance},re.prototype.getServiceId=function(){return this.sid||"sid_0"},re.prototype.setIsReportDt=function(z){this.isReportDt=z,z&&this.rptEventQueue()},re.prototype.setIsCollectDt=function(z){this.isCollectDt=z,z||(this.eventQueue=[])},re.prototype.rptEventQueue=function(){var z=this;this.eventQueue.length&&this.eventQueue.forEach(function(ue,Q){A.send(ue.eventId,ue.dt),Q>=z.eventQueue.length-1&&(z.eventQueue=[])})},re.prototype.init=function(z){re.instance||(re.instance=this,A.init({biz:g.el,token:g.$x,appId:z.appkey,debug:!1}),this.reportInit())},re.prototype.reportInit=function(){if(this.isCollectDt){var z=this.options,ue=z.did,Q=z.os,ne=z.sdkVersion,fe=z.deviceId;this.reportData(g.iB.INIT,{did:ue,os:Q,sdkVersion:ne,deviceId:fe})}},re.prototype.geOperateFun=function(z){var ue=this;if(!this.isCollectDt)return function(){};var Q=1,ne=0,fe="",Y=p(),Oe=z.uid,Ae=z.operationName;Oe&&(this.uid=Oe);var Be={uid:this.uid,operationId:"opr_".concat(a.P6.getUniqueId(),"_").concat(T()),requestid:"req_".concat(a.P6.getUniqueId(),"_").concat(T()),operationName:Ae};return function(Ce){var Ue,ke,je,Ge;if(Ce.data.isSuccess?(ne=0,fe=""):(Ce.data.code===0&&(Ce.data.code=g.Tp),ne=(Ue=Ce.data.code)!==null&&Ue!==void 0?Ue:ne,fe=(ke=Ce.data.codeDesc)!==null&&ke!==void 0?ke:fe),!((je=Ce.data)===null||je===void 0)&&je.accessChannel&&(ue.accessChannel=(Ge=Ce.data)===null||Ge===void 0?void 0:Ge.accessChannel),Ce.isRetry?(Q++,Ce.data.subrequestid="".concat(Q)):(Be.requestid="req_".concat(a.P6.getUniqueId(),"_").concat(T()),Q=1),Ce.data.isLastApi){var xe=p();Ce.data.requestElapse=xe-Y,Ce.data.requestMethod="",Ce.data.subrequestid="0",Ce.data.code=ne===200?0:ne,Ce.data.codeDesc=fe}else Ce.data.requestName||(Ce.data.requestName=Ae);Ce.data.requestElapse||(Ce.data.requestElapse=p()-Y),ue.reportData.call(ue,g.iB.API,R(R(R(R({},y),Be),Ce.data),{accessChannel:ue.accessChannel,operationType:d(Ae)})),Ce.isEndApi&&ue.reportData.call(ue,g.iB.API,R(R(R({},Be),y),{isSuccess:Ce.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:ne===200?0:ne,codeDesc:fe,requestElapse:Ce.data.requestElapse,accessChannel:ue.accessChannel,operationType:d(Ae)}))}},re.prototype.reportData=function(z,ue){return Q=this,ne=void 0,Y=function(){var Oe,Ae,Be,Ce,Ue,ke,je,Ge;return function(xe,De){var ge,be,Ie,Se,D={label:0,sent:function(){if(1&Ie[0])throw Ie[1];return Ie[1]},trys:[],ops:[]};return Se={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(Se[Symbol.iterator]=function(){return this}),Se;function q(w){return function(X){return function(E){if(ge)throw new TypeError("Generator is already executing.");for(;D;)try{if(ge=1,be&&(Ie=2&E[0]?be.return:E[0]?be.throw||((Ie=be.return)&&Ie.call(be),0):be.next)&&!(Ie=Ie.call(be,E[1])).done)return Ie;switch(be=0,Ie&&(E=[2&E[0],Ie.value]),E[0]){case 0:case 1:Ie=E;break;case 4:return D.label++,{value:E[1],done:!1};case 5:D.label++,be=E[1],E=[0];continue;case 7:E=D.ops.pop(),D.trys.pop();continue;default:if(!((Ie=(Ie=D.trys).length>0&&Ie[Ie.length-1])||E[0]!==6&&E[0]!==2)){D=0;continue}if(E[0]===3&&(!Ie||E[1]>Ie[0]&&E[1]<Ie[3])){D.label=E[1];break}if(E[0]===6&&D.label<Ie[1]){D.label=Ie[1],Ie=E;break}if(Ie&&D.label<Ie[2]){D.label=Ie[2],D.ops.push(E);break}Ie[2]&&D.ops.pop(),D.trys.pop();continue}E=De.call(xe,D)}catch(b){E=[6,b],be=0}finally{ge=Ie=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([w,X])}}}(this,function(xe){switch(xe.label){case 0:return xe.trys.push([0,3,,4]),Oe=p(),Ae=0,z!==g.iB.API?[3,2]:[4,(De=this.platform,new Promise(function(ge){var be;De.platform||(De=a.P6.getEnvInfo());var Ie="";if(De.platform===a.iw.WEB){var Se=navigator.connection;Se!=null&&Se.type?(Se==null||Se.type,Ie=f.td.WIFI):Se!=null&&Se.effectiveType&&(Ie=f.td[Se.effectiveType.toLocaleUpperCase()]),ge(Ie)}else De.platform===a.iw.NODE?(Ie=f.td.UNKNOWN,ge(Ie)):(be=De.global)===null||be===void 0||be.getNetworkType({success:function(D){Ie=f.td[D.networkType.toLocaleUpperCase()],ge(Ie)}})}))];case 1:Ae=xe.sent(),xe.label=2;case 2:return Be=this.options,Ce=Be.appkey,Ue=Be.sdkServiceId,ke=Be.sdkProduct,je=R({lts:Oe,net:Ae,appkey:Ce,sdkServiceId:Ue,sdkProduct:ke},ue),this.isReportDt?A.send(z,je):this.isCollectDt&&this.eventQueue.push({eventId:z,dt:je}),[3,4];case 3:return Ge=xe.sent(),console.warn(Ge),[3,4];case 4:return[2]}var De})},new((fe=void 0)||(fe=Promise))(function(Oe,Ae){function Be(ke){try{Ue(Y.next(ke))}catch(je){Ae(je)}}function Ce(ke){try{Ue(Y.throw(ke))}catch(je){Ae(je)}}function Ue(ke){var je;ke.done?Oe(ke.value):(je=ke.value,je instanceof fe?je:new fe(function(Ge){Ge(je)})).then(Be,Ce)}Ue((Y=Y.apply(Q,ne||[])).next())});var Q,ne,fe,Y},re}(),L=__webpack_require__(7252),j=__webpack_require__(5531),H=__webpack_require__(8161);function ee(re){return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},ee(re)}var F=function(){return F=Object.assign||function(re){for(var z,ue=1,Q=arguments.length;ue<Q;ue++)for(var ne in z=arguments[ue])Object.prototype.hasOwnProperty.call(z,ne)&&(re[ne]=z[ne]);return re},F.apply(this,arguments)},K=function(re,z,ue,Q){return new(ue||(ue=Promise))(function(ne,fe){function Y(Be){try{Ae(Q.next(Be))}catch(Ce){fe(Ce)}}function Oe(Be){try{Ae(Q.throw(Be))}catch(Ce){fe(Ce)}}function Ae(Be){var Ce;Be.done?ne(Be.value):(Ce=Be.value,Ce instanceof ue?Ce:new ue(function(Ue){Ue(Ce)})).then(Y,Oe)}Ae((Q=Q.apply(re,z||[])).next())})},Z=function(re,z){var ue,Q,ne,fe,Y={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return fe={next:Oe(0),throw:Oe(1),return:Oe(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Oe(Ae){return function(Be){return function(Ce){if(ue)throw new TypeError("Generator is already executing.");for(;Y;)try{if(ue=1,Q&&(ne=2&Ce[0]?Q.return:Ce[0]?Q.throw||((ne=Q.return)&&ne.call(Q),0):Q.next)&&!(ne=ne.call(Q,Ce[1])).done)return ne;switch(Q=0,ne&&(Ce=[2&Ce[0],ne.value]),Ce[0]){case 0:case 1:ne=Ce;break;case 4:return Y.label++,{value:Ce[1],done:!1};case 5:Y.label++,Q=Ce[1],Ce=[0];continue;case 7:Ce=Y.ops.pop(),Y.trys.pop();continue;default:if(!((ne=(ne=Y.trys).length>0&&ne[ne.length-1])||Ce[0]!==6&&Ce[0]!==2)){Y=0;continue}if(Ce[0]===3&&(!ne||Ce[1]>ne[0]&&Ce[1]<ne[3])){Y.label=Ce[1];break}if(Ce[0]===6&&Y.label<ne[1]){Y.label=ne[1],ne=Ce;break}if(ne&&Y.label<ne[2]){Y.label=ne[2],Y.ops.push(Ce);break}ne[2]&&Y.ops.pop(),Y.trys.pop();continue}Ce=z.call(re,Y)}catch(Ue){Ce=[6,Ue],Q=0}finally{ue=ne=0}if(5&Ce[0])throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}([Ae,Be])}}};O().util.Long=r(),O().configure();var oe=O().Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9},editMessageId:{type:"uint64",id:11}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21},subType:{type:"SubType",id:22},title:{type:"string",id:23},summary:{type:"string",id:24},combineLevel:{type:"int32",id:25}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7,COMBINE:8}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}},SubType:{values:{COMBINE:0}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7,EDIT:8}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{type:"KeyValue",id:8},meta:{type:"bytes",id:9},directedUsers:{rule:"repeated",type:"string",id:10}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1,ROUTE_DIRECT:2}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44,GROUP_MEMBER_METADATA_UPDATE:45}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}}),le=function(){function re(z){var ue,Q,ne;if(this.name="miniCore",this.heartBeatWait=3e4,this.Message=n.Message,this.Code=j.E,this.getUniqueId=a.Ki,this._queues=[],this._load_msg_cache=[],this.max_cache_length=100,this.isReport=!1,this.dnsIndex=0,this.autoReconnectNumTotal=0,this.times=1,this.url=(ue=z.url)!==null&&ue!==void 0?ue:"",this.apiUrl=(Q=z.apiUrl)!==null&&Q!==void 0?Q:"",this.isHttpDNS=!!z.isHttpDNS,this.appKey=z.appKey,this.root=oe,this.isHttpDNS=z.isHttpDNS===void 0||z.isHttpDNS,this.https=typeof window<"u"&&((ne=window.location)===null||ne===void 0?void 0:ne.protocol)==="https:",this.delivery=z.delivery||!1,this.restIndex=0,this.hostIndex=0,this.autoReconnectNumMax=z.autoReconnectNumMax||5,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.unMSyncSendMsgMap=new Map,this.socketHost=[],this.reconnecting=!1,this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"],this.version="4.2.0-mini",this.deviceId=z.deviceId||"webim",this.logOut=!0,this.osType=16,this.compressType=[0],this.encryptType=[0],this._msgHash={},this.closeInfo=null,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this.mSync=this.usePlugin(i.Z),this.eventHandler=this.usePlugin(o),typeof this.appKey!="string"||this.appKey.split("#").length!==2)throw Error("Illegal appKey: ".concat(this.appKey));var fe=this.appKey.split("#");this.orgName=fe[0],this.appName=fe[1],this.dataReport=new U({appkey:this.appKey,org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport})}return re.prototype.usePlugin=function(z,ue){var Q=this;if(typeof z=="function"){if(!ue)return new z(this);this[ue]=new z(this)}else ee(z)==="object"&&(ue?(this[ue]={},Object.keys(z).forEach(function(ne){Q[ue][ne]=z[ne].bind(Q)})):Object.assign(this,z))},re.prototype.isOpened=function(){return this.sock&&this.sock.readyState===1||!1},re.prototype.open=function(z){return K(this,void 0,void 0,function(){return Z(this,function(ue){if(this.isOpened.call(this))throw L.Z.create({type:j.E.WEBIM_CONNCTION_OPEN_ERROR,message:"You are already logged in"});return[2,this._open(z)]})})},re.prototype._open=function(z,ue){return K(this,void 0,void 0,function(){var Q,ne,fe,Y,Oe,Ae,Be,Ce,Ue,ke,je,Ge,xe,De,ge,be,Ie,Se;return Z(this,function(D){switch(D.label){case 0:if(this.setContext(z),this.logOut=!1,!z.username||typeof z.username!="string")throw new Error("Invalid parameter username: ".concat(z.username));return Q=this.dataReport.geOperateFun({uid:z.username,operationName:f.fI.LOGIN}),!this.isHttpDNS||ue?[3,2]:[4,this.getDNS({rpt:Q,isRetry:!!ue})];case 1:D.sent(),D.label=2;case 2:return ne=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/token",z.agoraToken?(this.grantType="agoraToken",[4,de(this.getChatToken(z.agoraToken))]):[3,4];case 3:if(fe=D.sent(),Ue=fe[0],ke=fe[1],Ue)throw Y=L.Z.create({type:j.E.WEBIM_CONNCTION_GETROSTER_ERROR,message:"get chat token fail",data:Ue.data}),Oe=Ue.extraInfo,be=Oe.elapse,ge=Oe.httpCode,Ge=Oe.errDesc,Ie={requestName:f.c.LOGIN_BY_AGORA_TOKEN,requestUrl:ne,requestElapse:be,isSuccess:0,code:ge,codeDesc:Ge},Q({data:Ie}),Q({data:{isLastApi:1,isSuccess:0}}),delete Ue.extraInfo,Y;return this.grantType="agoraToken",this.user=z.username,this.expirationTime=ke.expire_timestamp,this.token=ke.access_token,this.context.accessToken=ke.access_token,this.context.restTokenData=ke.access_token,Ae=ke.extraInfo||{},ge=Ae.httpCode,be=Ae.elapse,Ie={requestName:f.c.LOGIN_BY_AGORA_TOKEN,requestUrl:ne,requestElapse:be,isSuccess:1,code:ge},Q({data:Ie}),[3,7];case 4:return z.password?(Be={headers:{"Content-type":"application/json"},url:ne,dataType:"json",data:JSON.stringify({grant_type:"password",username:z.username,password:z.password,timestamp:+new Date})},[4,de(a.P6.ajax(Be,f.fI.SDK_INTERNAL))]):[3,6];case 5:if(Ce=D.sent(),Ue=Ce[0],ke=Ce[1],Ue){if(je=(Ue==null?void 0:Ue.extraInfo)||{},be=je.elapse,ge=je.httpCode,Ge=je.errDesc,xe={requestName:f.c.LOGIN_BY_PWD,requestElapse:be,requestUrl:ne,isSuccess:0,code:ge,codeDesc:Ge},Q({isRetry:!1,data:xe}),this.isHttpDNS&&this.restIndex+1<this.restTotal)return this.restIndex++,this.setRestUrl(),this._open(z,!0),[2];throw Q({data:{isLastApi:1,isSuccess:0}}),this.clear(),delete Ue.extraInfo,Ue}if(!ke)throw new Error("get token fail.");return this.expiresIn=ke.expires_in,this.grantType="password",this.token=ke.access_token,this.user=z.username,this.context.accessToken=ke.access_token,this.clearTokenTimeout(),this.tokenExpireTimeCountDown(1e3*this.expiresIn),ke.extraInfo&&(De=ke.extraInfo,ge=De.httpCode,be=De.elapse,Ie={requestName:f.c.LOGIN_BY_PWD,requestElapse:be,requestUrl:ne,isSuccess:1,code:ge},Q({isRetry:!1,data:Ie})),[3,7];case 6:if(!z.accessToken)throw new Error("Invalid parameter params: ".concat(z));this.grantType="accessToken",this.token=z.accessToken,this.context.accessToken=z.accessToken,this.context.restTokenData=z.accessToken,this.user=z.username,D.label=7;case 7:return(Se=new WebSocket(this.url)).binaryType="arraybuffer",this.sock=Se,this.initEventHandle(Se,Q),[2]}})})},re.prototype.initEventHandle=function(z,ue){var Q=this;z.onopen=function(){var ne;ue({data:{isLastApi:1,isSuccess:1,accessChannel:(ne=Q.socketHost[Q.hostIndex])===null||ne===void 0?void 0:ne.channel}}),(0,a.P4)(Q.online.bind(Q),Q.offline.bind(Q));var fe=Q.mSync.generateProvision();z.send(fe)},z.onclose=function(ne){var fe,Y,Oe,Ae,Be,Ce;s.kg.debug("websocket onclose");var Ue=(ne==null?void 0:ne.code)===401||((fe=Q.closeInfo)===null||fe===void 0?void 0:fe.code)===401;if(Q.logOut)Q.clear(),(Y=Q.eventHandler)===null||Y===void 0||Y.dispatch("onDisconnected"),Q.resetConnState(),Ue&&(s.kg.debug("websocket provision error"),Q.closeInfo=null);else if(Ue){s.kg.debug("websocket provision error");var ke={type:j.E.WEBIM_CONNECTION_ERROR,message:"provision error",data:ne};Q.closeInfo=null,(Oe=Q.eventHandler)===null||Oe===void 0||Oe.dispatch("onError",ke),Q.onClosed&&Q.onClosed(),(Ae=Q.eventHandler)===null||Ae===void 0||Ae.dispatch("onDisconnected"),Q.resetConnState()}else if(Q.autoReconnectNumTotal<Q.autoReconnectNumMax)Q.reconnect(),Q.autoReconnectNumTotal%Q.refreshDNSIntervals==0&&Q.isHttpDNS&&(s.kg.debug("refresh dns config when websocket close"),Q.getDNS({isRetry:!1}));else{var je={type:j.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};(Be=Q.unMSyncSendMsgMap)===null||Be===void 0||Be.clear(),Q.rejectMessage(),(Ce=Q.eventHandler)===null||Ce===void 0||Ce.dispatch("onDisconnected",je),Q.resetConnState(),Q.reconnecting=!1,s.kg.debug("reconnect fail")}},z.onmessage=function(ne){var fe=Q.mSync,Y=fe.decodeMSync,Oe=fe.distributeMSync;a.P6.flow([Y,Oe])(ne,!1)},z.onerror=function(ne){var fe,Y,Oe;if(s.kg.debug("websocket onerror"),!Q.logOut&&Q.sock.readyState!==3)if(Q.autoReconnectNumTotal<Q.autoReconnectNumMax)s.kg.debug("sock.onError reconnect",Q.autoReconnectNumTotal,Q.autoReconnectNumMax),Q.reconnect(),Q.autoReconnectNumTotal%Q.refreshDNSIntervals==0&&Q.isHttpDNS&&(s.kg.debug("refresh dns config when websocket error"),Q.getDNS({rpt:ue,isRetry:!1}));else{var Ae={type:j.E.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};(fe=Q.unMSyncSendMsgMap)===null||fe===void 0||fe.clear(),Q.rejectMessage(),(Y=Q.eventHandler)===null||Y===void 0||Y.dispatch("onDisconnected",Ae),Q.resetConnState(),Q.reconnecting=!1,s.kg.debug("reconnect fail")}ue({data:{isLastApi:1,isSuccess:0,accessChannel:(Oe=Q.socketHost[Q.hostIndex])===null||Oe===void 0?void 0:Oe.channel}})}},re.prototype.close=function(){var z;this.logOut=!0,this.reconnecting=!1,this.context.status=j.E.STATUS_CLOSING,this.sock&&this.sock.close(),(z=this.unMSyncSendMsgMap)===null||z===void 0||z.clear(),this.stopHeartBeat(),this.rejectMessage(),this.rejectContactsOperate(),this.context.status=j.E.STATUS_CLOSED,this._load_msg_cache=[],this._queues=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken=""},re.prototype.registerUser=function(z){return K(this,void 0,void 0,function(){var ue,Q,ne,fe,Y,Oe,Ae,Be,Ce,Ue,ke,je,Ge,xe;return Z(this,function(De){switch(De.label){case 0:return ue=this.dataReport.geOperateFun({uid:z.username,operationName:f.fI.REGISTER}),this.isHttpDNS?[4,this.getDNS({rpt:ue,isRetry:!1})]:[3,2];case 1:De.sent(),De.label=2;case 2:return Q=this.apiUrl,ne=Q+"/"+this.orgName+"/"+this.appName+"/users",fe=JSON.stringify({username:z.username,password:z.password,nickname:z.nickname||""}),Y={headers:{"Content-type":"application/json"},url:ne,dataType:"json",data:fe},[4,de(a.P6.ajax(Y,f.fI.SDK_INTERNAL))];case 3:if(Oe=De.sent(),Ae=Oe[0],Be=Oe[1],Ce={requestName:f.c.RESISTER,requestUrl:ne},Ae){if(Ue=Ae.extraInfo||{},Ge=Ue.httpCode,xe=Ue.elapse,ke=Ue.errDesc,ue({isRetry:!1,data:F(F({},{requestElapse:xe,isSuccess:0,code:Ge,codeDesc:ke}),Ce)}),!(this.isHttpDNS&&this.restIndex+1<this.restTotal))throw ue({data:{isLastApi:1,isSuccess:0}}),delete Ae.extraInfo,Ae;return this.restIndex++,this.setRestUrl(),this.registerUser(z),[2,Ae]}if(!Be)throw new Error("register user fail.");return je=Be.extraInfo||{},Ge=je.httpCode,xe=je.elapse,ue({isEndApi:!0,isRetry:!1,data:F(F({},{requestElapse:xe,isSuccess:1,code:Ge}),Ce)}),[2,{data:Be==null?void 0:Be.entities[0],type:0}]}})})},re.prototype.renewToken=function(z){var ue=this;return this.isOpened()?this.getChatToken(z).then(function(Q){var ne=Date.now();return ue.expirationTime=Q.expire_timestamp,ue.expiresIn=Q.expire_timestamp-ne,ue.token=Q.access_token,ue.context.accessToken=Q.access_token,ue.clearTokenTimeout(),ue.tokenExpireTimeCountDown(ue.expiresIn),{status:!0,token:Q.access_token,expire:Q.expire_timestamp}}):Promise.reject({status:!1})},re.prototype.getChatToken=function(z){if(typeof z!="string"||z==="")throw Error('Invalid parameter: "agoraToken"');var ue=this.context,Q=ue.orgName,ne=ue.appName,fe={url:this.apiUrl+"/"+Q+"/"+ne+"/token",dataType:"json",type:"POST",data:JSON.stringify({grant_type:"agora"}),headers:{Authorization:"Bearer "+z,"Content-Type":"application/json"}};return s.kg.debug("Call getChatToken",z),a.P6.ajax(fe,f.fI.SDK_INTERNAL)},re.prototype.clearTokenTimeout=function(){s.kg.debug("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer)},re.prototype.compareTokenExpireTime=function(z,ue){var Q,ne=Number(ue)-Number(z);s.kg.debug("compareTokenExpireTime",ne),ne<=this.expiresIn/2&&ne>0?((Q=this.eventHandler)===null||Q===void 0||Q.dispatch("onTokenWillExpire"),s.kg.info("onTokenWillExpire",ne)):ne<=0&&(this.closeByTokenExpired(),s.kg.info("closeByTokenExpired",ne))},re.prototype.closeByTokenExpired=function(){var z;s.kg.info("closed By TokenExpired"),(z=this.eventHandler)===null||z===void 0||z.dispatch("onTokenExpired"),this.close()},re.prototype.tokenExpireTimeCountDown=function(z){var ue=this;z>Math.pow(2,31)-1&&(z=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout(function(){var Q;(Q=ue.eventHandler)===null||Q===void 0||Q.dispatch("onTokenWillExpire"),s.kg.info("onTokenWillExpire",z)},z/2),this.tokenExpiredTimer=setTimeout(function(){var Q;s.kg.info("onTokenExpired",z),(Q=ue.eventHandler)===null||Q===void 0||Q.dispatch("onTokenExpired"),ue.close()},z)},re.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},re.prototype.setContext=function(z){this.context.jid={appKey:this.appKey,name:z.username,domain:this.context.jid.domain,clientResource:this.clientResource};var ue=this.appKey.split("#"),Q=ue[0],ne=ue[1];this.context.root=this.root,this.context.userId=z.username,this.context.appKey=this.appKey,this.context.appName=ne,this.context.orgName=Q},re.prototype.getDNS=function(z){return K(this,void 0,void 0,function(){var ue,Q,ne,fe,Y,Oe,Ae,Be,Ce,Ue,ke,je,Ge,xe,De,ge,be,Ie,Se,D,q;return Z(this,function(w){switch(w.label){case 0:return ue=z.rpt,Q=z.isRetry,ne=this.dnsArr[this.dnsIndex]+"/easemob/server.json",fe={url:ne,dataType:"json",type:"GET",data:{app_key:encodeURIComponent(this.appKey)}},[4,de(a.P6.ajax(fe,f.fI.SDK_INTERNAL))];case 1:if(Y=w.sent(),Oe=Y[0],Ae=Y[1],Oe){if(Be=Oe.extraInfo||{},Ce=Be.elapse,Ue=Be.httpCode,ke=Be.errDesc,je={requestUrl:ne,requestName:f.c.GET_DNS,isSuccess:0,code:Ue,codeDesc:ke,requestElapse:Ce},ue&&ue({isRetry:Q,data:je}),s.kg.debug("getHttpDNS fail: "+this.dnsIndex),this.dnsIndex++,this.dnsIndex<this.dnsTotal)return this.getDNS({rpt:ue,isRetry:!0}),[2];throw new Error("get DNS config fail.")}if(!Ae)throw new Error("get DNS config fail.");return Ge=Ae.extraInfo||{},xe=Ge.elapse,De=Ge.httpCode,ge={requestUrl:ne,requestName:f.c.GET_DNS,requestElapse:xe,isSuccess:1,code:De},ue&&ue({isRetry:Q,data:ge}),be=Ae.rest.hosts,Ie=this.https?"https":"http",Se=be.filter(function(X){if(X.protocol===Ie)return X}),this.restHosts=Se,D=Ae["msync-wx"].hosts,q=D.filter(function(X){if(X.protocol===Ie)return X}),this.socketHost=q,(Ae==null?void 0:Ae.enableDataReport)==="true"?(this.dataReport.setIsCollectDt(!0),this.dataReport.setIsReportDt(!0)):(this.dataReport.setIsReportDt(!1),this.dataReport.setIsCollectDt(!1)),this.setRestUrl(),this.setSocketUrl(),[2]}})})},re.prototype.setRestUrl=function(){var z,ue;if(this.restIndex>this.restHosts.length)return s.kg.debug("restIndex > restTotal"),"";var Q="",ne=this.restHosts[this.restIndex],fe=ne.domain,Y=ne.ip,Oe=ne.port,Ae=this.https?"https:":"http:";return Y&&typeof window<"u"&&((z=window==null?void 0:window.location)===null||z===void 0?void 0:z.protocol)==="http:"?Q=Ae+"//"+Y+":"+Oe:(Q=Ae+"//"+fe,Oe&&Oe!=="80"&&Oe!=="443"&&(Q+=":".concat(Oe)),typeof window>"u"||window.location||(Q="https://"+fe),typeof window<"u"&&window.location&&((ue=window.location)===null||ue===void 0?void 0:ue.protocol)==="file:"&&(Q="https://"+fe)),typeof window>"u"&&(Q=Ae+"//"+fe),this.apiUrl=Q,Q},re.prototype.setSocketUrl=function(){var z=this.socketHost[this.hostIndex],ue=z.domain,Q=z.ip,ne=z.port,fe="";fe=ue||Q,ne&&ne!=="80"&&ne!=="443"&&(fe+=":"+ne),fe&&(this.url="//"+fe+"/websocket");var Y=this.https?"wss:":"ws:";this.url=Y+this.url},re.prototype.online=function(){var z;s.kg.debug("online"),(z=this.eventHandler)===null||z===void 0||z.dispatch("onOnline"),this.sock&&this.sock.readyState!==1&&(s.kg.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())},re.prototype.offline=function(){var z;s.kg.debug("offline"),(z=this.eventHandler)===null||z===void 0||z.dispatch("onOffline")},re.prototype.rejectMessage=function(){var z=this,ue=Object.keys(this._msgHash);if(ue.length>0){var Q=L.Z.create({type:j.E.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});ue.forEach(function(ne){var fe;!((fe=z.unMSyncSendMsgMap)===null||fe===void 0)&&fe.has(ne)||(z._msgHash[ne].reject instanceof Function&&z._msgHash[ne].reject(Q),z._msgHash[ne].fail instanceof Function&&z._msgHash[ne].fail(Q),delete z._msgHash[ne])})}},re.prototype.rejectContactsOperate=function(){Array.from(g.Nl.values()).forEach(function(z){z==null||z.reject()}),g.Nl.clear()},re.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},re.prototype.reconnect=function(){var z,ue=this;this.sock.readyState!==0&&this.sock.readyState!==1&&(this.reconnecting===!1&&(this.reconnecting=!0),(z=this.eventHandler)===null||z===void 0||z.dispatch("onReconnecting"),s.kg.info("reconnect times: ",this.times),s.kg.info("reconnect sock.readyState: ",this.sock.readyState),this.rejectMessage(),this.rejectContactsOperate(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1),setTimeout(function(){ue.sock.readyState!==1&&(s.kg.info("login sock.readyState: ",ue.sock.readyState),ue.sock.close(),ue._open({username:ue.context.userId,accessToken:ue.context.accessToken},!0),ue.times++)},500*this.times),this.autoReconnectNumTotal++)},re.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},re.prototype.downloadAndParseCombineMessage=function(z){var ue=this,Q=z.url,ne=z.secret;return new Promise(function(fe,Y){var Oe,Ae,Be=a.P6.getEnvInfo(),Ce=Be.platform!=="web"&&Be.platform!=="node"&&Be.platform!=="quick_app"&&((Ae=(Oe=Be.global)===null||Oe===void 0?void 0:Oe.canIUse)===null||Ae===void 0?void 0:Ae.call(Oe,"getFileSystemManager")),Ue=function(je){var Ge=function(Ie){Y({message:"Read file failed",data:Ie})},xe=function(Ie){var Se=Ce?new Uint8Array(Ie.data):new Uint8Array(Ie.target.result),D=0,q=0,w=2,X=Se.subarray(D,D+w),E=a.P6.Uint8ArrayToString(X);s.kg.debug("file header:",E),q+=w;for(var b=0,x=2;x<Se.length-1;x++)x%2==1&&(b^=Se[x]);var C=Se.subarray(Se.length-1,Se.length);if(s.kg.debug("checkResult:",b,C[0]===b),C[0]!==b)return Y({message:"File verification failed"});if(E!=="cm")return Y({message:"File verification failed"});try{for(var P=[],_=function(){D+=w,q+=w=4;var S=Se.subarray(D,D+w);D+=w,w=S.reduce(function(te,ce,ye){return te+(ce<<8*(S.length-ye-1))},0),q+=w;var W=Se.subarray(D,D+w),M=ue.root.lookup("easemob.pb.Meta");M=M.decode(W);var G=H.Z.call(ue,M,0,!0,!0);P.push(G)};q<Se.length-1;)_();return fe(P)}catch(S){Y({message:"Parse file failed",data:S})}};if(Ce){var De=Be.global.getFileSystemManager(),ge=je.tempFilePath;De.readFile({filePath:ge,success:xe,fail:Ge})}else if(je instanceof Blob){var be=new FileReader;be.readAsArrayBuffer(je),be.onerror=Ge,be.onload=xe}},ke=function(je){Y({type:j.E.WEBIM_DOWNLOADFILE_ERROR,message:"Download failed, please try again",data:je})};Ce?Be.global.downloadFile({url:Q,success:Ue,fail:ke}):a.P6.download.call(ue,{url:Q,headers:{Accept:"application/json"},onFileDownloadComplete:Ue,onFileDownloadError:ke,secret:ne,accessToken:ue.context.accessToken})})},re}(),de=function(re){return re.then(function(z){return[null,z]}).catch(function(z){return[z,null]})},Ee=le}(),__webpack_exports__=__webpack_require__.O(__webpack_exports__),__webpack_exports__}()})})(miniCore);var miniCoreExports=miniCore.exports;const MiniCore=getDefaultExportFromCjs(miniCoreExports);console.log("MiniCore",MiniCore);let EMClient={};const initEMClient=h=>(EMClient=new EaseSDK.connection({appKey:h}),mountEaseIMListener(EMClient),EMClient),index="",message="",MessageList=()=>{const h=[0,1,2,3,4,5,6,7];return vue.createVNode("div",null,[h.length&&h.map(O=>vue.createVNode("p",null,[O]))])},InputBarContainer=vue.defineComponent({name:"MessageContainer",setup(){return()=>vue.createVNode(vue.Fragment,null,[vue.createVNode("div",{class:"message_container"},[vue.createVNode(MessageList,null,null)])])}});console.log("EMClient",EMClient);const EasemobChatroom=vue.defineComponent({name:"EasemobChatroom",props:{username:{type:String,default:"",required:!0},password:{type:String,default:""},accessToken:{type:String,default:""}},setup(h){const O=async()=>{if(EMClient)try{h.accessToken?await EMClient.open({user:h.username,accessToken:h.accessToken}):await EMClient.open({user:h.username,pwd:h.password})}catch(r){throw`${r.data.message}`}},e=async()=>{console.log(">>>>>断开连接")};return vue.onMounted(()=>{O()}),{loginIM:O,closeIM:e}},render(){return vue.createVNode(vue.Fragment,null,[vue.createVNode("div",{class:"easemob_chatroom_container"},[vue.createVNode(InputBarContainer,null,null),vue.createVNode(InputBarContainer,null,null)])])}}),install={install:(h,O)=>{if(console.log(h),console.log("options",O),O&&(O!=null&&O.appKey))initEMClient(O.appKey);else throw console.error("appKey不能为空");h.component(EasemobChatroom.name,EasemobChatroom)}};return install});
